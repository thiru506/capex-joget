
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&N(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=q.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=Y.call(this,c[0],"y"),c[1]=Y.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=oe()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",V(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",V(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&N(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){{o.data(a)}X.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),X.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),K(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),K(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=ee(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(N(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),V(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),V(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),R.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}L.call(this),P.call(this),i.advanced.autoScrollOnFocus&&z.call(this),i.scrollButtons.enable&&H.call(this),i.keyboard.enable&&U.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!W()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),K(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),K(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=W()&&t.target.ownerDocument!==top.document?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;V(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,v=u.advanced.extraDraggableSelectors?e(!W()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!W()||top.document);p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),Z(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),N(l),n=e(this);var a=n.offset(),d=O(o)[0]-a.top,f=O(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f),C(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;o(i,r,a,l)}),e(document).add(v).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;if(i===a&&r===l)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(e){n&&(C(n,"active",u.autoExpandScrollbar),n=null),c=!1,s&&(document.onselectstart=null),t(!0)})},D=function(){function o(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if($(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),R.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],A,n,"y","all",!0),B.overflowed[1]&&s(w[1],A,n,"x",L,!0)}}function i(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),N(y),p=G();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],R=[]}function r(e){if($(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],R[R.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&V(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],R=[],A=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,F(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(e){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(e){t||(i&&(i=0,n("off",null)),c=!1)})},R=function(){function t(t,a){if(N(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=t.deltaX||t.deltaY||a;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),V(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},W=function(e){var t=null;if(e){try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t}try{var o=top.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},L=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){N(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-.9*u*l.width()}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-.9*u*l.height()}V(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(o){var a=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;a.is(n.advanced.autoScrollOnFocus)&&(N(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[te(a)[0],te(a)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-a.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-a.outerWidth(!1)],c="yx"!==n.axis||i[0]||i[1]?"all":"none";"x"===n.axis||i[0]||V(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s}),"y"===n.axis||i[1]||V(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(t){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,F(t,e,o)}if(a.preventDefault(),Z(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},U=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||F(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){N(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},F=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),V(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),K(f,"step"),N(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],N(t),ee(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},q=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},Y=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?te(m)[1]:te(m)[0];case"string":case"number":if(ee(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&ee(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?te(m)[1]:te(m)[0]}return e(t).length?"x"===o?te(e(t))[1]:te(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void K(f[0],"autoUpdate")):void o()},j=function(e,t,o){return Math.round(e/t)*t-o},N=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){J.call(this)})},V=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?q.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?q.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=j(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),Q(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),(s.tweenRunning||!(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0]))&&Q(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},Q=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=G()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=G(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},K=function(e,t){try{delete e[t]}catch(o){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},$=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).load(function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+te(n)[0]>=0&&a[0]+te(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+te(n)[1]>=0&&a[1]+te(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});

!function(factory){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],factory):factory("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function($){"use strict";function init(options){return!options||void 0!==options.allowPageScroll||void 0===options.swipe&&void 0===options.swipeStatus||(options.allowPageScroll=NONE),void 0!==options.click&&void 0===options.tap&&(options.tap=options.click),options||(options={}),options=$.extend({},$.fn.swipe.defaults,options),this.each(function(){var $this=$(this),plugin=$this.data(PLUGIN_NS);plugin||(plugin=new TouchSwipe(this,options),$this.data(PLUGIN_NS,plugin))})}function TouchSwipe(element,options){function touchStart(jqEvent){if(!(getTouchInProgress()||$(jqEvent.target).closest(options.excludedElements,$element).length>0)){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(!event.pointerType||"mouse"!=event.pointerType||0!=options.fallbackToMouseEvents){var ret,touches=event.touches,evt=touches?touches[0]:event;return phase=PHASE_START,touches?fingerCount=touches.length:options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),distance=0,direction=null,currentDirection=null,pinchDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,maximumsMap=createMaximumsData(),cancelMultiFingerRelease(),createFingerData(0,evt),!touches||fingerCount===options.fingers||options.fingers===ALL_FINGERS||hasPinches()?(startTime=getTimeStamp(),2==fingerCount&&(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase))):ret=!1,ret===!1?(phase=PHASE_CANCEL,triggerHandler(event,phase),ret):(options.hold&&(holdTimeout=setTimeout($.proxy(function(){$element.trigger("hold",[event.target]),options.hold&&(ret=options.hold.call($element,event,event.target))},this),options.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase!==PHASE_END&&phase!==PHASE_CANCEL&&!inMultiFingerRelease()){var ret,touches=event.touches,evt=touches?touches[0]:event,currentFinger=updateFingerData(evt);if(endTime=getTimeStamp(),touches&&(fingerCount=touches.length),options.hold&&clearTimeout(holdTimeout),phase=PHASE_MOVE,2==fingerCount&&(0==startTouchesDistance?(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)):(updateFingerData(touches[1]),endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end),pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end)),pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance),pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance)),fingerCount===options.fingers||options.fingers===ALL_FINGERS||!touches||hasPinches()){if(direction=calculateDirection(currentFinger.start,currentFinger.end),currentDirection=calculateDirection(currentFinger.last,currentFinger.end),validateDefaultEvent(jqEvent,currentDirection),distance=calculateDistance(currentFinger.start,currentFinger.end),duration=calculateDuration(),setMaxDistance(direction,distance),ret=triggerHandler(event,phase),!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=!0;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds)}!options.triggerOnTouchEnd&&inBounds?phase=getNextPhase(PHASE_MOVE):options.triggerOnTouchLeave&&!inBounds&&(phase=getNextPhase(PHASE_END)),phase!=PHASE_CANCEL&&phase!=PHASE_END||triggerHandler(event,phase)}}else phase=PHASE_CANCEL,triggerHandler(event,phase);ret===!1&&(phase=PHASE_CANCEL,triggerHandler(event,phase))}}function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease())return startMultiFingerRelease(event),!0;if(touches.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(fingerCount=fingerCountAtRelease),endTime=getTimeStamp(),duration=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?(phase=PHASE_CANCEL,triggerHandler(event,phase)):options.triggerOnTouchEnd||options.triggerOnTouchEnd===!1&&phase===PHASE_MOVE?(options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),phase=PHASE_END,triggerHandler(event,phase)):!options.triggerOnTouchEnd&&hasTap()?(phase=PHASE_END,triggerHandlerForGesture(event,phase,TAP)):phase===PHASE_MOVE&&(phase=PHASE_CANCEL,triggerHandler(event,phase)),setTouchInProgress(!1),null}function touchCancel(){fingerCount=0,endTime=0,startTime=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;options.triggerOnTouchLeave&&(phase=getNextPhase(PHASE_END),triggerHandler(event,phase))}function removeListeners(){$element.unbind(START_EV,touchStart),$element.unbind(CANCEL_EV,touchCancel),$element.unbind(MOVE_EV,touchMove),$element.unbind(END_EV,touchEnd),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave),setTouchInProgress(!1)}function getNextPhase(currentPhase){var nextPhase=currentPhase,validTime=validateSwipeTime(),validDistance=validateSwipeDistance(),didCancel=didSwipeBackToCancel();return!validTime||didCancel?nextPhase=PHASE_CANCEL:!validDistance||currentPhase!=PHASE_MOVE||options.triggerOnTouchEnd&&!options.triggerOnTouchLeave?!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave&&(nextPhase=PHASE_CANCEL):nextPhase=PHASE_END,nextPhase}function triggerHandler(event,phase){var ret,touches=event.touches;return(didSwipe()||hasSwipes())&&(ret=triggerHandlerForGesture(event,phase,SWIPE)),(didPinch()||hasPinches())&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,PINCH)),didDoubleTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP):didLongTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,LONG_TAP):didTap()&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,TAP)),phase===PHASE_CANCEL&&touchCancel(event),phase===PHASE_END&&(touches?touches.length||touchCancel(event):touchCancel(event)),ret}function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){if($element.trigger("swipeStatus",[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]),options.swipeStatus&&(ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection),ret===!1))return!1;if(phase==PHASE_END&&validateSwipe()){if(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),$element.trigger("swipe",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipe&&(ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection),ret===!1))return!1;switch(direction){case LEFT:$element.trigger("swipeLeft",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeLeft&&(ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case RIGHT:$element.trigger("swipeRight",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeRight&&(ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case UP:$element.trigger("swipeUp",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeUp&&(ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case DOWN:$element.trigger("swipeDown",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeDown&&(ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection))}}}if(gesture==PINCH){if($element.trigger("pinchStatus",[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchStatus&&(ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData),ret===!1))return!1;if(phase==PHASE_END&&validatePinch())switch(pinchDirection){case IN:$element.trigger("pinchIn",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchIn&&(ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData));break;case OUT:$element.trigger("pinchOut",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchOut&&(ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData))}}return gesture==TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),hasDoubleTap()&&!inDoubleTap()?(doubleTapStartTime=getTimeStamp(),singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target))},this),options.doubleTapThreshold)):(doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target)))):gesture==DOUBLE_TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),doubleTapStartTime=null,$element.trigger("doubletap",[event.target]),options.doubleTap&&(ret=options.doubleTap.call($element,event,event.target))):gesture==LONG_TAP&&(phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("longtap",[event.target]),options.longTap&&(ret=options.longTap.call($element,event,event.target)))),ret}function validateSwipeDistance(){var valid=!0;return null!==options.threshold&&(valid=distance>=options.threshold),valid}function didSwipeBackToCancel(){var cancelled=!1;return null!==options.cancelThreshold&&null!==direction&&(cancelled=getMaxDistance(direction)-distance>=options.cancelThreshold),cancelled}function validatePinchDistance(){return null!==options.pinchThreshold?pinchDistance>=options.pinchThreshold:!0}function validateSwipeTime(){var result;return result=options.maxTimeThreshold?!(duration>=options.maxTimeThreshold):!0}function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents!==!1)if(options.allowPageScroll===NONE)jqEvent.preventDefault();else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:(options.swipeLeft&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case RIGHT:(options.swipeRight&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case UP:(options.swipeUp&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case DOWN:(options.swipeDown&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case NONE:}}}function validatePinch(){var hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance}function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut)}function didPinch(){return!(!validatePinch()||!hasPinches())}function validateSwipe(){var hasValidTime=validateSwipeTime(),hasValidDistance=validateSwipeDistance(),hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),didCancel=didSwipeBackToCancel(),valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid}function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown)}function didSwipe(){return!(!validateSwipe()||!hasSwipes())}function validateFingers(){return fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function validateEndPoint(){return 0!==fingerData[0].end.x}function hasTap(){return!!options.tap}function hasDoubleTap(){return!!options.doubleTap}function hasLongTap(){return!!options.longTap}function validateDoubleTap(){if(null==doubleTapStartTime)return!1;var now=getTimeStamp();return hasDoubleTap()&&now-doubleTapStartTime<=options.doubleTapThreshold}function inDoubleTap(){return validateDoubleTap()}function validateTap(){return(1===fingerCount||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold)}function validateLongTap(){return duration>options.longTapThreshold&&DOUBLE_TAP_THRESHOLD>distance}function didTap(){return!(!validateTap()||!hasTap())}function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}function didLongTap(){return!(!validateLongTap()||!hasLongTap())}function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp(),fingerCountAtRelease=event.touches.length+1}function cancelMultiFingerRelease(){previousTouchEndTime=0,fingerCountAtRelease=0}function inMultiFingerRelease(){var withinThreshold=!1;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime;diff<=options.fingerReleaseThreshold&&(withinThreshold=!0)}return withinThreshold}function getTouchInProgress(){return!($element.data(PLUGIN_NS+"_intouch")!==!0)}function setTouchInProgress(val){$element&&(val===!0?($element.bind(MOVE_EV,touchMove),$element.bind(END_EV,touchEnd),LEAVE_EV&&$element.bind(LEAVE_EV,touchLeave)):($element.unbind(MOVE_EV,touchMove,!1),$element.unbind(END_EV,touchEnd,!1),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave,!1)),$element.data(PLUGIN_NS+"_intouch",val===!0))}function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX,f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY,fingerData[id]=f,f}function updateFingerData(evt){var id=void 0!==evt.identifier?evt.identifier:0,f=getFingerData(id);return null===f&&(f=createFingerData(id,evt)),f.last.x=f.end.x,f.last.y=f.end.y,f.end.x=evt.pageX||evt.clientX,f.end.y=evt.pageY||evt.clientY,f}function getFingerData(id){return fingerData[id]||null}function setMaxDistance(direction,distance){direction!=NONE&&(distance=Math.max(distance,getMaxDistance(direction)),maximumsMap[direction].distance=distance)}function getMaxDistance(direction){return maximumsMap[direction]?maximumsMap[direction].distance:void 0}function createMaximumsData(){var maxData={};return maxData[LEFT]=createMaximumVO(LEFT),maxData[RIGHT]=createMaximumVO(RIGHT),maxData[UP]=createMaximumVO(UP),maxData[DOWN]=createMaximumVO(DOWN),maxData}function createMaximumVO(dir){return{direction:dir,distance:0}}function calculateDuration(){return endTime-startTime}function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x),diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY))}function calculatePinchZoom(startDistance,endDistance){var percent=endDistance/startDistance*1;return percent.toFixed(2)}function calculatePinchDirection(){return 1>pinchZoom?OUT:IN}function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)))}function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x,y=endPoint.y-startPoint.y,r=Math.atan2(y,x),angle=Math.round(180*r/Math.PI);return 0>angle&&(angle=360-Math.abs(angle)),angle}function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint))return NONE;var angle=calculateAngle(startPoint,endPoint);return 45>=angle&&angle>=0?LEFT:360>=angle&&angle>=315?LEFT:angle>=135&&225>=angle?RIGHT:angle>45&&135>angle?DOWN:UP}function getTimeStamp(){var now=new Date;return now.getTime()}function getbounds(el){el=$(el);var offset=el.offset(),bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()};return bounds}function isInBounds(point,bounds){return point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom}function comparePoints(pointA,pointB){return pointA.x==pointB.x&&pointA.y==pointB.y}var options=$.extend({},options),useTouchEvents=SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents,START_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",MOVE_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",END_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",LEAVE_EV=useTouchEvents?SUPPORTS_POINTER?"mouseleave":null:"mouseleave",CANCEL_EV=SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null,$element=$(element),phase="start",fingerCount=0,fingerData={},startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0,singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel)}catch(e){$.error("events not supported "+START_EV+","+CANCEL_EV+" on jQuery.swipe")}this.enable=function(){return this.disable(),$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel),$element},this.disable=function(){return removeListeners(),$element},this.destroy=function(){removeListeners(),$element.data(PLUGIN_NS,null),$element=null},this.option=function(property,value){if("object"==typeof property)options=$.extend(options,property);else if(void 0!==options[property]){if(void 0===value)return options[property];options[property]=value}else{if(!property)return options;$.error("Option "+property+" does not exist on jQuery.swipe.options")}return null}}var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&"string"==typeof method){if(plugin[method])return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));$.error("Method "+method+" does not exist on jQuery.swipe")}else if(plugin&&"object"==typeof method)plugin.option.apply(plugin,arguments);else if(!(plugin||"object"!=typeof method&&method))return init.apply(this,arguments);return $this},$.fn.swipe.version=VERSION,$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS}});

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],function(){return b.apply(a)}):"object"==typeof exports?module.exports=b.call(a):a.Waves=b.call(a)}("object"==typeof global?global:this,function(){"use strict";function a(a){return null!==a&&a===a.window}function b(b){return a(b)?b:9===b.nodeType&&b.defaultView}function c(a){var b=typeof a;return"function"===b||"object"===b&&!!a}function d(a){return c(a)&&a.nodeType>0}function e(a){var b=m.call(a);return"[object String]"===b?l(a):c(a)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(b)&&a.hasOwnProperty("length")?a:d(a)?[a]:[]}function f(a){var c,d,e={top:0,left:0},f=a&&a.ownerDocument;return c=f.documentElement,"undefined"!=typeof a.getBoundingClientRect&&(e=a.getBoundingClientRect()),d=b(f),{top:e.top+d.pageYOffset-c.clientTop,left:e.left+d.pageXOffset-c.clientLeft}}function g(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function h(a,b,c){if(c){c.classList.remove("waves-rippling");var d=c.getAttribute("data-x"),e=c.getAttribute("data-y"),f=c.getAttribute("data-scale"),h=c.getAttribute("data-translate"),i=Date.now()-Number(c.getAttribute("data-hold")),j=350-i;0>j&&(j=0),"mousemove"===a.type&&(j=150);var k="mousemove"===a.type?2500:o.duration;setTimeout(function(){var a={top:e+"px",left:d+"px",opacity:"0","-webkit-transition-duration":k+"ms","-moz-transition-duration":k+"ms","-o-transition-duration":k+"ms","transition-duration":k+"ms","-webkit-transform":f+" "+h,"-moz-transform":f+" "+h,"-ms-transform":f+" "+h,"-o-transform":f+" "+h,transform:f+" "+h};c.setAttribute("style",g(a)),setTimeout(function(){try{b.removeChild(c)}catch(a){return!1}},k)},j)}}function i(a){if(q.allowEvent(a)===!1)return null;for(var b=null,c=a.target||a.srcElement;null!==c.parentElement;){if(c.classList.contains("waves-effect")&&!(c instanceof SVGElement)){b=c;break}c=c.parentElement}return b}function j(a){var b=i(a);if(null!==b){if(b.disabled||b.getAttribute("disabled")||b.classList.contains("disabled"))return;if(q.registerEvent(a),"touchstart"===a.type&&o.delay){var c=!1,d=setTimeout(function(){d=null,o.show(a,b)},o.delay),e=function(e){d&&(clearTimeout(d),d=null,o.show(a,b)),c||(c=!0,o.hide(e,b))},f=function(a){d&&(clearTimeout(d),d=null),e(a)};b.addEventListener("touchmove",f,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)}else o.show(a,b),n&&(b.addEventListener("touchend",o.hide,!1),b.addEventListener("touchcancel",o.hide,!1)),b.addEventListener("mouseup",o.hide,!1),b.addEventListener("mouseleave",o.hide,!1)}}var k=k||{},l=document.querySelectorAll.bind(document),m=Object.prototype.toString,n="ontouchstart"in window,o={duration:750,delay:200,show:function(a,b,c){if(2===a.button)return!1;b=b||this;var d=document.createElement("div");d.className="waves-ripple waves-rippling",b.appendChild(d);var e=f(b),h=0,i=0;"touches"in a&&a.touches.length?(h=a.touches[0].pageY-e.top,i=a.touches[0].pageX-e.left):(h=a.pageY-e.top,i=a.pageX-e.left),i=i>=0?i:0,h=h>=0?h:0;var j="scale("+b.clientWidth/100*3+")",k="translate(0,0)";c&&(k="translate("+c.x+"px, "+c.y+"px)"),d.setAttribute("data-hold",Date.now()),d.setAttribute("data-x",i),d.setAttribute("data-y",h),d.setAttribute("data-scale",j),d.setAttribute("data-translate",k);var l={top:h+"px",left:i+"px"};d.classList.add("waves-notransition"),d.setAttribute("style",g(l)),d.classList.remove("waves-notransition"),l["-webkit-transform"]=j+" "+k,l["-moz-transform"]=j+" "+k,l["-ms-transform"]=j+" "+k,l["-o-transform"]=j+" "+k,l.transform=j+" "+k,l.opacity="1";var m="mousemove"===a.type?2500:o.duration;l["-webkit-transition-duration"]=m+"ms",l["-moz-transition-duration"]=m+"ms",l["-o-transition-duration"]=m+"ms",l["transition-duration"]=m+"ms",d.setAttribute("style",g(l))},hide:function(a,b){b=b||this;for(var c=b.getElementsByClassName("waves-rippling"),d=0,e=c.length;e>d;d++)h(a,b,c[d])}},p={input:function(a){var b=a.parentNode;if("i"!==b.tagName.toLowerCase()||!b.classList.contains("waves-effect")){var c=document.createElement("i");c.className=a.className+" waves-input-wrapper",a.className="waves-button-input",b.replaceChild(c,a),c.appendChild(a);var d=window.getComputedStyle(a,null),e=d.color,f=d.backgroundColor;c.setAttribute("style","color:"+e+";background:"+f),a.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(a){var b=a.parentNode;if("i"!==b.tagName.toLowerCase()||!b.classList.contains("waves-effect")){var c=document.createElement("i");b.replaceChild(c,a),c.appendChild(a)}}},q={touches:0,allowEvent:function(a){var b=!0;return/^(mousedown|mousemove)$/.test(a.type)&&q.touches&&(b=!1),b},registerEvent:function(a){var b=a.type;"touchstart"===b?q.touches+=1:/^(touchend|touchcancel)$/.test(b)&&setTimeout(function(){q.touches&&(q.touches-=1)},500)}};return k.init=function(a){var b=document.body;a=a||{},"duration"in a&&(o.duration=a.duration),"delay"in a&&(o.delay=a.delay),n&&(b.addEventListener("touchstart",j,!1),b.addEventListener("touchcancel",q.registerEvent,!1),b.addEventListener("touchend",q.registerEvent,!1)),b.addEventListener("mousedown",j,!1)},k.attach=function(a,b){a=e(a),"[object Array]"===m.call(b)&&(b=b.join(" ")),b=b?" "+b:"";for(var c,d,f=0,g=a.length;g>f;f++)c=a[f],d=c.tagName.toLowerCase(),-1!==["input","img"].indexOf(d)&&(p[d](c),c=c.parentElement),-1===c.className.indexOf("waves-effect")&&(c.className+=" waves-effect"+b)},k.ripple=function(a,b){a=e(a);var c=a.length;if(b=b||{},b.wait=b.wait||0,b.position=b.position||null,c)for(var d,g,h,i={},j=0,k={type:"mousedown",button:1},l=function(a,b){return function(){o.hide(a,b)}};c>j;j++)if(d=a[j],g=b.position||{x:d.clientWidth/2,y:d.clientHeight/2},h=f(d),i.x=h.left+g.x,i.y=h.top+g.y,k.pageX=i.x,k.pageY=i.y,o.show(k,d),b.wait>=0&&null!==b.wait){var m={type:"mouseup",button:1};setTimeout(l(m,d),b.wait)}},k.calm=function(a){a=e(a);for(var b={type:"mouseup",button:1},c=0,d=a.length;d>c;c++)o.hide(b,a[c])},k.displayEffect=function(a){k.init(a)},k});

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.less=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var addDataAttr=require("./utils").addDataAttr,browser=require("./browser");module.exports=function(window,options){addDataAttr(options,browser.currentScript(window));if(options.isFileProtocol===undefined){options.isFileProtocol=/^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(window.location.protocol);}
options.async=options.async||false;options.fileAsync=options.fileAsync||false;options.poll=options.poll||(options.isFileProtocol?1000:1500);options.env=options.env||(window.location.hostname=='127.0.0.1'||window.location.hostname=='0.0.0.0'||window.location.hostname=='localhost'||(window.location.port&&window.location.port.length>0)||options.isFileProtocol?'development':'production');var dumpLineNumbers=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(window.location.hash);if(dumpLineNumbers){options.dumpLineNumbers=dumpLineNumbers[1];}
if(options.useFileCache===undefined){options.useFileCache=true;}
if(options.onReady===undefined){options.onReady=true;}};},{"./browser":3,"./utils":10}],2:[function(require,module,exports){require('promise/polyfill.js');var options=window.less||{};require("./add-default-options")(window,options);var less=module.exports=require("./index")(window,options);window.less=less;var css,head,style;function resolveOrReject(data){if(data.filename){console.warn(data);}
if(!options.async){head.removeChild(style);}}
if(options.onReady){if(/!watch/.test(window.location.hash)){less.watch();}
if(!options.async){css='body { display: none !important }';head=document.head||document.getElementsByTagName('head')[0];style=document.createElement('style');style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=css;}else{style.appendChild(document.createTextNode(css));}
head.appendChild(style);}
less.registerStylesheetsImmediately();less.pageLoadFinished=less.refresh(less.env==='development').then(resolveOrReject,resolveOrReject);}},{"./add-default-options":1,"./index":8,"promise/polyfill.js":97}],3:[function(require,module,exports){var utils=require("./utils");module.exports={createCSS:function(document,styles,sheet){var href=sheet.href||'';var id='less:'+(sheet.title||utils.extractId(href));var oldStyleNode=document.getElementById(id);var keepOldStyleNode=false;var styleNode=document.createElement('style');styleNode.setAttribute('type','text/css');if(sheet.media){styleNode.setAttribute('media',sheet.media);}
styleNode.id=id;if(!styleNode.styleSheet){styleNode.appendChild(document.createTextNode(styles));keepOldStyleNode=(oldStyleNode!==null&&oldStyleNode.childNodes.length>0&&styleNode.childNodes.length>0&&oldStyleNode.firstChild.nodeValue===styleNode.firstChild.nodeValue);}
var head=document.getElementsByTagName('head')[0];if(oldStyleNode===null||keepOldStyleNode===false){var nextEl=sheet&&sheet.nextSibling||null;if(nextEl){nextEl.parentNode.insertBefore(styleNode,nextEl);}else{head.appendChild(styleNode);}}
if(oldStyleNode&&keepOldStyleNode===false){oldStyleNode.parentNode.removeChild(oldStyleNode);}
if(styleNode.styleSheet){try{styleNode.styleSheet.cssText=styles;}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.");}}},currentScript:function(window){var document=window.document;return document.currentScript||(function(){var scripts=document.getElementsByTagName("script");return scripts[scripts.length-1];})();}};},{"./utils":10}],4:[function(require,module,exports){module.exports=function(window,options,logger){var cache=null;if(options.env!=='development'){try{cache=(typeof window.localStorage==='undefined')?null:window.localStorage;}catch(_){}}
return{setCSS:function(path,lastModified,modifyVars,styles){if(cache){logger.info('saving '+path+' to cache.');try{cache.setItem(path,styles);cache.setItem(path+':timestamp',lastModified);if(modifyVars){cache.setItem(path+':vars',JSON.stringify(modifyVars));}}catch(e){logger.error('failed to save "'+path+'" to local storage for caching.');}}},getCSS:function(path,webInfo,modifyVars){var css=cache&&cache.getItem(path),timestamp=cache&&cache.getItem(path+':timestamp'),vars=cache&&cache.getItem(path+':vars');modifyVars=modifyVars||{};if(timestamp&&webInfo.lastModified&&(new Date(webInfo.lastModified).valueOf()===new Date(timestamp).valueOf())&&(!modifyVars&&!vars||JSON.stringify(modifyVars)===vars)){return css;}}};};},{}],5:[function(require,module,exports){var utils=require("./utils"),browser=require("./browser");module.exports=function(window,less,options){function errorHTML(e,rootHref){var id='less-error-message:'+utils.extractId(rootHref||"");var template='<li><label>{line}</label><pre class="{class}">{content}</pre></li>';var elem=window.document.createElement('div'),timer,content,errors=[];var filename=e.filename||rootHref;var filenameNoPath=filename.match(/([^\/]+(\?.*)?)$/)[1];elem.id=id;elem.className="less-error-message";content='<h3>'+(e.type||"Syntax")+"Error: "+(e.message||'There is an error in your .less file')+'</h3>'+'<p>in <a href="'+filename+'">'+filenameNoPath+"</a> ";var errorline=function(e,i,classname){if(e.extract[i]!==undefined){errors.push(template.replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,classname).replace(/\{content\}/,e.extract[i]));}};if(e.extract){errorline(e,0,'');errorline(e,1,'line');errorline(e,2,'');content+='on line '+e.line+', column '+(e.column+1)+':</p>'+'<ul>'+errors.join('')+'</ul>';}
if(e.stack&&(e.extract||options.logLevel>=4)){content+='<br/>Stack Trace</br />'+e.stack.split('\n').slice(1).join('<br/>');}
elem.innerHTML=content;browser.createCSS(window.document,['.less-error-message ul, .less-error-message li {','list-style-type: none;','margin-right: 15px;','padding: 4px 0;','margin: 0;','}','.less-error-message label {','font-size: 12px;','margin-right: 15px;','padding: 4px 0;','color: #cc7777;','}','.less-error-message pre {','color: #dd6666;','padding: 4px 0;','margin: 0;','display: inline-block;','}','.less-error-message pre.line {','color: #ff0000;','}','.less-error-message h3 {','font-size: 20px;','font-weight: bold;','padding: 15px 0 5px 0;','margin: 0;','}','.less-error-message a {','color: #10a','}','.less-error-message .error {','color: red;','font-weight: bold;','padding-bottom: 2px;','border-bottom: 1px dashed red;','}'].join('\n'),{title:'error-message'});elem.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(';');if(options.env==='development'){timer=setInterval(function(){var document=window.document,body=document.body;if(body){if(document.getElementById(id)){body.replaceChild(elem,document.getElementById(id));}else{body.insertBefore(elem,body.firstChild);}
clearInterval(timer);}},10);}}
function removeErrorHTML(path){var node=window.document.getElementById('less-error-message:'+utils.extractId(path));if(node){node.parentNode.removeChild(node);}}
function removeErrorConsole(path){}
function removeError(path){if(!options.errorReporting||options.errorReporting==="html"){removeErrorHTML(path);}else if(options.errorReporting==="console"){removeErrorConsole(path);}else if(typeof options.errorReporting==='function'){options.errorReporting("remove",path);}}
function errorConsole(e,rootHref){var template='{line} {content}';var filename=e.filename||rootHref;var errors=[];var content=(e.type||"Syntax")+"Error: "+(e.message||'There is an error in your .less file')+" in "+filename+" ";var errorline=function(e,i,classname){if(e.extract[i]!==undefined){errors.push(template.replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,classname).replace(/\{content\}/,e.extract[i]));}};if(e.extract){errorline(e,0,'');errorline(e,1,'line');errorline(e,2,'');content+='on line '+e.line+', column '+(e.column+1)+':\n'+
errors.join('\n');}
if(e.stack&&(e.extract||options.logLevel>=4)){content+='\nStack Trace\n'+e.stack;}
less.logger.error(content);}
function error(e,rootHref){if(!options.errorReporting||options.errorReporting==="html"){errorHTML(e,rootHref);}else if(options.errorReporting==="console"){errorConsole(e,rootHref);}else if(typeof options.errorReporting==='function'){options.errorReporting("add",e,rootHref);}}
return{add:error,remove:removeError};};},{"./browser":3,"./utils":10}],6:[function(require,module,exports){module.exports=function(options,logger){var AbstractFileManager=require("../less/environment/abstract-file-manager.js");var fileCache={};function getXMLHttpRequest(){if(window.XMLHttpRequest&&(window.location.protocol!=="file:"||!("ActiveXObject"in window))){return new XMLHttpRequest();}else{try{return new ActiveXObject("Microsoft.XMLHTTP");}catch(e){logger.error("browser doesn't support AJAX.");return null;}}}
var FileManager=function(){};FileManager.prototype=new AbstractFileManager();FileManager.prototype.alwaysMakePathsAbsolute=function alwaysMakePathsAbsolute(){return true;};FileManager.prototype.join=function join(basePath,laterPath){if(!basePath){return laterPath;}
return this.extractUrlParts(laterPath,basePath).path;};FileManager.prototype.doXHR=function doXHR(url,type,callback,errback){var xhr=getXMLHttpRequest();var async=options.isFileProtocol?options.fileAsync:true;if(typeof xhr.overrideMimeType==='function'){xhr.overrideMimeType('text/css');}
logger.debug("XHR: Getting '"+url+"'");xhr.open('GET',url,async);xhr.setRequestHeader('Accept',type||'text/x-less, text/css; q=0.9, */*; q=0.5');xhr.send(null);function handleResponse(xhr,callback,errback){if(xhr.status>=200&&xhr.status<300){callback(xhr.responseText,xhr.getResponseHeader("Last-Modified"));}else if(typeof errback==='function'){errback(xhr.status,url);}}
if(options.isFileProtocol&&!options.fileAsync){if(xhr.status===0||(xhr.status>=200&&xhr.status<300)){callback(xhr.responseText);}else{errback(xhr.status,url);}}else if(async){xhr.onreadystatechange=function(){if(xhr.readyState==4){handleResponse(xhr,callback,errback);}};}else{handleResponse(xhr,callback,errback);}};FileManager.prototype.supports=function(filename,currentDirectory,options,environment){return true;};FileManager.prototype.clearFileCache=function(){fileCache={};};FileManager.prototype.loadFile=function loadFile(filename,currentDirectory,options,environment,callback){if(currentDirectory&&!this.isPathAbsolute(filename)){filename=currentDirectory+filename;}
options=options||{};var hrefParts=this.extractUrlParts(filename,window.location.href);var href=hrefParts.url;if(options.useFileCache&&fileCache[href]){try{var lessText=fileCache[href];callback(null,{contents:lessText,filename:href,webInfo:{lastModified:new Date()}});}catch(e){callback({filename:href,message:"Error loading file "+href+" error was "+e.message});}
return;}
this.doXHR(href,options.mime,function doXHRCallback(data,lastModified){fileCache[href]=data;callback(null,{contents:data,filename:href,webInfo:{lastModified:lastModified}});},function doXHRError(status,url){callback({type:'File',message:"'"+url+"' wasn't found ("+status+")",href:href});});};return FileManager;};},{"../less/environment/abstract-file-manager.js":15}],7:[function(require,module,exports){module.exports=function(){var functionRegistry=require("./../less/functions/function-registry");function imageSize(){throw{type:"Runtime",message:"Image size functions are not supported in browser version of less"};}
var imageFunctions={"image-size":function(filePathNode){imageSize(this,filePathNode);return-1;},"image-width":function(filePathNode){imageSize(this,filePathNode);return-1;},"image-height":function(filePathNode){imageSize(this,filePathNode);return-1;}};functionRegistry.addMultiple(imageFunctions);};},{"./../less/functions/function-registry":22}],8:[function(require,module,exports){var addDataAttr=require("./utils").addDataAttr,browser=require("./browser");module.exports=function(window,options){var document=window.document;var less=require('../less')();less.options=options;var environment=less.environment,FileManager=require("./file-manager")(options,less.logger),fileManager=new FileManager();environment.addFileManager(fileManager);less.FileManager=FileManager;require("./log-listener")(less,options);var errors=require("./error-reporting")(window,less,options);var cache=less.cache=options.cache||require("./cache")(window,options,less.logger);require('./image-size')(less.environment);if(options.functions){less.functions.functionRegistry.addMultiple(options.functions);}
var typePattern=/^text\/(x-)?less$/;function postProcessCSS(styles){if(options.postProcessor&&typeof options.postProcessor==='function'){styles=options.postProcessor.call(styles,styles)||styles;}
return styles;}
function clone(obj){var cloned={};for(var prop in obj){if(obj.hasOwnProperty(prop)){cloned[prop]=obj[prop];}}
return cloned;}
function bind(func,thisArg){var curryArgs=Array.prototype.slice.call(arguments,2);return function(){var args=curryArgs.concat(Array.prototype.slice.call(arguments,0));return func.apply(thisArg,args);};}
function loadStyles(modifyVars){var styles=document.getElementsByTagName('style'),style;for(var i=0;i<styles.length;i++){style=styles[i];if(style.type.match(typePattern)){var instanceOptions=clone(options);instanceOptions.modifyVars=modifyVars;var lessText=style.innerHTML||'';instanceOptions.filename=document.location.href.replace(/#.*$/,'');less.render(lessText,instanceOptions,bind(function(style,e,result){if(e){errors.add(e,"inline");}else{style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=result.css;}else{style.innerHTML=result.css;}}},null,style));}}}
function loadStyleSheet(sheet,callback,reload,remaining,modifyVars){var instanceOptions=clone(options);addDataAttr(instanceOptions,sheet);instanceOptions.mime=sheet.type;if(modifyVars){instanceOptions.modifyVars=modifyVars;}
function loadInitialFileCallback(loadedFile){var data=loadedFile.contents,path=loadedFile.filename,webInfo=loadedFile.webInfo;var newFileInfo={currentDirectory:fileManager.getPath(path),filename:path,rootFilename:path,relativeUrls:instanceOptions.relativeUrls};newFileInfo.entryPath=newFileInfo.currentDirectory;newFileInfo.rootpath=instanceOptions.rootpath||newFileInfo.currentDirectory;if(webInfo){webInfo.remaining=remaining;var css=cache.getCSS(path,webInfo,instanceOptions.modifyVars);if(!reload&&css){webInfo.local=true;callback(null,css,data,sheet,webInfo,path);return;}}
errors.remove(path);instanceOptions.rootFileInfo=newFileInfo;less.render(data,instanceOptions,function(e,result){if(e){e.href=path;callback(e);}else{result.css=postProcessCSS(result.css);cache.setCSS(sheet.href,webInfo.lastModified,instanceOptions.modifyVars,result.css);callback(null,result.css,data,sheet,webInfo,path);}});}
fileManager.loadFile(sheet.href,null,instanceOptions,environment,function(e,loadedFile){if(e){callback(e);return;}
loadInitialFileCallback(loadedFile);});}
function loadStyleSheets(callback,reload,modifyVars){for(var i=0;i<less.sheets.length;i++){loadStyleSheet(less.sheets[i],callback,reload,less.sheets.length-(i+1),modifyVars);}}
function initRunningMode(){if(less.env==='development'){less.watchTimer=setInterval(function(){if(less.watchMode){fileManager.clearFileCache();loadStyleSheets(function(e,css,_,sheet,webInfo){if(e){errors.add(e,e.href||sheet.href);}else if(css){browser.createCSS(window.document,css,sheet);}});}},options.poll);}}
less.watch=function(){if(!less.watchMode){less.env='development';initRunningMode();}
this.watchMode=true;return true;};less.unwatch=function(){clearInterval(less.watchTimer);this.watchMode=false;return false;};less.registerStylesheetsImmediately=function(){var links=document.getElementsByTagName('link');less.sheets=[];for(var i=0;i<links.length;i++){if(links[i].rel==='stylesheet/less'||(links[i].rel.match(/stylesheet/)&&(links[i].type.match(typePattern)))){less.sheets.push(links[i]);}}};less.registerStylesheets=function(){return new Promise(function(resolve,reject){less.registerStylesheetsImmediately();resolve();});};less.modifyVars=function(record){return less.refresh(true,record,false);};less.refresh=function(reload,modifyVars,clearFileCache){if((reload||clearFileCache)&&clearFileCache!==false){fileManager.clearFileCache();}
return new Promise(function(resolve,reject){var startTime,endTime,totalMilliseconds,remainingSheets;startTime=endTime=new Date();remainingSheets=less.sheets.length;if(remainingSheets===0){endTime=new Date();totalMilliseconds=endTime-startTime;less.logger.info("Less has finished and no sheets were loaded.");resolve({startTime:startTime,endTime:endTime,totalMilliseconds:totalMilliseconds,sheets:less.sheets.length});}else{loadStyleSheets(function(e,css,_,sheet,webInfo){if(e){errors.add(e,e.href||sheet.href);reject(e);return;}
if(webInfo.local){less.logger.info("Loading "+sheet.href+" from cache.");}else{less.logger.info("Rendered "+sheet.href+" successfully.");}
browser.createCSS(window.document,css,sheet);less.logger.info("CSS for "+sheet.href+" generated in "+(new Date()-endTime)+'ms');remainingSheets--;if(remainingSheets===0){totalMilliseconds=new Date()-startTime;less.logger.info("Less has finished. CSS generated in "+totalMilliseconds+'ms');resolve({startTime:startTime,endTime:endTime,totalMilliseconds:totalMilliseconds,sheets:less.sheets.length});}
endTime=new Date();},reload,modifyVars);}
loadStyles(modifyVars);});};less.refreshStyles=loadStyles;return less;};},{"../less":31,"./browser":3,"./cache":4,"./error-reporting":5,"./file-manager":6,"./image-size":7,"./log-listener":9,"./utils":10}],9:[function(require,module,exports){module.exports=function(less,options){var logLevel_debug=4,logLevel_info=3,logLevel_warn=2,logLevel_error=1;options.logLevel=typeof options.logLevel!=='undefined'?options.logLevel:(options.env==='development'?logLevel_info:logLevel_error);if(!options.loggers){options.loggers=[{debug:function(msg){if(options.logLevel>=logLevel_debug){console.log(msg);}},info:function(msg){if(options.logLevel>=logLevel_info){console.log(msg);}},warn:function(msg){if(options.logLevel>=logLevel_warn){console.warn(msg);}},error:function(msg){if(options.logLevel>=logLevel_error){console.error(msg);}}}];}
for(var i=0;i<options.loggers.length;i++){less.logger.addListener(options.loggers[i]);}};},{}],10:[function(require,module,exports){module.exports={extractId:function(href){return href.replace(/^[a-z-]+:\/+?[^\/]+/,'').replace(/[\?\&]livereload=\w+/,'').replace(/^\//,'').replace(/\.[a-zA-Z]+$/,'').replace(/[^\.\w-]+/g,'-').replace(/\./g,':');},addDataAttr:function(options,tag){for(var opt in tag.dataset){if(tag.dataset.hasOwnProperty(opt)){if(opt==="env"||opt==="dumpLineNumbers"||opt==="rootpath"||opt==="errorReporting"){options[opt]=tag.dataset[opt];}else{try{options[opt]=JSON.parse(tag.dataset[opt]);}
catch(_){}}}}}};},{}],11:[function(require,module,exports){var contexts={};module.exports=contexts;var copyFromOriginal=function copyFromOriginal(original,destination,propertiesToCopy){if(!original){return;}
for(var i=0;i<propertiesToCopy.length;i++){if(original.hasOwnProperty(propertiesToCopy[i])){destination[propertiesToCopy[i]]=original[propertiesToCopy[i]];}}};var parseCopyProperties=['paths','relativeUrls','rootpath','strictImports','insecure','dumpLineNumbers','compress','syncImport','chunkInput','mime','useFileCache','processImports','pluginManager'];contexts.Parse=function(options){copyFromOriginal(options,this,parseCopyProperties);if(typeof this.paths==="string"){this.paths=[this.paths];}};var evalCopyProperties=['paths','compress','ieCompat','strictMath','strictUnits','sourceMap','importMultiple','urlArgs','javascriptEnabled','pluginManager','importantScope'];contexts.Eval=function(options,frames){copyFromOriginal(options,this,evalCopyProperties);if(typeof this.paths==="string"){this.paths=[this.paths];}
this.frames=frames||[];this.importantScope=this.importantScope||[];};contexts.Eval.prototype.inParenthesis=function(){if(!this.parensStack){this.parensStack=[];}
this.parensStack.push(true);};contexts.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop();};contexts.Eval.prototype.isMathOn=function(){return this.strictMath?(this.parensStack&&this.parensStack.length):true;};contexts.Eval.prototype.isPathRelative=function(path){return!/^(?:[a-z-]+:|\/|#)/i.test(path);};contexts.Eval.prototype.normalizePath=function(path){var
segments=path.split("/").reverse(),segment;path=[];while(segments.length!==0){segment=segments.pop();switch(segment){case".":break;case"..":if((path.length===0)||(path[path.length-1]==="..")){path.push(segment);}else{path.pop();}
break;default:path.push(segment);break;}}
return path.join("/");};},{}],12:[function(require,module,exports){module.exports={'aliceblue':'#f0f8ff','antiquewhite':'#faebd7','aqua':'#00ffff','aquamarine':'#7fffd4','azure':'#f0ffff','beige':'#f5f5dc','bisque':'#ffe4c4','black':'#000000','blanchedalmond':'#ffebcd','blue':'#0000ff','blueviolet':'#8a2be2','brown':'#a52a2a','burlywood':'#deb887','cadetblue':'#5f9ea0','chartreuse':'#7fff00','chocolate':'#d2691e','coral':'#ff7f50','cornflowerblue':'#6495ed','cornsilk':'#fff8dc','crimson':'#dc143c','cyan':'#00ffff','darkblue':'#00008b','darkcyan':'#008b8b','darkgoldenrod':'#b8860b','darkgray':'#a9a9a9','darkgrey':'#a9a9a9','darkgreen':'#006400','darkkhaki':'#bdb76b','darkmagenta':'#8b008b','darkolivegreen':'#556b2f','darkorange':'#ff8c00','darkorchid':'#9932cc','darkred':'#8b0000','darksalmon':'#e9967a','darkseagreen':'#8fbc8f','darkslateblue':'#483d8b','darkslategray':'#2f4f4f','darkslategrey':'#2f4f4f','darkturquoise':'#00ced1','darkviolet':'#9400d3','deeppink':'#ff1493','deepskyblue':'#00bfff','dimgray':'#696969','dimgrey':'#696969','dodgerblue':'#1e90ff','firebrick':'#b22222','floralwhite':'#fffaf0','forestgreen':'#228b22','fuchsia':'#ff00ff','gainsboro':'#dcdcdc','ghostwhite':'#f8f8ff','gold':'#ffd700','goldenrod':'#daa520','gray':'#808080','grey':'#808080','green':'#008000','greenyellow':'#adff2f','honeydew':'#f0fff0','hotpink':'#ff69b4','indianred':'#cd5c5c','indigo':'#4b0082','ivory':'#fffff0','khaki':'#f0e68c','lavender':'#e6e6fa','lavenderblush':'#fff0f5','lawngreen':'#7cfc00','lemonchiffon':'#fffacd','lightblue':'#add8e6','lightcoral':'#f08080','lightcyan':'#e0ffff','lightgoldenrodyellow':'#fafad2','lightgray':'#d3d3d3','lightgrey':'#d3d3d3','lightgreen':'#90ee90','lightpink':'#ffb6c1','lightsalmon':'#ffa07a','lightseagreen':'#20b2aa','lightskyblue':'#87cefa','lightslategray':'#778899','lightslategrey':'#778899','lightsteelblue':'#b0c4de','lightyellow':'#ffffe0','lime':'#00ff00','limegreen':'#32cd32','linen':'#faf0e6','magenta':'#ff00ff','maroon':'#800000','mediumaquamarine':'#66cdaa','mediumblue':'#0000cd','mediumorchid':'#ba55d3','mediumpurple':'#9370d8','mediumseagreen':'#3cb371','mediumslateblue':'#7b68ee','mediumspringgreen':'#00fa9a','mediumturquoise':'#48d1cc','mediumvioletred':'#c71585','midnightblue':'#191970','mintcream':'#f5fffa','mistyrose':'#ffe4e1','moccasin':'#ffe4b5','navajowhite':'#ffdead','navy':'#000080','oldlace':'#fdf5e6','olive':'#808000','olivedrab':'#6b8e23','orange':'#ffa500','orangered':'#ff4500','orchid':'#da70d6','palegoldenrod':'#eee8aa','palegreen':'#98fb98','paleturquoise':'#afeeee','palevioletred':'#d87093','papayawhip':'#ffefd5','peachpuff':'#ffdab9','peru':'#cd853f','pink':'#ffc0cb','plum':'#dda0dd','powderblue':'#b0e0e6','purple':'#800080','rebeccapurple':'#663399','red':'#ff0000','rosybrown':'#bc8f8f','royalblue':'#4169e1','saddlebrown':'#8b4513','salmon':'#fa8072','sandybrown':'#f4a460','seagreen':'#2e8b57','seashell':'#fff5ee','sienna':'#a0522d','silver':'#c0c0c0','skyblue':'#87ceeb','slateblue':'#6a5acd','slategray':'#708090','slategrey':'#708090','snow':'#fffafa','springgreen':'#00ff7f','steelblue':'#4682b4','tan':'#d2b48c','teal':'#008080','thistle':'#d8bfd8','tomato':'#ff6347','turquoise':'#40e0d0','violet':'#ee82ee','wheat':'#f5deb3','white':'#ffffff','whitesmoke':'#f5f5f5','yellow':'#ffff00','yellowgreen':'#9acd32'};},{}],13:[function(require,module,exports){module.exports={colors:require("./colors"),unitConversions:require("./unit-conversions")};},{"./colors":12,"./unit-conversions":14}],14:[function(require,module,exports){module.exports={length:{'m':1,'cm':0.01,'mm':0.001,'in':0.0254,'px':0.0254/96,'pt':0.0254/72,'pc':0.0254/72*12},duration:{'s':1,'ms':0.001},angle:{'rad':1/(2*Math.PI),'deg':1/360,'grad':1/400,'turn':1}};},{}],15:[function(require,module,exports){var abstractFileManager=function(){};abstractFileManager.prototype.getPath=function(filename){var j=filename.lastIndexOf('?');if(j>0){filename=filename.slice(0,j);}
j=filename.lastIndexOf('/');if(j<0){j=filename.lastIndexOf('\\');}
if(j<0){return"";}
return filename.slice(0,j+1);};abstractFileManager.prototype.tryAppendExtension=function(path,ext){return/(\.[a-z]*$)|([\?;].*)$/.test(path)?path:path+ext;};abstractFileManager.prototype.tryAppendLessExtension=function(path){return this.tryAppendExtension(path,'.less');};abstractFileManager.prototype.supportsSync=function(){return false;};abstractFileManager.prototype.alwaysMakePathsAbsolute=function(){return false;};abstractFileManager.prototype.isPathAbsolute=function(filename){return(/^(?:[a-z-]+:|\/|\\|#)/i).test(filename);};abstractFileManager.prototype.join=function(basePath,laterPath){if(!basePath){return laterPath;}
return basePath+laterPath;};abstractFileManager.prototype.pathDiff=function pathDiff(url,baseUrl){var urlParts=this.extractUrlParts(url),baseUrlParts=this.extractUrlParts(baseUrl),i,max,urlDirectories,baseUrlDirectories,diff="";if(urlParts.hostPart!==baseUrlParts.hostPart){return"";}
max=Math.max(baseUrlParts.directories.length,urlParts.directories.length);for(i=0;i<max;i++){if(baseUrlParts.directories[i]!==urlParts.directories[i]){break;}}
baseUrlDirectories=baseUrlParts.directories.slice(i);urlDirectories=urlParts.directories.slice(i);for(i=0;i<baseUrlDirectories.length-1;i++){diff+="../";}
for(i=0;i<urlDirectories.length-1;i++){diff+=urlDirectories[i]+"/";}
return diff;};abstractFileManager.prototype.extractUrlParts=function extractUrlParts(url,baseUrl){var urlPartsRegex=/^((?:[a-z-]+:)?\/{2}(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,urlParts=url.match(urlPartsRegex),returner={},directories=[],i,baseUrlParts;if(!urlParts){throw new Error("Could not parse sheet href - '"+url+"'");}
if(baseUrl&&(!urlParts[1]||urlParts[2])){baseUrlParts=baseUrl.match(urlPartsRegex);if(!baseUrlParts){throw new Error("Could not parse page url - '"+baseUrl+"'");}
urlParts[1]=urlParts[1]||baseUrlParts[1]||"";if(!urlParts[2]){urlParts[3]=baseUrlParts[3]+urlParts[3];}}
if(urlParts[3]){directories=urlParts[3].replace(/\\/g,"/").split("/");for(i=0;i<directories.length;i++){if(directories[i]==="."){directories.splice(i,1);i-=1;}}
for(i=0;i<directories.length;i++){if(directories[i]===".."&&i>0){directories.splice(i-1,2);i-=2;}}}
returner.hostPart=urlParts[1];returner.directories=directories;returner.path=(urlParts[1]||"")+directories.join("/");returner.fileUrl=returner.path+(urlParts[4]||"");returner.url=returner.fileUrl+(urlParts[5]||"");return returner;};module.exports=abstractFileManager;},{}],16:[function(require,module,exports){var logger=require("../logger");var environment=function(externalEnvironment,fileManagers){this.fileManagers=fileManagers||[];externalEnvironment=externalEnvironment||{};var optionalFunctions=["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"],requiredFunctions=[],functions=requiredFunctions.concat(optionalFunctions);for(var i=0;i<functions.length;i++){var propName=functions[i],environmentFunc=externalEnvironment[propName];if(environmentFunc){this[propName]=environmentFunc.bind(externalEnvironment);}else if(i<requiredFunctions.length){this.warn("missing required function in environment - "+propName);}}};environment.prototype.getFileManager=function(filename,currentDirectory,options,environment,isSync){if(!filename){logger.warn("getFileManager called with no filename.. Please report this issue. continuing.");}
if(currentDirectory==null){logger.warn("getFileManager called with null directory.. Please report this issue. continuing.");}
var fileManagers=this.fileManagers;if(options.pluginManager){fileManagers=[].concat(fileManagers).concat(options.pluginManager.getFileManagers());}
for(var i=fileManagers.length-1;i>=0;i--){var fileManager=fileManagers[i];if(fileManager[isSync?"supportsSync":"supports"](filename,currentDirectory,options,environment)){return fileManager;}}
return null;};environment.prototype.addFileManager=function(fileManager){this.fileManagers.push(fileManager);};environment.prototype.clearFileManagers=function(){this.fileManagers=[];};module.exports=environment;},{"../logger":33}],17:[function(require,module,exports){var Color=require("../tree/color"),functionRegistry=require("./function-registry");function colorBlend(mode,color1,color2){var ab=color1.alpha,cb,as=color2.alpha,cs,ar,cr,r=[];ar=as+ab*(1-as);for(var i=0;i<3;i++){cb=color1.rgb[i]/255;cs=color2.rgb[i]/255;cr=mode(cb,cs);if(ar){cr=(as*cs+ab*(cb-
as*(cb+cs-cr)))/ar;}
r[i]=cr*255;}
return new Color(r,ar);}
var colorBlendModeFunctions={multiply:function(cb,cs){return cb*cs;},screen:function(cb,cs){return cb+cs-cb*cs;},overlay:function(cb,cs){cb*=2;return(cb<=1)?colorBlendModeFunctions.multiply(cb,cs):colorBlendModeFunctions.screen(cb-1,cs);},softlight:function(cb,cs){var d=1,e=cb;if(cs>0.5){e=1;d=(cb>0.25)?Math.sqrt(cb):((16*cb-12)*cb+4)*cb;}
return cb-(1-2*cs)*e*(d-cb);},hardlight:function(cb,cs){return colorBlendModeFunctions.overlay(cs,cb);},difference:function(cb,cs){return Math.abs(cb-cs);},exclusion:function(cb,cs){return cb+cs-2*cb*cs;},average:function(cb,cs){return(cb+cs)/2;},negation:function(cb,cs){return 1-Math.abs(cb+cs-1);}};for(var f in colorBlendModeFunctions){if(colorBlendModeFunctions.hasOwnProperty(f)){colorBlend[f]=colorBlend.bind(null,colorBlendModeFunctions[f]);}}
functionRegistry.addMultiple(colorBlend);},{"../tree/color":50,"./function-registry":22}],18:[function(require,module,exports){var Dimension=require("../tree/dimension"),Color=require("../tree/color"),Quoted=require("../tree/quoted"),Anonymous=require("../tree/anonymous"),functionRegistry=require("./function-registry"),colorFunctions;function clamp(val){return Math.min(1,Math.max(0,val));}
function hsla(color){return colorFunctions.hsla(color.h,color.s,color.l,color.a);}
function number(n){if(n instanceof Dimension){return parseFloat(n.unit.is('%')?n.value/100:n.value);}else if(typeof n==='number'){return n;}else{throw{type:"Argument",message:"color functions take numbers as parameters"};}}
function scaled(n,size){if(n instanceof Dimension&&n.unit.is('%')){return parseFloat(n.value*size/100);}else{return number(n);}}
colorFunctions={rgb:function(r,g,b){return colorFunctions.rgba(r,g,b,1.0);},rgba:function(r,g,b,a){var rgb=[r,g,b].map(function(c){return scaled(c,255);});a=number(a);return new Color(rgb,a);},hsl:function(h,s,l){return colorFunctions.hsla(h,s,l,1.0);},hsla:function(h,s,l,a){var m1,m2;function hue(h){h=h<0?h+1:(h>1?h-1:h);if(h*6<1){return m1+(m2-m1)*h*6;}
else if(h*2<1){return m2;}
else if(h*3<2){return m1+(m2-m1)*(2/3-h)*6;}
else{return m1;}}
h=(number(h)%360)/360;s=clamp(number(s));l=clamp(number(l));a=clamp(number(a));m2=l<=0.5?l*(s+1):l+s-l*s;m1=l*2-m2;return colorFunctions.rgba(hue(h+1/3)*255,hue(h)*255,hue(h-1/3)*255,a);},hsv:function(h,s,v){return colorFunctions.hsva(h,s,v,1.0);},hsva:function(h,s,v,a){h=((number(h)%360)/360)*360;s=number(s);v=number(v);a=number(a);var i,f;i=Math.floor((h/60)%6);f=(h/60)-i;var vs=[v,v*(1-s),v*(1-f*s),v*(1-(1-f)*s)];var perm=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return colorFunctions.rgba(vs[perm[i][0]]*255,vs[perm[i][1]]*255,vs[perm[i][2]]*255,a);},hue:function(color){return new Dimension(color.toHSL().h);},saturation:function(color){return new Dimension(color.toHSL().s*100,'%');},lightness:function(color){return new Dimension(color.toHSL().l*100,'%');},hsvhue:function(color){return new Dimension(color.toHSV().h);},hsvsaturation:function(color){return new Dimension(color.toHSV().s*100,'%');},hsvvalue:function(color){return new Dimension(color.toHSV().v*100,'%');},red:function(color){return new Dimension(color.rgb[0]);},green:function(color){return new Dimension(color.rgb[1]);},blue:function(color){return new Dimension(color.rgb[2]);},alpha:function(color){return new Dimension(color.toHSL().a);},luma:function(color){return new Dimension(color.luma()*color.alpha*100,'%');},luminance:function(color){var luminance=(0.2126*color.rgb[0]/255)+
(0.7152*color.rgb[1]/255)+
(0.0722*color.rgb[2]/255);return new Dimension(luminance*color.alpha*100,'%');},saturate:function(color,amount,method){if(!color.rgb){return null;}
var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.s+=hsl.s*amount.value/100;}
else{hsl.s+=amount.value/100;}
hsl.s=clamp(hsl.s);return hsla(hsl);},desaturate:function(color,amount,method){var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.s-=hsl.s*amount.value/100;}
else{hsl.s-=amount.value/100;}
hsl.s=clamp(hsl.s);return hsla(hsl);},lighten:function(color,amount,method){var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.l+=hsl.l*amount.value/100;}
else{hsl.l+=amount.value/100;}
hsl.l=clamp(hsl.l);return hsla(hsl);},darken:function(color,amount,method){var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.l-=hsl.l*amount.value/100;}
else{hsl.l-=amount.value/100;}
hsl.l=clamp(hsl.l);return hsla(hsl);},fadein:function(color,amount,method){var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.a+=hsl.a*amount.value/100;}
else{hsl.a+=amount.value/100;}
hsl.a=clamp(hsl.a);return hsla(hsl);},fadeout:function(color,amount,method){var hsl=color.toHSL();if(typeof method!=="undefined"&&method.value==="relative"){hsl.a-=hsl.a*amount.value/100;}
else{hsl.a-=amount.value/100;}
hsl.a=clamp(hsl.a);return hsla(hsl);},fade:function(color,amount){var hsl=color.toHSL();hsl.a=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl);},spin:function(color,amount){var hsl=color.toHSL();var hue=(hsl.h+amount.value)%360;hsl.h=hue<0?360+hue:hue;return hsla(hsl);},mix:function(color1,color2,weight){if(!color1.toHSL||!color2.toHSL){console.log(color2.type);console.dir(color2);}
if(!weight){weight=new Dimension(50);}
var p=weight.value/100.0;var w=p*2-1;var a=color1.toHSL().a-color2.toHSL().a;var w1=(((w*a==-1)?w:(w+a)/(1+w*a))+1)/2.0;var w2=1-w1;var rgb=[color1.rgb[0]*w1+color2.rgb[0]*w2,color1.rgb[1]*w1+color2.rgb[1]*w2,color1.rgb[2]*w1+color2.rgb[2]*w2];var alpha=color1.alpha*p+color2.alpha*(1-p);return new Color(rgb,alpha);},greyscale:function(color){return colorFunctions.desaturate(color,new Dimension(100));},contrast:function(color,color1,color2,threshold){if(!color.rgb){return null;}
if(typeof color1==='undefined'){color1=colorFunctions.rgba(0,0,0,1.0);}
if(typeof color2==='undefined'){color2=colorFunctions.rgba(255,255,255,1.0);}
var contrast1,contrast2;var luma=color.luma();var luma1=color1.luma();var luma2=color2.luma();if(luma>luma1){contrast1=(luma+0.05)/(luma1+0.05);}else{contrast1=(luma1+0.05)/(luma+0.05);}
if(luma>luma2){contrast2=(luma+0.05)/(luma2+0.05);}else{contrast2=(luma2+0.05)/(luma+0.05);}
if(contrast1>contrast2){return color1;}else{return color2;}},argb:function(color){return new Anonymous(color.toARGB());},color:function(c){if((c instanceof Quoted)&&(/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(c.value))){return new Color(c.value.slice(1));}
if((c instanceof Color)||(c=Color.fromKeyword(c.value))){c.value=undefined;return c;}
throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"};},tint:function(color,amount){return colorFunctions.mix(colorFunctions.rgb(255,255,255),color,amount);},shade:function(color,amount){return colorFunctions.mix(colorFunctions.rgb(0,0,0),color,amount);}};functionRegistry.addMultiple(colorFunctions);},{"../tree/anonymous":46,"../tree/color":50,"../tree/dimension":56,"../tree/quoted":73,"./function-registry":22}],19:[function(require,module,exports){module.exports=function(environment){var Quoted=require("../tree/quoted"),URL=require("../tree/url"),functionRegistry=require("./function-registry"),fallback=function(functionThis,node){return new URL(node,functionThis.index,functionThis.currentFileInfo).eval(functionThis.context);},logger=require('../logger');functionRegistry.add("data-uri",function(mimetypeNode,filePathNode){if(!filePathNode){filePathNode=mimetypeNode;mimetypeNode=null;}
var mimetype=mimetypeNode&&mimetypeNode.value;var filePath=filePathNode.value;var currentFileInfo=this.currentFileInfo;var currentDirectory=currentFileInfo.relativeUrls?currentFileInfo.currentDirectory:currentFileInfo.entryPath;var fragmentStart=filePath.indexOf('#');var fragment='';if(fragmentStart!==-1){fragment=filePath.slice(fragmentStart);filePath=filePath.slice(0,fragmentStart);}
var fileManager=environment.getFileManager(filePath,currentDirectory,this.context,environment,true);if(!fileManager){return fallback(this,filePathNode);}
var useBase64=false;if(!mimetypeNode){mimetype=environment.mimeLookup(filePath);if(mimetype==="image/svg+xml"){useBase64=false;}else{var charset=environment.charsetLookup(mimetype);useBase64=['US-ASCII','UTF-8'].indexOf(charset)<0;}
if(useBase64){mimetype+=';base64';}}
else{useBase64=/;base64$/.test(mimetype);}
var fileSync=fileManager.loadFileSync(filePath,currentDirectory,this.context,environment);if(!fileSync.contents){logger.warn("Skipped data-uri embedding of "+filePath+" because file not found");return fallback(this,filePathNode||mimetypeNode);}
var buf=fileSync.contents;if(useBase64&&!environment.encodeBase64){return fallback(this,filePathNode);}
buf=useBase64?environment.encodeBase64(buf):encodeURIComponent(buf);var uri="data:"+mimetype+','+buf+fragment;var DATA_URI_MAX=32768;if(uri.length>=DATA_URI_MAX){if(this.context.ieCompat!==false){logger.warn("Skipped data-uri embedding of "+filePath+" because its size ("+uri.length+" characters) exceeds IE8-safe "+DATA_URI_MAX+" characters!");return fallback(this,filePathNode||mimetypeNode);}}
return new URL(new Quoted('"'+uri+'"',uri,false,this.index,this.currentFileInfo),this.index,this.currentFileInfo);});};},{"../logger":33,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],20:[function(require,module,exports){var Keyword=require("../tree/keyword"),functionRegistry=require("./function-registry");var defaultFunc={eval:function(){var v=this.value_,e=this.error_;if(e){throw e;}
if(v!=null){return v?Keyword.True:Keyword.False;}},value:function(v){this.value_=v;},error:function(e){this.error_=e;},reset:function(){this.value_=this.error_=null;}};functionRegistry.add("default",defaultFunc.eval.bind(defaultFunc));module.exports=defaultFunc;},{"../tree/keyword":65,"./function-registry":22}],21:[function(require,module,exports){var Expression=require("../tree/expression");var functionCaller=function(name,context,index,currentFileInfo){this.name=name.toLowerCase();this.index=index;this.context=context;this.currentFileInfo=currentFileInfo;this.func=context.frames[0].functionRegistry.get(this.name);};functionCaller.prototype.isValid=function(){return Boolean(this.func);};functionCaller.prototype.call=function(args){if(Array.isArray(args)){args=args.filter(function(item){if(item.type==="Comment"){return false;}
return true;}).map(function(item){if(item.type==="Expression"){var subNodes=item.value.filter(function(item){if(item.type==="Comment"){return false;}
return true;});if(subNodes.length===1){return subNodes[0];}else{return new Expression(subNodes);}}
return item;});}
return this.func.apply(this,args);};module.exports=functionCaller;},{"../tree/expression":59}],22:[function(require,module,exports){function makeRegistry(base){return{_data:{},add:function(name,func){name=name.toLowerCase();if(this._data.hasOwnProperty(name)){}
this._data[name]=func;},addMultiple:function(functions){Object.keys(functions).forEach(function(name){this.add(name,functions[name]);}.bind(this));},get:function(name){return this._data[name]||(base&&base.get(name));},inherit:function(){return makeRegistry(this);}};}
module.exports=makeRegistry(null);},{}],23:[function(require,module,exports){module.exports=function(environment){var functions={functionRegistry:require("./function-registry"),functionCaller:require("./function-caller")};require("./default");require("./color");require("./color-blending");require("./data-uri")(environment);require("./math");require("./number");require("./string");require("./svg")(environment);require("./types");return functions;};},{"./color":18,"./color-blending":17,"./data-uri":19,"./default":20,"./function-caller":21,"./function-registry":22,"./math":25,"./number":26,"./string":27,"./svg":28,"./types":29}],24:[function(require,module,exports){var Dimension=require("../tree/dimension");var MathHelper=function(){};MathHelper._math=function(fn,unit,n){if(!(n instanceof Dimension)){throw{type:"Argument",message:"argument must be a number"};}
if(unit==null){unit=n.unit;}else{n=n.unify();}
return new Dimension(fn(parseFloat(n.value)),unit);};module.exports=MathHelper;},{"../tree/dimension":56}],25:[function(require,module,exports){var functionRegistry=require("./function-registry"),mathHelper=require("./math-helper.js");var mathFunctions={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var f in mathFunctions){if(mathFunctions.hasOwnProperty(f)){mathFunctions[f]=mathHelper._math.bind(null,Math[f],mathFunctions[f]);}}
mathFunctions.round=function(n,f){var fraction=typeof f==="undefined"?0:f.value;return mathHelper._math(function(num){return num.toFixed(fraction);},null,n);};functionRegistry.addMultiple(mathFunctions);},{"./function-registry":22,"./math-helper.js":24}],26:[function(require,module,exports){var Dimension=require("../tree/dimension"),Anonymous=require("../tree/anonymous"),functionRegistry=require("./function-registry"),mathHelper=require("./math-helper.js");var minMax=function(isMin,args){args=Array.prototype.slice.call(args);switch(args.length){case 0:throw{type:"Argument",message:"one or more arguments required"};}
var i,j,current,currentUnified,referenceUnified,unit,unitStatic,unitClone,order=[],values={};for(i=0;i<args.length;i++){current=args[i];if(!(current instanceof Dimension)){if(Array.isArray(args[i].value)){Array.prototype.push.apply(args,Array.prototype.slice.call(args[i].value));}
continue;}
currentUnified=current.unit.toString()===""&&unitClone!==undefined?new Dimension(current.value,unitClone).unify():current.unify();unit=currentUnified.unit.toString()===""&&unitStatic!==undefined?unitStatic:currentUnified.unit.toString();unitStatic=unit!==""&&unitStatic===undefined||unit!==""&&order[0].unify().unit.toString()===""?unit:unitStatic;unitClone=unit!==""&&unitClone===undefined?current.unit.toString():unitClone;j=values[""]!==undefined&&unit!==""&&unit===unitStatic?values[""]:values[unit];if(j===undefined){if(unitStatic!==undefined&&unit!==unitStatic){throw{type:"Argument",message:"incompatible types"};}
values[unit]=order.length;order.push(current);continue;}
referenceUnified=order[j].unit.toString()===""&&unitClone!==undefined?new Dimension(order[j].value,unitClone).unify():order[j].unify();if(isMin&&currentUnified.value<referenceUnified.value||!isMin&&currentUnified.value>referenceUnified.value){order[j]=current;}}
if(order.length==1){return order[0];}
args=order.map(function(a){return a.toCSS(this.context);}).join(this.context.compress?",":", ");return new Anonymous((isMin?"min":"max")+"("+args+")");};functionRegistry.addMultiple({min:function(){return minMax(true,arguments);},max:function(){return minMax(false,arguments);},convert:function(val,unit){return val.convertTo(unit.value);},pi:function(){return new Dimension(Math.PI);},mod:function(a,b){return new Dimension(a.value%b.value,a.unit);},pow:function(x,y){if(typeof x==="number"&&typeof y==="number"){x=new Dimension(x);y=new Dimension(y);}else if(!(x instanceof Dimension)||!(y instanceof Dimension)){throw{type:"Argument",message:"arguments must be numbers"};}
return new Dimension(Math.pow(x.value,y.value),x.unit);},percentage:function(n){var result=mathHelper._math(function(num){return num*100;},'%',n);return result;}});},{"../tree/anonymous":46,"../tree/dimension":56,"./function-registry":22,"./math-helper.js":24}],27:[function(require,module,exports){var Quoted=require("../tree/quoted"),Anonymous=require("../tree/anonymous"),JavaScript=require("../tree/javascript"),functionRegistry=require("./function-registry");functionRegistry.addMultiple({e:function(str){return new Anonymous(str instanceof JavaScript?str.evaluated:str.value);},escape:function(str){return new Anonymous(encodeURI(str.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"));},replace:function(string,pattern,replacement,flags){var result=string.value;replacement=(replacement.type==="Quoted")?replacement.value:replacement.toCSS();result=result.replace(new RegExp(pattern.value,flags?flags.value:''),replacement);return new Quoted(string.quote||'',result,string.escaped);},'%':function(string){var args=Array.prototype.slice.call(arguments,1),result=string.value;for(var i=0;i<args.length;i++){result=result.replace(/%[sda]/i,function(token){var value=((args[i].type==="Quoted")&&token.match(/s/i))?args[i].value:args[i].toCSS();return token.match(/[A-Z]$/)?encodeURIComponent(value):value;});}
result=result.replace(/%%/g,'%');return new Quoted(string.quote||'',result,string.escaped);}});},{"../tree/anonymous":46,"../tree/javascript":63,"../tree/quoted":73,"./function-registry":22}],28:[function(require,module,exports){module.exports=function(environment){var Dimension=require("../tree/dimension"),Color=require("../tree/color"),Expression=require("../tree/expression"),Quoted=require("../tree/quoted"),URL=require("../tree/url"),functionRegistry=require("./function-registry");functionRegistry.add("svg-gradient",function(direction){var stops,gradientDirectionSvg,gradientType="linear",rectangleDimension='x="0" y="0" width="1" height="1"',renderEnv={compress:false},returner,directionValue=direction.toCSS(renderEnv),i,color,position,positionValue,alpha;function throwArgumentDescriptor(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]...,"+" end_color [end_position] or direction, color list"};}
if(arguments.length==2){if(arguments[1].value.length<2){throwArgumentDescriptor();}
stops=arguments[1].value;}else if(arguments.length<3){throwArgumentDescriptor();}else{stops=Array.prototype.slice.call(arguments,1);}
switch(directionValue){case"to bottom":gradientDirectionSvg='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":gradientDirectionSvg='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":gradientType="radial";gradientDirectionSvg='cx="50%" cy="50%" r="75%"';rectangleDimension='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right',"+" 'to bottom right', 'to top right' or 'ellipse at center'"};}
returner='<?xml version="1.0" ?>'+'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none">'+'<'+gradientType+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+gradientDirectionSvg+'>';for(i=0;i<stops.length;i+=1){if(stops[i]instanceof Expression){color=stops[i].value[0];position=stops[i].value[1];}else{color=stops[i];position=undefined;}
if(!(color instanceof Color)||(!((i===0||i+1===stops.length)&&position===undefined)&&!(position instanceof Dimension))){throwArgumentDescriptor();}
positionValue=position?position.toCSS(renderEnv):i===0?"0%":"100%";alpha=color.alpha;returner+='<stop offset="'+positionValue+'" stop-color="'+color.toRGB()+'"'+(alpha<1?' stop-opacity="'+alpha+'"':'')+'/>';}
returner+='</'+gradientType+'Gradient>'+'<rect '+rectangleDimension+' fill="url(#gradient)" /></svg>';returner=encodeURIComponent(returner);returner="data:image/svg+xml,"+returner;return new URL(new Quoted("'"+returner+"'",returner,false,this.index,this.currentFileInfo),this.index,this.currentFileInfo);});};},{"../tree/color":50,"../tree/dimension":56,"../tree/expression":59,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],29:[function(require,module,exports){var Keyword=require("../tree/keyword"),DetachedRuleset=require("../tree/detached-ruleset"),Dimension=require("../tree/dimension"),Color=require("../tree/color"),Quoted=require("../tree/quoted"),Anonymous=require("../tree/anonymous"),URL=require("../tree/url"),Operation=require("../tree/operation"),functionRegistry=require("./function-registry");var isa=function(n,Type){return(n instanceof Type)?Keyword.True:Keyword.False;},isunit=function(n,unit){if(unit===undefined){throw{type:"Argument",message:"missing the required second argument to isunit."};}
unit=typeof unit.value==="string"?unit.value:unit;if(typeof unit!=="string"){throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};}
return(n instanceof Dimension)&&n.unit.is(unit)?Keyword.True:Keyword.False;},getItemsFromNode=function(node){var items=Array.isArray(node.value)?node.value:Array(node);return items;};functionRegistry.addMultiple({isruleset:function(n){return isa(n,DetachedRuleset);},iscolor:function(n){return isa(n,Color);},isnumber:function(n){return isa(n,Dimension);},isstring:function(n){return isa(n,Quoted);},iskeyword:function(n){return isa(n,Keyword);},isurl:function(n){return isa(n,URL);},ispixel:function(n){return isunit(n,'px');},ispercentage:function(n){return isunit(n,'%');},isem:function(n){return isunit(n,'em');},isunit:isunit,unit:function(val,unit){if(!(val instanceof Dimension)){throw{type:"Argument",message:"the first argument to unit must be a number"+
(val instanceof Operation?". Have you forgotten parenthesis?":"")};}
if(unit){if(unit instanceof Keyword){unit=unit.value;}else{unit=unit.toCSS();}}else{unit="";}
return new Dimension(val.value,unit);},"get-unit":function(n){return new Anonymous(n.unit);},extract:function(values,index){index=index.value-1;return getItemsFromNode(values)[index];},length:function(values){return new Dimension(getItemsFromNode(values).length);}});},{"../tree/anonymous":46,"../tree/color":50,"../tree/detached-ruleset":55,"../tree/dimension":56,"../tree/keyword":65,"../tree/operation":71,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],30:[function(require,module,exports){var contexts=require("./contexts"),Parser=require('./parser/parser'),FunctionImporter=require('./plugins/function-importer');module.exports=function(environment){var ImportManager=function(context,rootFileInfo){this.rootFilename=rootFileInfo.filename;this.paths=context.paths||[];this.contents={};this.contentsIgnoredChars={};this.mime=context.mime;this.error=null;this.context=context;this.queue=[];this.files={};};ImportManager.prototype.push=function(path,tryAppendLessExtension,currentFileInfo,importOptions,callback){var importManager=this;this.queue.push(path);var fileParsedFunc=function(e,root,fullPath){importManager.queue.splice(importManager.queue.indexOf(path),1);var importedEqualsRoot=fullPath===importManager.rootFilename;if(importOptions.optional&&e){callback(null,{rules:[]},false,null);}
else{importManager.files[fullPath]=root;if(e&&!importManager.error){importManager.error=e;}
callback(e,root,importedEqualsRoot,fullPath);}};var newFileInfo={relativeUrls:this.context.relativeUrls,entryPath:currentFileInfo.entryPath,rootpath:currentFileInfo.rootpath,rootFilename:currentFileInfo.rootFilename};var fileManager=environment.getFileManager(path,currentFileInfo.currentDirectory,this.context,environment);if(!fileManager){fileParsedFunc({message:"Could not find a file-manager for "+path});return;}
if(tryAppendLessExtension){path=fileManager.tryAppendExtension(path,importOptions.plugin?".js":".less");}
var loadFileCallback=function(loadedFile){var resolvedFilename=loadedFile.filename,contents=loadedFile.contents.replace(/^\uFEFF/,'');newFileInfo.currentDirectory=fileManager.getPath(resolvedFilename);if(newFileInfo.relativeUrls){newFileInfo.rootpath=fileManager.join((importManager.context.rootpath||""),fileManager.pathDiff(newFileInfo.currentDirectory,newFileInfo.entryPath));if(!fileManager.isPathAbsolute(newFileInfo.rootpath)&&fileManager.alwaysMakePathsAbsolute()){newFileInfo.rootpath=fileManager.join(newFileInfo.entryPath,newFileInfo.rootpath);}}
newFileInfo.filename=resolvedFilename;var newEnv=new contexts.Parse(importManager.context);newEnv.processImports=false;importManager.contents[resolvedFilename]=contents;if(currentFileInfo.reference||importOptions.reference){newFileInfo.reference=true;}
if(importOptions.plugin){new FunctionImporter(newEnv,newFileInfo).eval(contents,function(e,root){fileParsedFunc(e,root,resolvedFilename);});}else if(importOptions.inline){fileParsedFunc(null,contents,resolvedFilename);}else{new Parser(newEnv,importManager,newFileInfo).parse(contents,function(e,root){fileParsedFunc(e,root,resolvedFilename);});}};var promise=fileManager.loadFile(path,currentFileInfo.currentDirectory,this.context,environment,function(err,loadedFile){if(err){fileParsedFunc(err);}else{loadFileCallback(loadedFile);}});if(promise){promise.then(loadFileCallback,fileParsedFunc);}};return ImportManager;};},{"./contexts":11,"./parser/parser":38,"./plugins/function-importer":40}],31:[function(require,module,exports){module.exports=function(environment,fileManagers){var SourceMapOutput,SourceMapBuilder,ParseTree,ImportManager,Environment;var less={version:[2,7,1],data:require('./data'),tree:require('./tree'),Environment:(Environment=require("./environment/environment")),AbstractFileManager:require("./environment/abstract-file-manager"),environment:(environment=new Environment(environment,fileManagers)),visitors:require('./visitors'),Parser:require('./parser/parser'),functions:require('./functions')(environment),contexts:require("./contexts"),SourceMapOutput:(SourceMapOutput=require('./source-map-output')(environment)),SourceMapBuilder:(SourceMapBuilder=require('./source-map-builder')(SourceMapOutput,environment)),ParseTree:(ParseTree=require('./parse-tree')(SourceMapBuilder)),ImportManager:(ImportManager=require('./import-manager')(environment)),render:require("./render")(environment,ParseTree,ImportManager),parse:require("./parse")(environment,ParseTree,ImportManager),LessError:require('./less-error'),transformTree:require('./transform-tree'),utils:require('./utils'),PluginManager:require('./plugin-manager'),logger:require('./logger')};return less;};},{"./contexts":11,"./data":13,"./environment/abstract-file-manager":15,"./environment/environment":16,"./functions":23,"./import-manager":30,"./less-error":32,"./logger":33,"./parse":35,"./parse-tree":34,"./parser/parser":38,"./plugin-manager":39,"./render":41,"./source-map-builder":42,"./source-map-output":43,"./transform-tree":44,"./tree":62,"./utils":83,"./visitors":87}],32:[function(require,module,exports){var utils=require("./utils");var LessError=module.exports=function LessError(e,importManager,currentFilename){Error.call(this);var filename=e.filename||currentFilename;if(importManager&&filename){var input=importManager.contents[filename],loc=utils.getLocation(e.index,input),line=loc.line,col=loc.column,callLine=e.call&&utils.getLocation(e.call,input).line,lines=input.split('\n');this.type=e.type||'Syntax';this.filename=filename;this.index=e.index;this.line=typeof line==='number'?line+1:null;this.callLine=callLine+1;this.callExtract=lines[callLine];this.column=col;this.extract=[lines[line-1],lines[line],lines[line+1]];}
this.message=e.message;this.stack=e.stack;};if(typeof Object.create==='undefined'){var F=function(){};F.prototype=Error.prototype;LessError.prototype=new F();}else{LessError.prototype=Object.create(Error.prototype);}
LessError.prototype.constructor=LessError;},{"./utils":83}],33:[function(require,module,exports){module.exports={error:function(msg){this._fireEvent("error",msg);},warn:function(msg){this._fireEvent("warn",msg);},info:function(msg){this._fireEvent("info",msg);},debug:function(msg){this._fireEvent("debug",msg);},addListener:function(listener){this._listeners.push(listener);},removeListener:function(listener){for(var i=0;i<this._listeners.length;i++){if(this._listeners[i]===listener){this._listeners.splice(i,1);return;}}},_fireEvent:function(type,msg){for(var i=0;i<this._listeners.length;i++){var logFunction=this._listeners[i][type];if(logFunction){logFunction(msg);}}},_listeners:[]};},{}],34:[function(require,module,exports){var LessError=require('./less-error'),transformTree=require("./transform-tree"),logger=require("./logger");module.exports=function(SourceMapBuilder){var ParseTree=function(root,imports){this.root=root;this.imports=imports;};ParseTree.prototype.toCSS=function(options){var evaldRoot,result={},sourceMapBuilder;try{evaldRoot=transformTree(this.root,options);}catch(e){throw new LessError(e,this.imports);}
try{var compress=Boolean(options.compress);if(compress){logger.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.");}
var toCSSOptions={compress:compress,dumpLineNumbers:options.dumpLineNumbers,strictUnits:Boolean(options.strictUnits),numPrecision:8};if(options.sourceMap){sourceMapBuilder=new SourceMapBuilder(options.sourceMap);result.css=sourceMapBuilder.toCSS(evaldRoot,toCSSOptions,this.imports);}else{result.css=evaldRoot.toCSS(toCSSOptions);}}catch(e){throw new LessError(e,this.imports);}
if(options.pluginManager){var postProcessors=options.pluginManager.getPostProcessors();for(var i=0;i<postProcessors.length;i++){result.css=postProcessors[i].process(result.css,{sourceMap:sourceMapBuilder,options:options,imports:this.imports});}}
if(options.sourceMap){result.map=sourceMapBuilder.getExternalSourceMap();}
result.imports=[];for(var file in this.imports.files){if(this.imports.files.hasOwnProperty(file)&&file!==this.imports.rootFilename){result.imports.push(file);}}
return result;};return ParseTree;};},{"./less-error":32,"./logger":33,"./transform-tree":44}],35:[function(require,module,exports){var PromiseConstructor,contexts=require("./contexts"),Parser=require('./parser/parser'),PluginManager=require('./plugin-manager');module.exports=function(environment,ParseTree,ImportManager){var parse=function(input,options,callback){options=options||{};if(typeof options==='function'){callback=options;options={};}
if(!callback){if(!PromiseConstructor){PromiseConstructor=typeof Promise==='undefined'?require('promise'):Promise;}
var self=this;return new PromiseConstructor(function(resolve,reject){parse.call(self,input,options,function(err,output){if(err){reject(err);}else{resolve(output);}});});}else{var context,rootFileInfo,pluginManager=new PluginManager(this);pluginManager.addPlugins(options.plugins);options.pluginManager=pluginManager;context=new contexts.Parse(options);if(options.rootFileInfo){rootFileInfo=options.rootFileInfo;}else{var filename=options.filename||"input";var entryPath=filename.replace(/[^\/\\]*$/,"");rootFileInfo={filename:filename,relativeUrls:context.relativeUrls,rootpath:context.rootpath||"",currentDirectory:entryPath,entryPath:entryPath,rootFilename:filename};if(rootFileInfo.rootpath&&rootFileInfo.rootpath.slice(-1)!=="/"){rootFileInfo.rootpath+="/";}}
var imports=new ImportManager(context,rootFileInfo);new Parser(context,imports,rootFileInfo).parse(input,function(e,root){if(e){return callback(e);}
callback(null,root,imports,options);},options);}};return parse;};},{"./contexts":11,"./parser/parser":38,"./plugin-manager":39,"promise":undefined}],36:[function(require,module,exports){module.exports=function(input,fail){var len=input.length,level=0,parenLevel=0,lastOpening,lastOpeningParen,lastMultiComment,lastMultiCommentEndBrace,chunks=[],emitFrom=0,chunkerCurrentIndex,currentChunkStartIndex,cc,cc2,matched;function emitChunk(force){var len=chunkerCurrentIndex-emitFrom;if(((len<512)&&!force)||!len){return;}
chunks.push(input.slice(emitFrom,chunkerCurrentIndex+1));emitFrom=chunkerCurrentIndex+1;}
for(chunkerCurrentIndex=0;chunkerCurrentIndex<len;chunkerCurrentIndex++){cc=input.charCodeAt(chunkerCurrentIndex);if(((cc>=97)&&(cc<=122))||(cc<34)){continue;}
switch(cc){case 40:parenLevel++;lastOpeningParen=chunkerCurrentIndex;continue;case 41:if(--parenLevel<0){return fail("missing opening `(`",chunkerCurrentIndex);}
continue;case 59:if(!parenLevel){emitChunk();}
continue;case 123:level++;lastOpening=chunkerCurrentIndex;continue;case 125:if(--level<0){return fail("missing opening `{`",chunkerCurrentIndex);}
if(!level&&!parenLevel){emitChunk();}
continue;case 92:if(chunkerCurrentIndex<len-1){chunkerCurrentIndex++;continue;}
return fail("unescaped `\\`",chunkerCurrentIndex);case 34:case 39:case 96:matched=0;currentChunkStartIndex=chunkerCurrentIndex;for(chunkerCurrentIndex=chunkerCurrentIndex+1;chunkerCurrentIndex<len;chunkerCurrentIndex++){cc2=input.charCodeAt(chunkerCurrentIndex);if(cc2>96){continue;}
if(cc2==cc){matched=1;break;}
if(cc2==92){if(chunkerCurrentIndex==len-1){return fail("unescaped `\\`",chunkerCurrentIndex);}
chunkerCurrentIndex++;}}
if(matched){continue;}
return fail("unmatched `"+String.fromCharCode(cc)+"`",currentChunkStartIndex);case 47:if(parenLevel||(chunkerCurrentIndex==len-1)){continue;}
cc2=input.charCodeAt(chunkerCurrentIndex+1);if(cc2==47){for(chunkerCurrentIndex=chunkerCurrentIndex+2;chunkerCurrentIndex<len;chunkerCurrentIndex++){cc2=input.charCodeAt(chunkerCurrentIndex);if((cc2<=13)&&((cc2==10)||(cc2==13))){break;}}}else if(cc2==42){lastMultiComment=currentChunkStartIndex=chunkerCurrentIndex;for(chunkerCurrentIndex=chunkerCurrentIndex+2;chunkerCurrentIndex<len-1;chunkerCurrentIndex++){cc2=input.charCodeAt(chunkerCurrentIndex);if(cc2==125){lastMultiCommentEndBrace=chunkerCurrentIndex;}
if(cc2!=42){continue;}
if(input.charCodeAt(chunkerCurrentIndex+1)==47){break;}}
if(chunkerCurrentIndex==len-1){return fail("missing closing `*/`",currentChunkStartIndex);}
chunkerCurrentIndex++;}
continue;case 42:if((chunkerCurrentIndex<len-1)&&(input.charCodeAt(chunkerCurrentIndex+1)==47)){return fail("unmatched `/*`",chunkerCurrentIndex);}
continue;}}
if(level!==0){if((lastMultiComment>lastOpening)&&(lastMultiCommentEndBrace>lastMultiComment)){return fail("missing closing `}` or `*/`",lastOpening);}else{return fail("missing closing `}`",lastOpening);}}else if(parenLevel!==0){return fail("missing closing `)`",lastOpeningParen);}
emitChunk(true);return chunks;};},{}],37:[function(require,module,exports){var chunker=require('./chunker');module.exports=function(){var input,j,saveStack=[],furthest,furthestPossibleErrorMessage,chunks,current,currentPos,parserInput={};var CHARCODE_SPACE=32,CHARCODE_TAB=9,CHARCODE_LF=10,CHARCODE_CR=13,CHARCODE_PLUS=43,CHARCODE_COMMA=44,CHARCODE_FORWARD_SLASH=47,CHARCODE_9=57;function skipWhitespace(length){var oldi=parserInput.i,oldj=j,curr=parserInput.i-currentPos,endIndex=parserInput.i+current.length-curr,mem=(parserInput.i+=length),inp=input,c,nextChar,comment;for(;parserInput.i<endIndex;parserInput.i++){c=inp.charCodeAt(parserInput.i);if(parserInput.autoCommentAbsorb&&c===CHARCODE_FORWARD_SLASH){nextChar=inp.charAt(parserInput.i+1);if(nextChar==='/'){comment={index:parserInput.i,isLineComment:true};var nextNewLine=inp.indexOf("\n",parserInput.i+2);if(nextNewLine<0){nextNewLine=endIndex;}
parserInput.i=nextNewLine;comment.text=inp.substr(comment.index,parserInput.i-comment.index);parserInput.commentStore.push(comment);continue;}else if(nextChar==='*'){var nextStarSlash=inp.indexOf("*/",parserInput.i+2);if(nextStarSlash>=0){comment={index:parserInput.i,text:inp.substr(parserInput.i,nextStarSlash+2-parserInput.i),isLineComment:false};parserInput.i+=comment.text.length-1;parserInput.commentStore.push(comment);continue;}}
break;}
if((c!==CHARCODE_SPACE)&&(c!==CHARCODE_LF)&&(c!==CHARCODE_TAB)&&(c!==CHARCODE_CR)){break;}}
current=current.slice(length+parserInput.i-mem+curr);currentPos=parserInput.i;if(!current.length){if(j<chunks.length-1){current=chunks[++j];skipWhitespace(0);return true;}
parserInput.finished=true;}
return oldi!==parserInput.i||oldj!==j;}
parserInput.save=function(){currentPos=parserInput.i;saveStack.push({current:current,i:parserInput.i,j:j});};parserInput.restore=function(possibleErrorMessage){if(parserInput.i>furthest||(parserInput.i===furthest&&possibleErrorMessage&&!furthestPossibleErrorMessage)){furthest=parserInput.i;furthestPossibleErrorMessage=possibleErrorMessage;}
var state=saveStack.pop();current=state.current;currentPos=parserInput.i=state.i;j=state.j;};parserInput.forget=function(){saveStack.pop();};parserInput.isWhitespace=function(offset){var pos=parserInput.i+(offset||0),code=input.charCodeAt(pos);return(code===CHARCODE_SPACE||code===CHARCODE_CR||code===CHARCODE_TAB||code===CHARCODE_LF);};parserInput.$re=function(tok){if(parserInput.i>currentPos){current=current.slice(parserInput.i-currentPos);currentPos=parserInput.i;}
var m=tok.exec(current);if(!m){return null;}
skipWhitespace(m[0].length);if(typeof m==="string"){return m;}
return m.length===1?m[0]:m;};parserInput.$char=function(tok){if(input.charAt(parserInput.i)!==tok){return null;}
skipWhitespace(1);return tok;};parserInput.$str=function(tok){var tokLength=tok.length;for(var i=0;i<tokLength;i++){if(input.charAt(parserInput.i+i)!==tok.charAt(i)){return null;}}
skipWhitespace(tokLength);return tok;};parserInput.$quoted=function(){var startChar=input.charAt(parserInput.i);if(startChar!=="'"&&startChar!=='"'){return;}
var length=input.length,currentPosition=parserInput.i;for(var i=1;i+currentPosition<length;i++){var nextChar=input.charAt(i+currentPosition);switch(nextChar){case"\\":i++;continue;case"\r":case"\n":break;case startChar:var str=input.substr(currentPosition,i+1);skipWhitespace(i+1);return str;default:}}
return null;};parserInput.autoCommentAbsorb=true;parserInput.commentStore=[];parserInput.finished=false;parserInput.peek=function(tok){if(typeof tok==='string'){for(var i=0;i<tok.length;i++){if(input.charAt(parserInput.i+i)!==tok.charAt(i)){return false;}}
return true;}else{return tok.test(current);}};parserInput.peekChar=function(tok){return input.charAt(parserInput.i)===tok;};parserInput.currentChar=function(){return input.charAt(parserInput.i);};parserInput.getInput=function(){return input;};parserInput.peekNotNumeric=function(){var c=input.charCodeAt(parserInput.i);return(c>CHARCODE_9||c<CHARCODE_PLUS)||c===CHARCODE_FORWARD_SLASH||c===CHARCODE_COMMA;};parserInput.start=function(str,chunkInput,failFunction){input=str;parserInput.i=j=currentPos=furthest=0;if(chunkInput){chunks=chunker(str,failFunction);}else{chunks=[str];}
current=chunks[0];skipWhitespace(0);};parserInput.end=function(){var message,isFinished=parserInput.i>=input.length;if(parserInput.i<furthest){message=furthestPossibleErrorMessage;parserInput.i=furthest;}
return{isFinished:isFinished,furthest:parserInput.i,furthestPossibleErrorMessage:message,furthestReachedEnd:parserInput.i>=input.length-1,furthestChar:input[parserInput.i]};};return parserInput;};},{"./chunker":36}],38:[function(require,module,exports){var LessError=require('../less-error'),tree=require("../tree"),visitors=require("../visitors"),getParserInput=require("./parser-input"),utils=require("../utils");var Parser=function Parser(context,imports,fileInfo){var parsers,parserInput=getParserInput();function error(msg,type){throw new LessError({index:parserInput.i,filename:fileInfo.filename,type:type||'Syntax',message:msg},imports);}
function expect(arg,msg,index){var result=(arg instanceof Function)?arg.call(parsers):parserInput.$re(arg);if(result){return result;}
error(msg||(typeof arg==='string'?"expected '"+arg+"' got '"+parserInput.currentChar()+"'":"unexpected token"));}
function expectChar(arg,msg){if(parserInput.$char(arg)){return arg;}
error(msg||"expected '"+arg+"' got '"+parserInput.currentChar()+"'");}
function getDebugInfo(index){var filename=fileInfo.filename;return{lineNumber:utils.getLocation(index,parserInput.getInput()).line+1,fileName:filename};}
return{parse:function(str,callback,additionalData){var root,error=null,globalVars,modifyVars,ignored,preText="";globalVars=(additionalData&&additionalData.globalVars)?Parser.serializeVars(additionalData.globalVars)+'\n':'';modifyVars=(additionalData&&additionalData.modifyVars)?'\n'+Parser.serializeVars(additionalData.modifyVars):'';if(context.pluginManager){var preProcessors=context.pluginManager.getPreProcessors();for(var i=0;i<preProcessors.length;i++){str=preProcessors[i].process(str,{context:context,imports:imports,fileInfo:fileInfo});}}
if(globalVars||(additionalData&&additionalData.banner)){preText=((additionalData&&additionalData.banner)?additionalData.banner:"")+globalVars;ignored=imports.contentsIgnoredChars;ignored[fileInfo.filename]=ignored[fileInfo.filename]||0;ignored[fileInfo.filename]+=preText.length;}
str=str.replace(/\r\n?/g,'\n');str=preText+str.replace(/^\uFEFF/,'')+modifyVars;imports.contents[fileInfo.filename]=str;try{parserInput.start(str,context.chunkInput,function fail(msg,index){throw new LessError({index:index,type:'Parse',message:msg,filename:fileInfo.filename},imports);});root=new(tree.Ruleset)(null,this.parsers.primary());root.root=true;root.firstRoot=true;}catch(e){return callback(new LessError(e,imports,fileInfo.filename));}
var endInfo=parserInput.end();if(!endInfo.isFinished){var message=endInfo.furthestPossibleErrorMessage;if(!message){message="Unrecognised input";if(endInfo.furthestChar==='}'){message+=". Possibly missing opening '{'";}else if(endInfo.furthestChar===')'){message+=". Possibly missing opening '('";}else if(endInfo.furthestReachedEnd){message+=". Possibly missing something";}}
error=new LessError({type:"Parse",message:message,index:endInfo.furthest,filename:fileInfo.filename},imports);}
var finish=function(e){e=error||e||imports.error;if(e){if(!(e instanceof LessError)){e=new LessError(e,imports,fileInfo.filename);}
return callback(e);}
else{return callback(null,root);}};if(context.processImports!==false){new visitors.ImportVisitor(imports,finish).run(root);}else{return finish();}},parsers:parsers={primary:function(){var mixin=this.mixin,root=[],node;while(true){while(true){node=this.comment();if(!node){break;}
root.push(node);}
if(parserInput.finished){break;}
if(parserInput.peek('}')){break;}
node=this.extendRule();if(node){root=root.concat(node);continue;}
node=mixin.definition()||this.rule()||this.ruleset()||mixin.call()||this.rulesetCall()||this.entities.call()||this.directive();if(node){root.push(node);}else{var foundSemiColon=false;while(parserInput.$char(";")){foundSemiColon=true;}
if(!foundSemiColon){break;}}}
return root;},comment:function(){if(parserInput.commentStore.length){var comment=parserInput.commentStore.shift();return new(tree.Comment)(comment.text,comment.isLineComment,comment.index,fileInfo);}},entities:{quoted:function(){var str,index=parserInput.i,isEscaped=false;parserInput.save();if(parserInput.$char("~")){isEscaped=true;}
str=parserInput.$quoted();if(!str){parserInput.restore();return;}
parserInput.forget();return new(tree.Quoted)(str.charAt(0),str.substr(1,str.length-2),isEscaped,index,fileInfo);},keyword:function(){var k=parserInput.$char("%")||parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);if(k){return tree.Color.fromKeyword(k)||new(tree.Keyword)(k);}},call:function(){var name,nameLC,args,alpha,index=parserInput.i;if(parserInput.peek(/^url\(/i)){return;}
parserInput.save();name=parserInput.$re(/^([\w-]+|%|progid:[\w\.]+)\(/);if(!name){parserInput.forget();return;}
name=name[1];nameLC=name.toLowerCase();if(nameLC==='alpha'){alpha=parsers.alpha();if(alpha){parserInput.forget();return alpha;}}
args=this.arguments();if(!parserInput.$char(')')){parserInput.restore("Could not parse call arguments or missing ')'");return;}
parserInput.forget();return new(tree.Call)(name,args,index,fileInfo);},arguments:function(){var argsSemiColon=[],argsComma=[],expressions=[],isSemiColonSeparated,value,arg;parserInput.save();while(true){arg=parsers.detachedRuleset()||this.assignment()||parsers.expression();if(!arg){break;}
value=arg;if(arg.value&&arg.value.length==1){value=arg.value[0];}
if(value){expressions.push(value);}
argsComma.push(value);if(parserInput.$char(',')){continue;}
if(parserInput.$char(';')||isSemiColonSeparated){isSemiColonSeparated=true;if(expressions.length>1){value=new(tree.Value)(expressions);}
argsSemiColon.push(value);expressions=[];}}
parserInput.forget();return isSemiColonSeparated?argsSemiColon:argsComma;},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor();},assignment:function(){var key,value;parserInput.save();key=parserInput.$re(/^\w+(?=\s?=)/i);if(!key){parserInput.restore();return;}
if(!parserInput.$char('=')){parserInput.restore();return;}
value=parsers.entity();if(value){parserInput.forget();return new(tree.Assignment)(key,value);}else{parserInput.restore();}},url:function(){var value,index=parserInput.i;parserInput.autoCommentAbsorb=false;if(!parserInput.$str("url(")){parserInput.autoCommentAbsorb=true;return;}
value=this.quoted()||this.variable()||parserInput.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"";parserInput.autoCommentAbsorb=true;expectChar(')');return new(tree.URL)((value.value!=null||value instanceof tree.Variable)?value:new(tree.Anonymous)(value),index,fileInfo);},variable:function(){var name,index=parserInput.i;if(parserInput.currentChar()==='@'&&(name=parserInput.$re(/^@@?[\w-]+/))){return new(tree.Variable)(name,index,fileInfo);}},variableCurly:function(){var curly,index=parserInput.i;if(parserInput.currentChar()==='@'&&(curly=parserInput.$re(/^@\{([\w-]+)\}/))){return new(tree.Variable)("@"+curly[1],index,fileInfo);}},color:function(){var rgb;if(parserInput.currentChar()==='#'&&(rgb=parserInput.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){var colorCandidateString=rgb.input.match(/^#([\w]+).*/);colorCandidateString=colorCandidateString[1];if(!colorCandidateString.match(/^[A-Fa-f0-9]+$/)){error("Invalid HEX color code");}
return new(tree.Color)(rgb[1],undefined,'#'+colorCandidateString);}},colorKeyword:function(){parserInput.save();var autoCommentAbsorb=parserInput.autoCommentAbsorb;parserInput.autoCommentAbsorb=false;var k=parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);parserInput.autoCommentAbsorb=autoCommentAbsorb;if(!k){parserInput.forget();return;}
parserInput.restore();var color=tree.Color.fromKeyword(k);if(color){parserInput.$str(k);return color;}},dimension:function(){if(parserInput.peekNotNumeric()){return;}
var value=parserInput.$re(/^([+-]?\d*\.?\d+)(%|[a-z_]+)?/i);if(value){return new(tree.Dimension)(value[1],value[2]);}},unicodeDescriptor:function(){var ud;ud=parserInput.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/);if(ud){return new(tree.UnicodeDescriptor)(ud[0]);}},javascript:function(){var js,index=parserInput.i;parserInput.save();var escape=parserInput.$char("~");var jsQuote=parserInput.$char("`");if(!jsQuote){parserInput.restore();return;}
js=parserInput.$re(/^[^`]*`/);if(js){parserInput.forget();return new(tree.JavaScript)(js.substr(0,js.length-1),Boolean(escape),index,fileInfo);}
parserInput.restore("invalid javascript definition");}},variable:function(){var name;if(parserInput.currentChar()==='@'&&(name=parserInput.$re(/^(@[\w-]+)\s*:/))){return name[1];}},rulesetCall:function(){var name;if(parserInput.currentChar()==='@'&&(name=parserInput.$re(/^(@[\w-]+)\(\s*\)\s*;/))){return new tree.RulesetCall(name[1]);}},extend:function(isRule){var elements,e,index=parserInput.i,option,extendList,extend;if(!parserInput.$str(isRule?"&:extend(":":extend(")){return;}
do{option=null;elements=null;while(!(option=parserInput.$re(/^(all)(?=\s*(\)|,))/))){e=this.element();if(!e){break;}
if(elements){elements.push(e);}else{elements=[e];}}
option=option&&option[1];if(!elements){error("Missing target selector for :extend().");}
extend=new(tree.Extend)(new(tree.Selector)(elements),option,index,fileInfo);if(extendList){extendList.push(extend);}else{extendList=[extend];}}while(parserInput.$char(","));expect(/^\)/);if(isRule){expect(/^;/);}
return extendList;},extendRule:function(){return this.extend(true);},mixin:{call:function(){var s=parserInput.currentChar(),important=false,index=parserInput.i,elemIndex,elements,elem,e,c,args;if(s!=='.'&&s!=='#'){return;}
parserInput.save();while(true){elemIndex=parserInput.i;e=parserInput.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);if(!e){break;}
elem=new(tree.Element)(c,e,elemIndex,fileInfo);if(elements){elements.push(elem);}else{elements=[elem];}
c=parserInput.$char('>');}
if(elements){if(parserInput.$char('(')){args=this.args(true).args;expectChar(')');}
if(parsers.important()){important=true;}
if(parsers.end()){parserInput.forget();return new(tree.mixin.Call)(elements,args,index,fileInfo,important);}}
parserInput.restore();},args:function(isCall){var entities=parsers.entities,returner={args:null,variadic:false},expressions=[],argsSemiColon=[],argsComma=[],isSemiColonSeparated,expressionContainsNamed,name,nameLoop,value,arg,expand;parserInput.save();while(true){if(isCall){arg=parsers.detachedRuleset()||parsers.expression();}else{parserInput.commentStore.length=0;if(parserInput.$str("...")){returner.variadic=true;if(parserInput.$char(";")&&!isSemiColonSeparated){isSemiColonSeparated=true;}
(isSemiColonSeparated?argsSemiColon:argsComma).push({variadic:true});break;}
arg=entities.variable()||entities.literal()||entities.keyword();}
if(!arg){break;}
nameLoop=null;if(arg.throwAwayComments){arg.throwAwayComments();}
value=arg;var val=null;if(isCall){if(arg.value&&arg.value.length==1){val=arg.value[0];}}else{val=arg;}
if(val&&val instanceof tree.Variable){if(parserInput.$char(':')){if(expressions.length>0){if(isSemiColonSeparated){error("Cannot mix ; and , as delimiter types");}
expressionContainsNamed=true;}
value=parsers.detachedRuleset()||parsers.expression();if(!value){if(isCall){error("could not understand value for named argument");}else{parserInput.restore();returner.args=[];return returner;}}
nameLoop=(name=val.name);}else if(parserInput.$str("...")){if(!isCall){returner.variadic=true;if(parserInput.$char(";")&&!isSemiColonSeparated){isSemiColonSeparated=true;}
(isSemiColonSeparated?argsSemiColon:argsComma).push({name:arg.name,variadic:true});break;}else{expand=true;}}else if(!isCall){name=nameLoop=val.name;value=null;}}
if(value){expressions.push(value);}
argsComma.push({name:nameLoop,value:value,expand:expand});if(parserInput.$char(',')){continue;}
if(parserInput.$char(';')||isSemiColonSeparated){if(expressionContainsNamed){error("Cannot mix ; and , as delimiter types");}
isSemiColonSeparated=true;if(expressions.length>1){value=new(tree.Value)(expressions);}
argsSemiColon.push({name:name,value:value,expand:expand});name=null;expressions=[];expressionContainsNamed=false;}}
parserInput.forget();returner.args=isSemiColonSeparated?argsSemiColon:argsComma;return returner;},definition:function(){var name,params=[],match,ruleset,cond,variadic=false;if((parserInput.currentChar()!=='.'&&parserInput.currentChar()!=='#')||parserInput.peek(/^[^{]*\}/)){return;}
parserInput.save();match=parserInput.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/);if(match){name=match[1];var argInfo=this.args(false);params=argInfo.args;variadic=argInfo.variadic;if(!parserInput.$char(')')){parserInput.restore("Missing closing ')'");return;}
parserInput.commentStore.length=0;if(parserInput.$str("when")){cond=expect(parsers.conditions,'expected condition');}
ruleset=parsers.block();if(ruleset){parserInput.forget();return new(tree.mixin.Definition)(name,params,ruleset,cond,variadic);}else{parserInput.restore();}}else{parserInput.forget();}}},entity:function(){var entities=this.entities;return this.comment()||entities.literal()||entities.variable()||entities.url()||entities.call()||entities.keyword()||entities.javascript();},end:function(){return parserInput.$char(';')||parserInput.peek('}');},alpha:function(){var value;if(!parserInput.$re(/^opacity=/i)){return;}
value=parserInput.$re(/^\d+/);if(!value){value=expect(this.entities.variable,"Could not parse alpha");}
expectChar(')');return new(tree.Alpha)(value);},element:function(){var e,c,v,index=parserInput.i;c=this.combinator();e=parserInput.$re(/^(?:\d+\.\d+|\d+)%/)||parserInput.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||parserInput.$char('*')||parserInput.$char('&')||this.attribute()||parserInput.$re(/^\([^&()@]+\)/)||parserInput.$re(/^[\.#:](?=@)/)||this.entities.variableCurly();if(!e){parserInput.save();if(parserInput.$char('(')){if((v=this.selector())&&parserInput.$char(')')){e=new(tree.Paren)(v);parserInput.forget();}else{parserInput.restore("Missing closing ')'");}}else{parserInput.forget();}}
if(e){return new(tree.Element)(c,e,index,fileInfo);}},combinator:function(){var c=parserInput.currentChar();if(c==='/'){parserInput.save();var slashedCombinator=parserInput.$re(/^\/[a-z]+\//i);if(slashedCombinator){parserInput.forget();return new(tree.Combinator)(slashedCombinator);}
parserInput.restore();}
if(c==='>'||c==='+'||c==='~'||c==='|'||c==='^'){parserInput.i++;if(c==='^'&&parserInput.currentChar()==='^'){c='^^';parserInput.i++;}
while(parserInput.isWhitespace()){parserInput.i++;}
return new(tree.Combinator)(c);}else if(parserInput.isWhitespace(-1)){return new(tree.Combinator)(" ");}else{return new(tree.Combinator)(null);}},lessSelector:function(){return this.selector(true);},selector:function(isLess){var index=parserInput.i,elements,extendList,c,e,allExtends,when,condition;while((isLess&&(extendList=this.extend()))||(isLess&&(when=parserInput.$str("when")))||(e=this.element())){if(when){condition=expect(this.conditions,'expected condition');}else if(condition){error("CSS guard can only be used at the end of selector");}else if(extendList){if(allExtends){allExtends=allExtends.concat(extendList);}else{allExtends=extendList;}}else{if(allExtends){error("Extend can only be used at the end of selector");}
c=parserInput.currentChar();if(elements){elements.push(e);}else{elements=[e];}
e=null;}
if(c==='{'||c==='}'||c===';'||c===','||c===')'){break;}}
if(elements){return new(tree.Selector)(elements,allExtends,condition,index,fileInfo);}
if(allExtends){error("Extend must be used to extend a selector, it cannot be used on its own");}},attribute:function(){if(!parserInput.$char('[')){return;}
var entities=this.entities,key,val,op;if(!(key=entities.variableCurly())){key=expect(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/);}
op=parserInput.$re(/^[|~*$^]?=/);if(op){val=entities.quoted()||parserInput.$re(/^[0-9]+%/)||parserInput.$re(/^[\w-]+/)||entities.variableCurly();}
expectChar(']');return new(tree.Attribute)(key,op,val);},block:function(){var content;if(parserInput.$char('{')&&(content=this.primary())&&parserInput.$char('}')){return content;}},blockRuleset:function(){var block=this.block();if(block){block=new tree.Ruleset(null,block);}
return block;},detachedRuleset:function(){var blockRuleset=this.blockRuleset();if(blockRuleset){return new tree.DetachedRuleset(blockRuleset);}},ruleset:function(){var selectors,s,rules,debugInfo;parserInput.save();if(context.dumpLineNumbers){debugInfo=getDebugInfo(parserInput.i);}
while(true){s=this.lessSelector();if(!s){break;}
if(selectors){selectors.push(s);}else{selectors=[s];}
parserInput.commentStore.length=0;if(s.condition&&selectors.length>1){error("Guards are only currently allowed on a single selector.");}
if(!parserInput.$char(',')){break;}
if(s.condition){error("Guards are only currently allowed on a single selector.");}
parserInput.commentStore.length=0;}
if(selectors&&(rules=this.block())){parserInput.forget();var ruleset=new(tree.Ruleset)(selectors,rules,context.strictImports);if(context.dumpLineNumbers){ruleset.debugInfo=debugInfo;}
return ruleset;}else{parserInput.restore();}},rule:function(tryAnonymous){var name,value,startOfRule=parserInput.i,c=parserInput.currentChar(),important,merge,isVariable;if(c==='.'||c==='#'||c==='&'||c===':'){return;}
parserInput.save();name=this.variable()||this.ruleProperty();if(name){isVariable=typeof name==="string";if(isVariable){value=this.detachedRuleset();}
parserInput.commentStore.length=0;if(!value){merge=!isVariable&&name.length>1&&name.pop().value;var tryValueFirst=!tryAnonymous&&(context.compress||isVariable);if(tryValueFirst){value=this.value();}
if(!value){value=this.anonymousValue();if(value){parserInput.forget();return new(tree.Rule)(name,value,false,merge,startOfRule,fileInfo);}}
if(!tryValueFirst&&!value){value=this.value();}
important=this.important();}
if(value&&this.end()){parserInput.forget();return new(tree.Rule)(name,value,important,merge,startOfRule,fileInfo);}else{parserInput.restore();if(value&&!tryAnonymous){return this.rule(true);}}}else{parserInput.forget();}},anonymousValue:function(){var match=parserInput.$re(/^([^@+\/'"*`(;{}-]*);/);if(match){return new(tree.Anonymous)(match[1]);}},"import":function(){var path,features,index=parserInput.i;var dir=parserInput.$re(/^@import?\s+/);if(dir){var options=(dir?this.importOptions():null)||{};if((path=this.entities.quoted()||this.entities.url())){features=this.mediaFeatures();if(!parserInput.$char(';')){parserInput.i=index;error("missing semi-colon or unrecognised media features on import");}
features=features&&new(tree.Value)(features);return new(tree.Import)(path,features,options,index,fileInfo);}
else{parserInput.i=index;error("malformed import statement");}}},importOptions:function(){var o,options={},optionName,value;if(!parserInput.$char('(')){return null;}
do{o=this.importOption();if(o){optionName=o;value=true;switch(optionName){case"css":optionName="less";value=false;break;case"once":optionName="multiple";value=false;break;}
options[optionName]=value;if(!parserInput.$char(',')){break;}}}while(o);expectChar(')');return options;},importOption:function(){var opt=parserInput.$re(/^(less|css|multiple|once|inline|reference|optional)/);if(opt){return opt[1];}},mediaFeature:function(){var entities=this.entities,nodes=[],e,p;parserInput.save();do{e=entities.keyword()||entities.variable();if(e){nodes.push(e);}else if(parserInput.$char('(')){p=this.property();e=this.value();if(parserInput.$char(')')){if(p&&e){nodes.push(new(tree.Paren)(new(tree.Rule)(p,e,null,null,parserInput.i,fileInfo,true)));}else if(e){nodes.push(new(tree.Paren)(e));}else{error("badly formed media feature definition");}}else{error("Missing closing ')'","Parse");}}}while(e);parserInput.forget();if(nodes.length>0){return new(tree.Expression)(nodes);}},mediaFeatures:function(){var entities=this.entities,features=[],e;do{e=this.mediaFeature();if(e){features.push(e);if(!parserInput.$char(',')){break;}}else{e=entities.variable();if(e){features.push(e);if(!parserInput.$char(',')){break;}}}}while(e);return features.length>0?features:null;},media:function(){var features,rules,media,debugInfo,index=parserInput.i;if(context.dumpLineNumbers){debugInfo=getDebugInfo(index);}
parserInput.save();if(parserInput.$str("@media")){features=this.mediaFeatures();rules=this.block();if(!rules){error("media definitions require block statements after any features");}
parserInput.forget();media=new(tree.Media)(rules,features,index,fileInfo);if(context.dumpLineNumbers){media.debugInfo=debugInfo;}
return media;}
parserInput.restore();},plugin:function(){var path,index=parserInput.i,dir=parserInput.$re(/^@plugin?\s+/);if(dir){var options={plugin:true};if((path=this.entities.quoted()||this.entities.url())){if(!parserInput.$char(';')){parserInput.i=index;error("missing semi-colon on plugin");}
return new(tree.Import)(path,null,options,index,fileInfo);}
else{parserInput.i=index;error("malformed plugin statement");}}},directive:function(){var index=parserInput.i,name,value,rules,nonVendorSpecificName,hasIdentifier,hasExpression,hasUnknown,hasBlock=true,isRooted=true;if(parserInput.currentChar()!=='@'){return;}
value=this['import']()||this.plugin()||this.media();if(value){return value;}
parserInput.save();name=parserInput.$re(/^@[a-z-]+/);if(!name){return;}
nonVendorSpecificName=name;if(name.charAt(1)=='-'&&name.indexOf('-',2)>0){nonVendorSpecificName="@"+name.slice(name.indexOf('-',2)+1);}
switch(nonVendorSpecificName){case"@charset":hasIdentifier=true;hasBlock=false;break;case"@namespace":hasExpression=true;hasBlock=false;break;case"@keyframes":case"@counter-style":hasIdentifier=true;break;case"@document":case"@supports":hasUnknown=true;isRooted=false;break;default:hasUnknown=true;break;}
parserInput.commentStore.length=0;if(hasIdentifier){value=this.entity();if(!value){error("expected "+name+" identifier");}}else if(hasExpression){value=this.expression();if(!value){error("expected "+name+" expression");}}else if(hasUnknown){value=(parserInput.$re(/^[^{;]+/)||'').trim();hasBlock=(parserInput.currentChar()=='{');if(value){value=new(tree.Anonymous)(value);}}
if(hasBlock){rules=this.blockRuleset();}
if(rules||(!hasBlock&&value&&parserInput.$char(';'))){parserInput.forget();return new(tree.Directive)(name,value,rules,index,fileInfo,context.dumpLineNumbers?getDebugInfo(index):null,isRooted);}
parserInput.restore("directive options not recognised");},value:function(){var e,expressions=[];do{e=this.expression();if(e){expressions.push(e);if(!parserInput.$char(',')){break;}}}while(e);if(expressions.length>0){return new(tree.Value)(expressions);}},important:function(){if(parserInput.currentChar()==='!'){return parserInput.$re(/^! *important/);}},sub:function(){var a,e;parserInput.save();if(parserInput.$char('(')){a=this.addition();if(a&&parserInput.$char(')')){parserInput.forget();e=new(tree.Expression)([a]);e.parens=true;return e;}
parserInput.restore("Expected ')'");return;}
parserInput.restore();},multiplication:function(){var m,a,op,operation,isSpaced;m=this.operand();if(m){isSpaced=parserInput.isWhitespace(-1);while(true){if(parserInput.peek(/^\/[*\/]/)){break;}
parserInput.save();op=parserInput.$char('/')||parserInput.$char('*');if(!op){parserInput.forget();break;}
a=this.operand();if(!a){parserInput.restore();break;}
parserInput.forget();m.parensInOp=true;a.parensInOp=true;operation=new(tree.Operation)(op,[operation||m,a],isSpaced);isSpaced=parserInput.isWhitespace(-1);}
return operation||m;}},addition:function(){var m,a,op,operation,isSpaced;m=this.multiplication();if(m){isSpaced=parserInput.isWhitespace(-1);while(true){op=parserInput.$re(/^[-+]\s+/)||(!isSpaced&&(parserInput.$char('+')||parserInput.$char('-')));if(!op){break;}
a=this.multiplication();if(!a){break;}
m.parensInOp=true;a.parensInOp=true;operation=new(tree.Operation)(op,[operation||m,a],isSpaced);isSpaced=parserInput.isWhitespace(-1);}
return operation||m;}},conditions:function(){var a,b,index=parserInput.i,condition;a=this.condition();if(a){while(true){if(!parserInput.peek(/^,\s*(not\s*)?\(/)||!parserInput.$char(',')){break;}
b=this.condition();if(!b){break;}
condition=new(tree.Condition)('or',condition||a,b,index);}
return condition||a;}},condition:function(){var result,logical,next;function or(){return parserInput.$str("or");}
result=this.conditionAnd(this);if(!result){return;}
logical=or();if(logical){next=this.condition();if(next){result=new(tree.Condition)(logical,result,next);}else{return;}}
return result;},conditionAnd:function(){var result,logical,next;function insideCondition(me){return me.negatedCondition()||me.parenthesisCondition();}
function and(){return parserInput.$str("and");}
result=insideCondition(this);if(!result){return;}
logical=and();if(logical){next=this.conditionAnd();if(next){result=new(tree.Condition)(logical,result,next);}else{return;}}
return result;},negatedCondition:function(){if(parserInput.$str("not")){var result=this.parenthesisCondition();if(result){result.negate=!result.negate;}
return result;}},parenthesisCondition:function(){function tryConditionFollowedByParenthesis(me){var body;parserInput.save();body=me.condition();if(!body){parserInput.restore();return;}
if(!parserInput.$char(')')){parserInput.restore();return;}
parserInput.forget();return body;}
var body;parserInput.save();if(!parserInput.$str("(")){parserInput.restore();return;}
body=tryConditionFollowedByParenthesis(this);if(body){parserInput.forget();return body;}
body=this.atomicCondition();if(!body){parserInput.restore();return;}
if(!parserInput.$char(')')){parserInput.restore("expected ')' got '"+parserInput.currentChar()+"'");return;}
parserInput.forget();return body;},atomicCondition:function(){var entities=this.entities,index=parserInput.i,a,b,c,op;a=this.addition()||entities.keyword()||entities.quoted();if(a){if(parserInput.$char('>')){if(parserInput.$char('=')){op=">=";}else{op='>';}}else
if(parserInput.$char('<')){if(parserInput.$char('=')){op="<=";}else{op='<';}}else
if(parserInput.$char('=')){if(parserInput.$char('>')){op="=>";}else if(parserInput.$char('<')){op='=<';}else{op='=';}}
if(op){b=this.addition()||entities.keyword()||entities.quoted();if(b){c=new(tree.Condition)(op,a,b,index,false);}else{error('expected expression');}}else{c=new(tree.Condition)('=',a,new(tree.Keyword)('true'),index,false);}
return c;}},operand:function(){var entities=this.entities,negate;if(parserInput.peek(/^-[@\(]/)){negate=parserInput.$char('-');}
var o=this.sub()||entities.dimension()||entities.color()||entities.variable()||entities.call()||entities.colorKeyword();if(negate){o.parensInOp=true;o=new(tree.Negative)(o);}
return o;},expression:function(){var entities=[],e,delim;do{e=this.comment();if(e){entities.push(e);continue;}
e=this.addition()||this.entity();if(e){entities.push(e);if(!parserInput.peek(/^\/[\/*]/)){delim=parserInput.$char('/');if(delim){entities.push(new(tree.Anonymous)(delim));}}}}while(e);if(entities.length>0){return new(tree.Expression)(entities);}},property:function(){var name=parserInput.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(name){return name[1];}},ruleProperty:function(){var name=[],index=[],s,k;parserInput.save();var simpleProperty=parserInput.$re(/^([_a-zA-Z0-9-]+)\s*:/);if(simpleProperty){name=[new(tree.Keyword)(simpleProperty[1])];parserInput.forget();return name;}
function match(re){var i=parserInput.i,chunk=parserInput.$re(re);if(chunk){index.push(i);return name.push(chunk[1]);}}
match(/^(\*?)/);while(true){if(!match(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/)){break;}}
if((name.length>1)&&match(/^((?:\+_|\+)?)\s*:/)){parserInput.forget();if(name[0]===''){name.shift();index.shift();}
for(k=0;k<name.length;k++){s=name[k];name[k]=(s.charAt(0)!=='@')?new(tree.Keyword)(s):new(tree.Variable)('@'+s.slice(2,-1),index[k],fileInfo);}
return name;}
parserInput.restore();}}};};Parser.serializeVars=function(vars){var s='';for(var name in vars){if(Object.hasOwnProperty.call(vars,name)){var value=vars[name];s+=((name[0]==='@')?'':'@')+name+': '+value+
((String(value).slice(-1)===';')?'':';');}}
return s;};module.exports=Parser;},{"../less-error":32,"../tree":62,"../utils":83,"../visitors":87,"./parser-input":37}],39:[function(require,module,exports){var PluginManager=function(less){this.less=less;this.visitors=[];this.preProcessors=[];this.postProcessors=[];this.installedPlugins=[];this.fileManagers=[];};PluginManager.prototype.addPlugins=function(plugins){if(plugins){for(var i=0;i<plugins.length;i++){this.addPlugin(plugins[i]);}}};PluginManager.prototype.addPlugin=function(plugin){this.installedPlugins.push(plugin);plugin.install(this.less,this);};PluginManager.prototype.addVisitor=function(visitor){this.visitors.push(visitor);};PluginManager.prototype.addPreProcessor=function(preProcessor,priority){var indexToInsertAt;for(indexToInsertAt=0;indexToInsertAt<this.preProcessors.length;indexToInsertAt++){if(this.preProcessors[indexToInsertAt].priority>=priority){break;}}
this.preProcessors.splice(indexToInsertAt,0,{preProcessor:preProcessor,priority:priority});};PluginManager.prototype.addPostProcessor=function(postProcessor,priority){var indexToInsertAt;for(indexToInsertAt=0;indexToInsertAt<this.postProcessors.length;indexToInsertAt++){if(this.postProcessors[indexToInsertAt].priority>=priority){break;}}
this.postProcessors.splice(indexToInsertAt,0,{postProcessor:postProcessor,priority:priority});};PluginManager.prototype.addFileManager=function(manager){this.fileManagers.push(manager);};PluginManager.prototype.getPreProcessors=function(){var preProcessors=[];for(var i=0;i<this.preProcessors.length;i++){preProcessors.push(this.preProcessors[i].preProcessor);}
return preProcessors;};PluginManager.prototype.getPostProcessors=function(){var postProcessors=[];for(var i=0;i<this.postProcessors.length;i++){postProcessors.push(this.postProcessors[i].postProcessor);}
return postProcessors;};PluginManager.prototype.getVisitors=function(){return this.visitors;};PluginManager.prototype.getFileManagers=function(){return this.fileManagers;};module.exports=PluginManager;},{}],40:[function(require,module,exports){var LessError=require('../less-error'),tree=require("../tree");var FunctionImporter=module.exports=function FunctionImporter(context,fileInfo){this.fileInfo=fileInfo;};FunctionImporter.prototype.eval=function(contents,callback){var loaded={},loader,registry;registry={add:function(name,func){loaded[name]=func;},addMultiple:function(functions){Object.keys(functions).forEach(function(name){loaded[name]=functions[name];});}};try{loader=new Function("functions","tree","fileInfo",contents);loader(registry,tree,this.fileInfo);}catch(e){callback(new LessError({message:"Plugin evaluation error: '"+e.name+': '+e.message.replace(/["]/g,"'")+"'",filename:this.fileInfo.filename}),null);}
callback(null,{functions:loaded});};},{"../less-error":32,"../tree":62}],41:[function(require,module,exports){var PromiseConstructor;module.exports=function(environment,ParseTree,ImportManager){var render=function(input,options,callback){if(typeof options==='function'){callback=options;options={};}
if(!callback){if(!PromiseConstructor){PromiseConstructor=typeof Promise==='undefined'?require('promise'):Promise;}
var self=this;return new PromiseConstructor(function(resolve,reject){render.call(self,input,options,function(err,output){if(err){reject(err);}else{resolve(output);}});});}else{this.parse(input,options,function(err,root,imports,options){if(err){return callback(err);}
var result;try{var parseTree=new ParseTree(root,imports);result=parseTree.toCSS(options);}
catch(err){return callback(err);}
callback(null,result);});}};return render;};},{"promise":undefined}],42:[function(require,module,exports){module.exports=function(SourceMapOutput,environment){var SourceMapBuilder=function(options){this.options=options;};SourceMapBuilder.prototype.toCSS=function(rootNode,options,imports){var sourceMapOutput=new SourceMapOutput({contentsIgnoredCharsMap:imports.contentsIgnoredChars,rootNode:rootNode,contentsMap:imports.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline});var css=sourceMapOutput.toCSS(options);this.sourceMap=sourceMapOutput.sourceMap;this.sourceMapURL=sourceMapOutput.sourceMapURL;if(this.options.sourceMapInputFilename){this.sourceMapInputFilename=sourceMapOutput.normalizeFilename(this.options.sourceMapInputFilename);}
return css+this.getCSSAppendage();};SourceMapBuilder.prototype.getCSSAppendage=function(){var sourceMapURL=this.sourceMapURL;if(this.options.sourceMapFileInline){if(this.sourceMap===undefined){return"";}
sourceMapURL="data:application/json;base64,"+environment.encodeBase64(this.sourceMap);}
if(sourceMapURL){return"/*# sourceMappingURL="+sourceMapURL+" */";}
return"";};SourceMapBuilder.prototype.getExternalSourceMap=function(){return this.sourceMap;};SourceMapBuilder.prototype.setExternalSourceMap=function(sourceMap){this.sourceMap=sourceMap;};SourceMapBuilder.prototype.isInline=function(){return this.options.sourceMapFileInline;};SourceMapBuilder.prototype.getSourceMapURL=function(){return this.sourceMapURL;};SourceMapBuilder.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename;};SourceMapBuilder.prototype.getInputFilename=function(){return this.sourceMapInputFilename;};return SourceMapBuilder;};},{}],43:[function(require,module,exports){module.exports=function(environment){var SourceMapOutput=function(options){this._css=[];this._rootNode=options.rootNode;this._contentsMap=options.contentsMap;this._contentsIgnoredCharsMap=options.contentsIgnoredCharsMap;if(options.sourceMapFilename){this._sourceMapFilename=options.sourceMapFilename.replace(/\\/g,'/');}
this._outputFilename=options.outputFilename;this.sourceMapURL=options.sourceMapURL;if(options.sourceMapBasepath){this._sourceMapBasepath=options.sourceMapBasepath.replace(/\\/g,'/');}
if(options.sourceMapRootpath){this._sourceMapRootpath=options.sourceMapRootpath.replace(/\\/g,'/');if(this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)!=='/'){this._sourceMapRootpath+='/';}}else{this._sourceMapRootpath="";}
this._outputSourceFiles=options.outputSourceFiles;this._sourceMapGeneratorConstructor=environment.getSourceMapGenerator();this._lineNumber=0;this._column=0;};SourceMapOutput.prototype.normalizeFilename=function(filename){filename=filename.replace(/\\/g,'/');if(this._sourceMapBasepath&&filename.indexOf(this._sourceMapBasepath)===0){filename=filename.substring(this._sourceMapBasepath.length);if(filename.charAt(0)==='\\'||filename.charAt(0)==='/'){filename=filename.substring(1);}}
return(this._sourceMapRootpath||"")+filename;};SourceMapOutput.prototype.add=function(chunk,fileInfo,index,mapLines){if(!chunk){return;}
var lines,sourceLines,columns,sourceColumns,i;if(fileInfo){var inputSource=this._contentsMap[fileInfo.filename];if(this._contentsIgnoredCharsMap[fileInfo.filename]){index-=this._contentsIgnoredCharsMap[fileInfo.filename];if(index<0){index=0;}
inputSource=inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename]);}
inputSource=inputSource.substring(0,index);sourceLines=inputSource.split("\n");sourceColumns=sourceLines[sourceLines.length-1];}
lines=chunk.split("\n");columns=lines[lines.length-1];if(fileInfo){if(!mapLines){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:sourceLines.length,column:sourceColumns.length},source:this.normalizeFilename(fileInfo.filename)});}else{for(i=0;i<lines.length;i++){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+i+1,column:i===0?this._column:0},original:{line:sourceLines.length+i,column:i===0?sourceColumns.length:0},source:this.normalizeFilename(fileInfo.filename)});}}}
if(lines.length===1){this._column+=columns.length;}else{this._lineNumber+=lines.length-1;this._column=columns.length;}
this._css.push(chunk);};SourceMapOutput.prototype.isEmpty=function(){return this._css.length===0;};SourceMapOutput.prototype.toCSS=function(context){this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null});if(this._outputSourceFiles){for(var filename in this._contentsMap){if(this._contentsMap.hasOwnProperty(filename)){var source=this._contentsMap[filename];if(this._contentsIgnoredCharsMap[filename]){source=source.slice(this._contentsIgnoredCharsMap[filename]);}
this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename),source);}}}
this._rootNode.genCSS(context,this);if(this._css.length>0){var sourceMapURL,sourceMapContent=JSON.stringify(this._sourceMapGenerator.toJSON());if(this.sourceMapURL){sourceMapURL=this.sourceMapURL;}else if(this._sourceMapFilename){sourceMapURL=this._sourceMapFilename;}
this.sourceMapURL=sourceMapURL;this.sourceMap=sourceMapContent;}
return this._css.join('');};return SourceMapOutput;};},{}],44:[function(require,module,exports){var contexts=require("./contexts"),visitor=require("./visitors"),tree=require("./tree");module.exports=function(root,options){options=options||{};var evaldRoot,variables=options.variables,evalEnv=new contexts.Eval(options);if(typeof variables==='object'&&!Array.isArray(variables)){variables=Object.keys(variables).map(function(k){var value=variables[k];if(!(value instanceof tree.Value)){if(!(value instanceof tree.Expression)){value=new tree.Expression([value]);}
value=new tree.Value([value]);}
return new tree.Rule('@'+k,value,false,null,0);});evalEnv.frames=[new tree.Ruleset(null,variables)];}
var preEvalVisitors=[],visitors=[new visitor.JoinSelectorVisitor(),new visitor.MarkVisibleSelectorsVisitor(true),new visitor.ExtendVisitor(),new visitor.ToCSSVisitor({compress:Boolean(options.compress)})],i;if(options.pluginManager){var pluginVisitors=options.pluginManager.getVisitors();for(i=0;i<pluginVisitors.length;i++){var pluginVisitor=pluginVisitors[i];if(pluginVisitor.isPreEvalVisitor){preEvalVisitors.push(pluginVisitor);}else{if(pluginVisitor.isPreVisitor){visitors.splice(0,0,pluginVisitor);}else{visitors.push(pluginVisitor);}}}}
for(i=0;i<preEvalVisitors.length;i++){preEvalVisitors[i].run(root);}
evaldRoot=root.eval(evalEnv);for(i=0;i<visitors.length;i++){visitors[i].run(evaldRoot);}
return evaldRoot;};},{"./contexts":11,"./tree":62,"./visitors":87}],45:[function(require,module,exports){var Node=require("./node");var Alpha=function(val){this.value=val;};Alpha.prototype=new Node();Alpha.prototype.type="Alpha";Alpha.prototype.accept=function(visitor){this.value=visitor.visit(this.value);};Alpha.prototype.eval=function(context){if(this.value.eval){return new Alpha(this.value.eval(context));}
return this;};Alpha.prototype.genCSS=function(context,output){output.add("alpha(opacity=");if(this.value.genCSS){this.value.genCSS(context,output);}else{output.add(this.value);}
output.add(")");};module.exports=Alpha;},{"./node":70}],46:[function(require,module,exports){var Node=require("./node");var Anonymous=function(value,index,currentFileInfo,mapLines,rulesetLike,visibilityInfo){this.value=value;this.index=index;this.mapLines=mapLines;this.currentFileInfo=currentFileInfo;this.rulesetLike=(typeof rulesetLike==='undefined')?false:rulesetLike;this.allowRoot=true;this.copyVisibilityInfo(visibilityInfo);};Anonymous.prototype=new Node();Anonymous.prototype.type="Anonymous";Anonymous.prototype.eval=function(){return new Anonymous(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike,this.visibilityInfo());};Anonymous.prototype.compare=function(other){return other.toCSS&&this.toCSS()===other.toCSS()?0:undefined;};Anonymous.prototype.isRulesetLike=function(){return this.rulesetLike;};Anonymous.prototype.genCSS=function(context,output){output.add(this.value,this.currentFileInfo,this.index,this.mapLines);};module.exports=Anonymous;},{"./node":70}],47:[function(require,module,exports){var Node=require("./node");var Assignment=function(key,val){this.key=key;this.value=val;};Assignment.prototype=new Node();Assignment.prototype.type="Assignment";Assignment.prototype.accept=function(visitor){this.value=visitor.visit(this.value);};Assignment.prototype.eval=function(context){if(this.value.eval){return new Assignment(this.key,this.value.eval(context));}
return this;};Assignment.prototype.genCSS=function(context,output){output.add(this.key+'=');if(this.value.genCSS){this.value.genCSS(context,output);}else{output.add(this.value);}};module.exports=Assignment;},{"./node":70}],48:[function(require,module,exports){var Node=require("./node");var Attribute=function(key,op,value){this.key=key;this.op=op;this.value=value;};Attribute.prototype=new Node();Attribute.prototype.type="Attribute";Attribute.prototype.eval=function(context){return new Attribute(this.key.eval?this.key.eval(context):this.key,this.op,(this.value&&this.value.eval)?this.value.eval(context):this.value);};Attribute.prototype.genCSS=function(context,output){output.add(this.toCSS(context));};Attribute.prototype.toCSS=function(context){var value=this.key.toCSS?this.key.toCSS(context):this.key;if(this.op){value+=this.op;value+=(this.value.toCSS?this.value.toCSS(context):this.value);}
return'['+value+']';};module.exports=Attribute;},{"./node":70}],49:[function(require,module,exports){var Node=require("./node"),FunctionCaller=require("../functions/function-caller");var Call=function(name,args,index,currentFileInfo){this.name=name;this.args=args;this.index=index;this.currentFileInfo=currentFileInfo;};Call.prototype=new Node();Call.prototype.type="Call";Call.prototype.accept=function(visitor){if(this.args){this.args=visitor.visitArray(this.args);}};Call.prototype.eval=function(context){var args=this.args.map(function(a){return a.eval(context);}),result,funcCaller=new FunctionCaller(this.name,context,this.index,this.currentFileInfo);if(funcCaller.isValid()){try{result=funcCaller.call(args);}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+
(e.message?': '+e.message:''),index:this.index,filename:this.currentFileInfo.filename};}
if(result!=null){result.index=this.index;result.currentFileInfo=this.currentFileInfo;return result;}}
return new Call(this.name,args,this.index,this.currentFileInfo);};Call.prototype.genCSS=function(context,output){output.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++){this.args[i].genCSS(context,output);if(i+1<this.args.length){output.add(", ");}}
output.add(")");};module.exports=Call;},{"../functions/function-caller":21,"./node":70}],50:[function(require,module,exports){var Node=require("./node"),colors=require("../data/colors");var Color=function(rgb,a,originalForm){if(Array.isArray(rgb)){this.rgb=rgb;}else if(rgb.length==6){this.rgb=rgb.match(/.{2}/g).map(function(c){return parseInt(c,16);});}else{this.rgb=rgb.split('').map(function(c){return parseInt(c+c,16);});}
this.alpha=typeof a==='number'?a:1;if(typeof originalForm!=='undefined'){this.value=originalForm;}};Color.prototype=new Node();Color.prototype.type="Color";function clamp(v,max){return Math.min(Math.max(v,0),max);}
function toHex(v){return'#'+v.map(function(c){c=clamp(Math.round(c),255);return(c<16?'0':'')+c.toString(16);}).join('');}
Color.prototype.luma=function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255;r=(r<=0.03928)?r/12.92:Math.pow(((r+0.055)/1.055),2.4);g=(g<=0.03928)?g/12.92:Math.pow(((g+0.055)/1.055),2.4);b=(b<=0.03928)?b/12.92:Math.pow(((b+0.055)/1.055),2.4);return 0.2126*r+0.7152*g+0.0722*b;};Color.prototype.genCSS=function(context,output){output.add(this.toCSS(context));};Color.prototype.toCSS=function(context,doNotCompress){var compress=context&&context.compress&&!doNotCompress,color,alpha;if(this.value){return this.value;}
alpha=this.fround(context,this.alpha);if(alpha<1){return"rgba("+this.rgb.map(function(c){return clamp(Math.round(c),255);}).concat(clamp(alpha,1)).join(','+(compress?'':' '))+")";}
color=this.toRGB();if(compress){var splitcolor=color.split('');if(splitcolor[1]===splitcolor[2]&&splitcolor[3]===splitcolor[4]&&splitcolor[5]===splitcolor[6]){color='#'+splitcolor[1]+splitcolor[3]+splitcolor[5];}}
return color;};Color.prototype.operate=function(context,op,other){var rgb=[];var alpha=this.alpha*(1-other.alpha)+other.alpha;for(var c=0;c<3;c++){rgb[c]=this._operate(context,op,this.rgb[c],other.rgb[c]);}
return new Color(rgb,alpha);};Color.prototype.toRGB=function(){return toHex(this.rgb);};Color.prototype.toHSL=function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2,d=max-min;if(max===min){h=s=0;}else{s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h*360,s:s,l:l,a:a};};Color.prototype.toHSV=function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,v=max;var d=max-min;if(max===0){s=0;}else{s=d/max;}
if(max===min){h=0;}else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h*360,s:s,v:v,a:a};};Color.prototype.toARGB=function(){return toHex([this.alpha*255].concat(this.rgb));};Color.prototype.compare=function(x){return(x.rgb&&x.rgb[0]===this.rgb[0]&&x.rgb[1]===this.rgb[1]&&x.rgb[2]===this.rgb[2]&&x.alpha===this.alpha)?0:undefined;};Color.fromKeyword=function(keyword){var c,key=keyword.toLowerCase();if(colors.hasOwnProperty(key)){c=new Color(colors[key].slice(1));}
else if(key==="transparent"){c=new Color([0,0,0],0);}
if(c){c.value=keyword;return c;}};module.exports=Color;},{"../data/colors":12,"./node":70}],51:[function(require,module,exports){var Node=require("./node");var Combinator=function(value){if(value===' '){this.value=' ';this.emptyOrWhitespace=true;}else{this.value=value?value.trim():"";this.emptyOrWhitespace=this.value==="";}};Combinator.prototype=new Node();Combinator.prototype.type="Combinator";var _noSpaceCombinators={'':true,' ':true,'|':true};Combinator.prototype.genCSS=function(context,output){var spaceOrEmpty=(context.compress||_noSpaceCombinators[this.value])?'':' ';output.add(spaceOrEmpty+this.value+spaceOrEmpty);};module.exports=Combinator;},{"./node":70}],52:[function(require,module,exports){var Node=require("./node"),getDebugInfo=require("./debug-info");var Comment=function(value,isLineComment,index,currentFileInfo){this.value=value;this.isLineComment=isLineComment;this.currentFileInfo=currentFileInfo;this.allowRoot=true;};Comment.prototype=new Node();Comment.prototype.type="Comment";Comment.prototype.genCSS=function(context,output){if(this.debugInfo){output.add(getDebugInfo(context,this),this.currentFileInfo,this.index);}
output.add(this.value);};Comment.prototype.isSilent=function(context){var isCompressed=context.compress&&this.value[2]!=="!";return this.isLineComment||isCompressed;};module.exports=Comment;},{"./debug-info":54,"./node":70}],53:[function(require,module,exports){var Node=require("./node");var Condition=function(op,l,r,i,negate){this.op=op.trim();this.lvalue=l;this.rvalue=r;this.index=i;this.negate=negate;};Condition.prototype=new Node();Condition.prototype.type="Condition";Condition.prototype.accept=function(visitor){this.lvalue=visitor.visit(this.lvalue);this.rvalue=visitor.visit(this.rvalue);};Condition.prototype.eval=function(context){var result=(function(op,a,b){switch(op){case'and':return a&&b;case'or':return a||b;default:switch(Node.compare(a,b)){case-1:return op==='<'||op==='=<'||op==='<=';case 0:return op==='='||op==='>='||op==='=<'||op==='<=';case 1:return op==='>'||op==='>=';default:return false;}}})(this.op,this.lvalue.eval(context),this.rvalue.eval(context));return this.negate?!result:result;};module.exports=Condition;},{"./node":70}],54:[function(require,module,exports){var debugInfo=function(context,ctx,lineSeparator){var result="";if(context.dumpLineNumbers&&!context.compress){switch(context.dumpLineNumbers){case'comments':result=debugInfo.asComment(ctx);break;case'mediaquery':result=debugInfo.asMediaQuery(ctx);break;case'all':result=debugInfo.asComment(ctx)+(lineSeparator||"")+debugInfo.asMediaQuery(ctx);break;}}
return result;};debugInfo.asComment=function(ctx){return'/* line '+ctx.debugInfo.lineNumber+', '+ctx.debugInfo.fileName+' */\n';};debugInfo.asMediaQuery=function(ctx){var filenameWithProtocol=ctx.debugInfo.fileName;if(!/^[a-z]+:\/\//i.test(filenameWithProtocol)){filenameWithProtocol='file://'+filenameWithProtocol;}
return'@media -sass-debug-info{filename{font-family:'+
filenameWithProtocol.replace(/([.:\/\\])/g,function(a){if(a=='\\'){a='\/';}
return'\\'+a;})+'}line{font-family:\\00003'+ctx.debugInfo.lineNumber+'}}\n';};module.exports=debugInfo;},{}],55:[function(require,module,exports){var Node=require("./node"),contexts=require("../contexts");var DetachedRuleset=function(ruleset,frames){this.ruleset=ruleset;this.frames=frames;};DetachedRuleset.prototype=new Node();DetachedRuleset.prototype.type="DetachedRuleset";DetachedRuleset.prototype.evalFirst=true;DetachedRuleset.prototype.accept=function(visitor){this.ruleset=visitor.visit(this.ruleset);};DetachedRuleset.prototype.eval=function(context){var frames=this.frames||context.frames.slice(0);return new DetachedRuleset(this.ruleset,frames);};DetachedRuleset.prototype.callEval=function(context){return this.ruleset.eval(this.frames?new contexts.Eval(context,this.frames.concat(context.frames)):context);};module.exports=DetachedRuleset;},{"../contexts":11,"./node":70}],56:[function(require,module,exports){var Node=require("./node"),unitConversions=require("../data/unit-conversions"),Unit=require("./unit"),Color=require("./color");var Dimension=function(value,unit){this.value=parseFloat(value);this.unit=(unit&&unit instanceof Unit)?unit:new Unit(unit?[unit]:undefined);};Dimension.prototype=new Node();Dimension.prototype.type="Dimension";Dimension.prototype.accept=function(visitor){this.unit=visitor.visit(this.unit);};Dimension.prototype.eval=function(context){return this;};Dimension.prototype.toColor=function(){return new Color([this.value,this.value,this.value]);};Dimension.prototype.genCSS=function(context,output){if((context&&context.strictUnits)&&!this.unit.isSingular()){throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());}
var value=this.fround(context,this.value),strValue=String(value);if(value!==0&&value<0.000001&&value>-0.000001){strValue=value.toFixed(20).replace(/0+$/,"");}
if(context&&context.compress){if(value===0&&this.unit.isLength()){output.add(strValue);return;}
if(value>0&&value<1){strValue=(strValue).substr(1);}}
output.add(strValue);this.unit.genCSS(context,output);};Dimension.prototype.operate=function(context,op,other){var value=this._operate(context,op,this.value,other.value),unit=this.unit.clone();if(op==='+'||op==='-'){if(unit.numerator.length===0&&unit.denominator.length===0){unit=other.unit.clone();if(this.unit.backupUnit){unit.backupUnit=this.unit.backupUnit;}}else if(other.unit.numerator.length===0&&unit.denominator.length===0){}else{other=other.convertTo(this.unit.usedUnits());if(context.strictUnits&&other.unit.toString()!==unit.toString()){throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+unit.toString()+"' and '"+other.unit.toString()+"'.");}
value=this._operate(context,op,this.value,other.value);}}else if(op==='*'){unit.numerator=unit.numerator.concat(other.unit.numerator).sort();unit.denominator=unit.denominator.concat(other.unit.denominator).sort();unit.cancel();}else if(op==='/'){unit.numerator=unit.numerator.concat(other.unit.denominator).sort();unit.denominator=unit.denominator.concat(other.unit.numerator).sort();unit.cancel();}
return new Dimension(value,unit);};Dimension.prototype.compare=function(other){var a,b;if(!(other instanceof Dimension)){return undefined;}
if(this.unit.isEmpty()||other.unit.isEmpty()){a=this;b=other;}else{a=this.unify();b=other.unify();if(a.unit.compare(b.unit)!==0){return undefined;}}
return Node.numericCompare(a.value,b.value);};Dimension.prototype.unify=function(){return this.convertTo({length:'px',duration:'s',angle:'rad'});};Dimension.prototype.convertTo=function(conversions){var value=this.value,unit=this.unit.clone(),i,groupName,group,targetUnit,derivedConversions={},applyUnit;if(typeof conversions==='string'){for(i in unitConversions){if(unitConversions[i].hasOwnProperty(conversions)){derivedConversions={};derivedConversions[i]=conversions;}}
conversions=derivedConversions;}
applyUnit=function(atomicUnit,denominator){if(group.hasOwnProperty(atomicUnit)){if(denominator){value=value/(group[atomicUnit]/group[targetUnit]);}else{value=value*(group[atomicUnit]/group[targetUnit]);}
return targetUnit;}
return atomicUnit;};for(groupName in conversions){if(conversions.hasOwnProperty(groupName)){targetUnit=conversions[groupName];group=unitConversions[groupName];unit.map(applyUnit);}}
unit.cancel();return new Dimension(value,unit);};module.exports=Dimension;},{"../data/unit-conversions":14,"./color":50,"./node":70,"./unit":79}],57:[function(require,module,exports){var Node=require("./node"),Selector=require("./selector"),Ruleset=require("./ruleset");var Directive=function(name,value,rules,index,currentFileInfo,debugInfo,isRooted,visibilityInfo){var i;this.name=name;this.value=value;if(rules){if(Array.isArray(rules)){this.rules=rules;}else{this.rules=[rules];this.rules[0].selectors=(new Selector([],null,null,this.index,currentFileInfo)).createEmptySelectors();}
for(i=0;i<this.rules.length;i++){this.rules[i].allowImports=true;}}
this.index=index;this.currentFileInfo=currentFileInfo;this.debugInfo=debugInfo;this.isRooted=isRooted||false;this.copyVisibilityInfo(visibilityInfo);this.allowRoot=true;};Directive.prototype=new Node();Directive.prototype.type="Directive";Directive.prototype.accept=function(visitor){var value=this.value,rules=this.rules;if(rules){this.rules=visitor.visitArray(rules);}
if(value){this.value=visitor.visit(value);}};Directive.prototype.isRulesetLike=function(){return this.rules||!this.isCharset();};Directive.prototype.isCharset=function(){return"@charset"===this.name;};Directive.prototype.genCSS=function(context,output){var value=this.value,rules=this.rules;output.add(this.name,this.currentFileInfo,this.index);if(value){output.add(' ');value.genCSS(context,output);}
if(rules){this.outputRuleset(context,output,rules);}else{output.add(';');}};Directive.prototype.eval=function(context){var mediaPathBackup,mediaBlocksBackup,value=this.value,rules=this.rules;mediaPathBackup=context.mediaPath;mediaBlocksBackup=context.mediaBlocks;context.mediaPath=[];context.mediaBlocks=[];if(value){value=value.eval(context);}
if(rules){rules=[rules[0].eval(context)];rules[0].root=true;}
context.mediaPath=mediaPathBackup;context.mediaBlocks=mediaBlocksBackup;return new Directive(this.name,value,rules,this.index,this.currentFileInfo,this.debugInfo,this.isRooted,this.visibilityInfo());};Directive.prototype.variable=function(name){if(this.rules){return Ruleset.prototype.variable.call(this.rules[0],name);}};Directive.prototype.find=function(){if(this.rules){return Ruleset.prototype.find.apply(this.rules[0],arguments);}};Directive.prototype.rulesets=function(){if(this.rules){return Ruleset.prototype.rulesets.apply(this.rules[0]);}};Directive.prototype.outputRuleset=function(context,output,rules){var ruleCnt=rules.length,i;context.tabLevel=(context.tabLevel|0)+1;if(context.compress){output.add('{');for(i=0;i<ruleCnt;i++){rules[i].genCSS(context,output);}
output.add('}');context.tabLevel--;return;}
var tabSetStr='\n'+Array(context.tabLevel).join("  "),tabRuleStr=tabSetStr+"  ";if(!ruleCnt){output.add(" {"+tabSetStr+'}');}else{output.add(" {"+tabRuleStr);rules[0].genCSS(context,output);for(i=1;i<ruleCnt;i++){output.add(tabRuleStr);rules[i].genCSS(context,output);}
output.add(tabSetStr+'}');}
context.tabLevel--;};module.exports=Directive;},{"./node":70,"./ruleset":76,"./selector":77}],58:[function(require,module,exports){var Node=require("./node"),Paren=require("./paren"),Combinator=require("./combinator");var Element=function(combinator,value,index,currentFileInfo,info){this.combinator=combinator instanceof Combinator?combinator:new Combinator(combinator);if(typeof value==='string'){this.value=value.trim();}else if(value){this.value=value;}else{this.value="";}
this.index=index;this.currentFileInfo=currentFileInfo;this.copyVisibilityInfo(info);};Element.prototype=new Node();Element.prototype.type="Element";Element.prototype.accept=function(visitor){var value=this.value;this.combinator=visitor.visit(this.combinator);if(typeof value==="object"){this.value=visitor.visit(value);}};Element.prototype.eval=function(context){return new Element(this.combinator,this.value.eval?this.value.eval(context):this.value,this.index,this.currentFileInfo,this.visibilityInfo());};Element.prototype.clone=function(){return new Element(this.combinator,this.value,this.index,this.currentFileInfo,this.visibilityInfo());};Element.prototype.genCSS=function(context,output){output.add(this.toCSS(context),this.currentFileInfo,this.index);};Element.prototype.toCSS=function(context){context=context||{};var value=this.value,firstSelector=context.firstSelector;if(value instanceof Paren){context.firstSelector=true;}
value=value.toCSS?value.toCSS(context):value;context.firstSelector=firstSelector;if(value===''&&this.combinator.value.charAt(0)==='&'){return'';}else{return this.combinator.toCSS(context)+value;}};module.exports=Element;},{"./combinator":51,"./node":70,"./paren":72}],59:[function(require,module,exports){var Node=require("./node"),Paren=require("./paren"),Comment=require("./comment");var Expression=function(value){this.value=value;if(!value){throw new Error("Expression requires an array parameter");}};Expression.prototype=new Node();Expression.prototype.type="Expression";Expression.prototype.accept=function(visitor){this.value=visitor.visitArray(this.value);};Expression.prototype.eval=function(context){var returnValue,inParenthesis=this.parens&&!this.parensInOp,doubleParen=false;if(inParenthesis){context.inParenthesis();}
if(this.value.length>1){returnValue=new Expression(this.value.map(function(e){return e.eval(context);}));}else if(this.value.length===1){if(this.value[0].parens&&!this.value[0].parensInOp){doubleParen=true;}
returnValue=this.value[0].eval(context);}else{returnValue=this;}
if(inParenthesis){context.outOfParenthesis();}
if(this.parens&&this.parensInOp&&!(context.isMathOn())&&!doubleParen){returnValue=new Paren(returnValue);}
return returnValue;};Expression.prototype.genCSS=function(context,output){for(var i=0;i<this.value.length;i++){this.value[i].genCSS(context,output);if(i+1<this.value.length){output.add(" ");}}};Expression.prototype.throwAwayComments=function(){this.value=this.value.filter(function(v){return!(v instanceof Comment);});};module.exports=Expression;},{"./comment":52,"./node":70,"./paren":72}],60:[function(require,module,exports){var Node=require("./node"),Selector=require("./selector");var Extend=function Extend(selector,option,index,currentFileInfo,visibilityInfo){this.selector=selector;this.option=option;this.index=index;this.object_id=Extend.next_id++;this.parent_ids=[this.object_id];this.currentFileInfo=currentFileInfo||{};this.copyVisibilityInfo(visibilityInfo);this.allowRoot=true;switch(option){case"all":this.allowBefore=true;this.allowAfter=true;break;default:this.allowBefore=false;this.allowAfter=false;break;}};Extend.next_id=0;Extend.prototype=new Node();Extend.prototype.type="Extend";Extend.prototype.accept=function(visitor){this.selector=visitor.visit(this.selector);};Extend.prototype.eval=function(context){return new Extend(this.selector.eval(context),this.option,this.index,this.currentFileInfo,this.visibilityInfo());};Extend.prototype.clone=function(context){return new Extend(this.selector,this.option,this.index,this.currentFileInfo,this.visibilityInfo());};Extend.prototype.findSelfSelectors=function(selectors){var selfElements=[],i,selectorElements;for(i=0;i<selectors.length;i++){selectorElements=selectors[i].elements;if(i>0&&selectorElements.length&&selectorElements[0].combinator.value===""){selectorElements[0].combinator.value=' ';}
selfElements=selfElements.concat(selectors[i].elements);}
this.selfSelectors=[new Selector(selfElements)];this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo());};module.exports=Extend;},{"./node":70,"./selector":77}],61:[function(require,module,exports){var Node=require("./node"),Media=require("./media"),URL=require("./url"),Quoted=require("./quoted"),Ruleset=require("./ruleset"),Anonymous=require("./anonymous");var Import=function(path,features,options,index,currentFileInfo,visibilityInfo){this.options=options;this.index=index;this.path=path;this.features=features;this.currentFileInfo=currentFileInfo;this.allowRoot=true;if(this.options.less!==undefined||this.options.inline){this.css=!this.options.less||this.options.inline;}else{var pathValue=this.getPath();if(pathValue&&/[#\.\&\?\/]css([\?;].*)?$/.test(pathValue)){this.css=true;}}
this.copyVisibilityInfo(visibilityInfo);};Import.prototype=new Node();Import.prototype.type="Import";Import.prototype.accept=function(visitor){if(this.features){this.features=visitor.visit(this.features);}
this.path=visitor.visit(this.path);if(!this.options.plugin&&!this.options.inline&&this.root){this.root=visitor.visit(this.root);}};Import.prototype.genCSS=function(context,output){if(this.css&&this.path.currentFileInfo.reference===undefined){output.add("@import ",this.currentFileInfo,this.index);this.path.genCSS(context,output);if(this.features){output.add(" ");this.features.genCSS(context,output);}
output.add(';');}};Import.prototype.getPath=function(){return(this.path instanceof URL)?this.path.value.value:this.path.value;};Import.prototype.isVariableImport=function(){var path=this.path;if(path instanceof URL){path=path.value;}
if(path instanceof Quoted){return path.containsVariables();}
return true;};Import.prototype.evalForImport=function(context){var path=this.path;if(path instanceof URL){path=path.value;}
return new Import(path.eval(context),this.features,this.options,this.index,this.currentFileInfo,this.visibilityInfo());};Import.prototype.evalPath=function(context){var path=this.path.eval(context);var rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(path instanceof URL)){if(rootpath){var pathValue=path.value;if(pathValue&&context.isPathRelative(pathValue)){path.value=rootpath+pathValue;}}
path.value=context.normalizePath(path.value);}
return path;};Import.prototype.eval=function(context){var result=this.doEval(context);if(this.options.reference||this.blocksVisibility()){if(result.length||result.length===0){result.forEach(function(node){node.addVisibilityBlock();});}else{result.addVisibilityBlock();}}
return result;};Import.prototype.doEval=function(context){var ruleset,registry,features=this.features&&this.features.eval(context);if(this.options.plugin){registry=context.frames[0]&&context.frames[0].functionRegistry;if(registry&&this.root&&this.root.functions){registry.addMultiple(this.root.functions);}
return[];}
if(this.skip){if(typeof this.skip==="function"){this.skip=this.skip();}
if(this.skip){return[];}}
if(this.options.inline){var contents=new Anonymous(this.root,0,{filename:this.importedFilename,reference:this.path.currentFileInfo&&this.path.currentFileInfo.reference},true,true);return this.features?new Media([contents],this.features.value):[contents];}else if(this.css){var newImport=new Import(this.evalPath(context),features,this.options,this.index);if(!newImport.css&&this.error){throw this.error;}
return newImport;}else{ruleset=new Ruleset(null,this.root.rules.slice(0));ruleset.evalImports(context);return this.features?new Media(ruleset.rules,this.features.value):ruleset.rules;}};module.exports=Import;},{"./anonymous":46,"./media":66,"./node":70,"./quoted":73,"./ruleset":76,"./url":80}],62:[function(require,module,exports){var tree={};tree.Node=require('./node');tree.Alpha=require('./alpha');tree.Color=require('./color');tree.Directive=require('./directive');tree.DetachedRuleset=require('./detached-ruleset');tree.Operation=require('./operation');tree.Dimension=require('./dimension');tree.Unit=require('./unit');tree.Keyword=require('./keyword');tree.Variable=require('./variable');tree.Ruleset=require('./ruleset');tree.Element=require('./element');tree.Attribute=require('./attribute');tree.Combinator=require('./combinator');tree.Selector=require('./selector');tree.Quoted=require('./quoted');tree.Expression=require('./expression');tree.Rule=require('./rule');tree.Call=require('./call');tree.URL=require('./url');tree.Import=require('./import');tree.mixin={Call:require('./mixin-call'),Definition:require('./mixin-definition')};tree.Comment=require('./comment');tree.Anonymous=require('./anonymous');tree.Value=require('./value');tree.JavaScript=require('./javascript');tree.Assignment=require('./assignment');tree.Condition=require('./condition');tree.Paren=require('./paren');tree.Media=require('./media');tree.UnicodeDescriptor=require('./unicode-descriptor');tree.Negative=require('./negative');tree.Extend=require('./extend');tree.RulesetCall=require('./ruleset-call');module.exports=tree;},{"./alpha":45,"./anonymous":46,"./assignment":47,"./attribute":48,"./call":49,"./color":50,"./combinator":51,"./comment":52,"./condition":53,"./detached-ruleset":55,"./dimension":56,"./directive":57,"./element":58,"./expression":59,"./extend":60,"./import":61,"./javascript":63,"./keyword":65,"./media":66,"./mixin-call":67,"./mixin-definition":68,"./negative":69,"./node":70,"./operation":71,"./paren":72,"./quoted":73,"./rule":74,"./ruleset":76,"./ruleset-call":75,"./selector":77,"./unicode-descriptor":78,"./unit":79,"./url":80,"./value":81,"./variable":82}],63:[function(require,module,exports){var JsEvalNode=require("./js-eval-node"),Dimension=require("./dimension"),Quoted=require("./quoted"),Anonymous=require("./anonymous");var JavaScript=function(string,escaped,index,currentFileInfo){this.escaped=escaped;this.expression=string;this.index=index;this.currentFileInfo=currentFileInfo;};JavaScript.prototype=new JsEvalNode();JavaScript.prototype.type="JavaScript";JavaScript.prototype.eval=function(context){var result=this.evaluateJavaScript(this.expression,context);if(typeof result==='number'){return new Dimension(result);}else if(typeof result==='string'){return new Quoted('"'+result+'"',result,this.escaped,this.index);}else if(Array.isArray(result)){return new Anonymous(result.join(', '));}else{return new Anonymous(result);}};module.exports=JavaScript;},{"./anonymous":46,"./dimension":56,"./js-eval-node":64,"./quoted":73}],64:[function(require,module,exports){var Node=require("./node"),Variable=require("./variable");var JsEvalNode=function(){};JsEvalNode.prototype=new Node();JsEvalNode.prototype.evaluateJavaScript=function(expression,context){var result,that=this,evalContext={};if(context.javascriptEnabled!==undefined&&!context.javascriptEnabled){throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};}
expression=expression.replace(/@\{([\w-]+)\}/g,function(_,name){return that.jsify(new Variable('@'+name,that.index,that.currentFileInfo).eval(context));});try{expression=new Function('return ('+expression+')');}catch(e){throw{message:"JavaScript evaluation error: "+e.message+" from `"+expression+"`",filename:this.currentFileInfo.filename,index:this.index};}
var variables=context.frames[0].variables();for(var k in variables){if(variables.hasOwnProperty(k)){evalContext[k.slice(1)]={value:variables[k].value,toJS:function(){return this.value.eval(context).toCSS();}};}}
try{result=expression.call(evalContext);}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+': '+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index};}
return result;};JsEvalNode.prototype.jsify=function(obj){if(Array.isArray(obj.value)&&(obj.value.length>1)){return'['+obj.value.map(function(v){return v.toCSS();}).join(', ')+']';}else{return obj.toCSS();}};module.exports=JsEvalNode;},{"./node":70,"./variable":82}],65:[function(require,module,exports){var Node=require("./node");var Keyword=function(value){this.value=value;};Keyword.prototype=new Node();Keyword.prototype.type="Keyword";Keyword.prototype.genCSS=function(context,output){if(this.value==='%'){throw{type:"Syntax",message:"Invalid % without number"};}
output.add(this.value);};Keyword.True=new Keyword('true');Keyword.False=new Keyword('false');module.exports=Keyword;},{"./node":70}],66:[function(require,module,exports){var Ruleset=require("./ruleset"),Value=require("./value"),Selector=require("./selector"),Anonymous=require("./anonymous"),Expression=require("./expression"),Directive=require("./directive");var Media=function(value,features,index,currentFileInfo,visibilityInfo){this.index=index;this.currentFileInfo=currentFileInfo;var selectors=(new Selector([],null,null,this.index,this.currentFileInfo)).createEmptySelectors();this.features=new Value(features);this.rules=[new Ruleset(selectors,value)];this.rules[0].allowImports=true;this.copyVisibilityInfo(visibilityInfo);this.allowRoot=true;};Media.prototype=new Directive();Media.prototype.type="Media";Media.prototype.isRulesetLike=true;Media.prototype.accept=function(visitor){if(this.features){this.features=visitor.visit(this.features);}
if(this.rules){this.rules=visitor.visitArray(this.rules);}};Media.prototype.genCSS=function(context,output){output.add('@media ',this.currentFileInfo,this.index);this.features.genCSS(context,output);this.outputRuleset(context,output,this.rules);};Media.prototype.eval=function(context){if(!context.mediaBlocks){context.mediaBlocks=[];context.mediaPath=[];}
var media=new Media(null,[],this.index,this.currentFileInfo,this.visibilityInfo());if(this.debugInfo){this.rules[0].debugInfo=this.debugInfo;media.debugInfo=this.debugInfo;}
var strictMathBypass=false;if(!context.strictMath){strictMathBypass=true;context.strictMath=true;}
try{media.features=this.features.eval(context);}
finally{if(strictMathBypass){context.strictMath=false;}}
context.mediaPath.push(media);context.mediaBlocks.push(media);this.rules[0].functionRegistry=context.frames[0].functionRegistry.inherit();context.frames.unshift(this.rules[0]);media.rules=[this.rules[0].eval(context)];context.frames.shift();context.mediaPath.pop();return context.mediaPath.length===0?media.evalTop(context):media.evalNested(context);};Media.prototype.evalTop=function(context){var result=this;if(context.mediaBlocks.length>1){var selectors=(new Selector([],null,null,this.index,this.currentFileInfo)).createEmptySelectors();result=new Ruleset(selectors,context.mediaBlocks);result.multiMedia=true;result.copyVisibilityInfo(this.visibilityInfo());}
delete context.mediaBlocks;delete context.mediaPath;return result;};Media.prototype.evalNested=function(context){var i,value,path=context.mediaPath.concat([this]);for(i=0;i<path.length;i++){value=path[i].features instanceof Value?path[i].features.value:path[i].features;path[i]=Array.isArray(value)?value:[value];}
this.features=new Value(this.permute(path).map(function(path){path=path.map(function(fragment){return fragment.toCSS?fragment:new Anonymous(fragment);});for(i=path.length-1;i>0;i--){path.splice(i,0,new Anonymous("and"));}
return new Expression(path);}));return new Ruleset([],[]);};Media.prototype.permute=function(arr){if(arr.length===0){return[];}else if(arr.length===1){return arr[0];}else{var result=[];var rest=this.permute(arr.slice(1));for(var i=0;i<rest.length;i++){for(var j=0;j<arr[0].length;j++){result.push([arr[0][j]].concat(rest[i]));}}
return result;}};Media.prototype.bubbleSelectors=function(selectors){if(!selectors){return;}
this.rules=[new Ruleset(selectors.slice(0),[this.rules[0]])];};module.exports=Media;},{"./anonymous":46,"./directive":57,"./expression":59,"./ruleset":76,"./selector":77,"./value":81}],67:[function(require,module,exports){var Node=require("./node"),Selector=require("./selector"),MixinDefinition=require("./mixin-definition"),defaultFunc=require("../functions/default");var MixinCall=function(elements,args,index,currentFileInfo,important){this.selector=new Selector(elements);this.arguments=args||[];this.index=index;this.currentFileInfo=currentFileInfo;this.important=important;this.allowRoot=true;};MixinCall.prototype=new Node();MixinCall.prototype.type="MixinCall";MixinCall.prototype.accept=function(visitor){if(this.selector){this.selector=visitor.visit(this.selector);}
if(this.arguments.length){this.arguments=visitor.visitArray(this.arguments);}};MixinCall.prototype.eval=function(context){var mixins,mixin,mixinPath,args=[],arg,argValue,rules=[],match=false,i,m,f,isRecursive,isOneFound,candidates=[],candidate,conditionResult=[],defaultResult,defFalseEitherCase=-1,defNone=0,defTrue=1,defFalse=2,count,originalRuleset,noArgumentsFilter;function calcDefGroup(mixin,mixinPath){var f,p,namespace;for(f=0;f<2;f++){conditionResult[f]=true;defaultFunc.value(f);for(p=0;p<mixinPath.length&&conditionResult[f];p++){namespace=mixinPath[p];if(namespace.matchCondition){conditionResult[f]=conditionResult[f]&&namespace.matchCondition(null,context);}}
if(mixin.matchCondition){conditionResult[f]=conditionResult[f]&&mixin.matchCondition(args,context);}}
if(conditionResult[0]||conditionResult[1]){if(conditionResult[0]!=conditionResult[1]){return conditionResult[1]?defTrue:defFalse;}
return defNone;}
return defFalseEitherCase;}
for(i=0;i<this.arguments.length;i++){arg=this.arguments[i];argValue=arg.value.eval(context);if(arg.expand&&Array.isArray(argValue.value)){argValue=argValue.value;for(m=0;m<argValue.length;m++){args.push({value:argValue[m]});}}else{args.push({name:arg.name,value:argValue});}}
noArgumentsFilter=function(rule){return rule.matchArgs(null,context);};for(i=0;i<context.frames.length;i++){if((mixins=context.frames[i].find(this.selector,null,noArgumentsFilter)).length>0){isOneFound=true;for(m=0;m<mixins.length;m++){mixin=mixins[m].rule;mixinPath=mixins[m].path;isRecursive=false;for(f=0;f<context.frames.length;f++){if((!(mixin instanceof MixinDefinition))&&mixin===(context.frames[f].originalRuleset||context.frames[f])){isRecursive=true;break;}}
if(isRecursive){continue;}
if(mixin.matchArgs(args,context)){candidate={mixin:mixin,group:calcDefGroup(mixin,mixinPath)};if(candidate.group!==defFalseEitherCase){candidates.push(candidate);}
match=true;}}
defaultFunc.reset();count=[0,0,0];for(m=0;m<candidates.length;m++){count[candidates[m].group]++;}
if(count[defNone]>0){defaultResult=defFalse;}else{defaultResult=defTrue;if((count[defTrue]+count[defFalse])>1){throw{type:'Runtime',message:'Ambiguous use of `default()` found when matching for `'+this.format(args)+'`',index:this.index,filename:this.currentFileInfo.filename};}}
for(m=0;m<candidates.length;m++){candidate=candidates[m].group;if((candidate===defNone)||(candidate===defaultResult)){try{mixin=candidates[m].mixin;if(!(mixin instanceof MixinDefinition)){originalRuleset=mixin.originalRuleset||mixin;mixin=new MixinDefinition("",[],mixin.rules,null,false,null,originalRuleset.visibilityInfo());mixin.originalRuleset=originalRuleset;}
var newRules=mixin.evalCall(context,args,this.important).rules;this._setVisibilityToReplacement(newRules);Array.prototype.push.apply(rules,newRules);}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack};}}}
if(match){return rules;}}}
if(isOneFound){throw{type:'Runtime',message:'No matching definition was found for `'+this.format(args)+'`',index:this.index,filename:this.currentFileInfo.filename};}else{throw{type:'Name',message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename};}};MixinCall.prototype._setVisibilityToReplacement=function(replacement){var i,rule;if(this.blocksVisibility()){for(i=0;i<replacement.length;i++){rule=replacement[i];rule.addVisibilityBlock();}}};MixinCall.prototype.format=function(args){return this.selector.toCSS().trim()+'('+
(args?args.map(function(a){var argValue="";if(a.name){argValue+=a.name+":";}
if(a.value.toCSS){argValue+=a.value.toCSS();}else{argValue+="???";}
return argValue;}).join(', '):"")+")";};module.exports=MixinCall;},{"../functions/default":20,"./mixin-definition":68,"./node":70,"./selector":77}],68:[function(require,module,exports){var Selector=require("./selector"),Element=require("./element"),Ruleset=require("./ruleset"),Rule=require("./rule"),Expression=require("./expression"),contexts=require("../contexts");var Definition=function(name,params,rules,condition,variadic,frames,visibilityInfo){this.name=name;this.selectors=[new Selector([new Element(null,name,this.index,this.currentFileInfo)])];this.params=params;this.condition=condition;this.variadic=variadic;this.arity=params.length;this.rules=rules;this._lookups={};var optionalParameters=[];this.required=params.reduce(function(count,p){if(!p.name||(p.name&&!p.value)){return count+1;}
else{optionalParameters.push(p.name);return count;}},0);this.optionalParameters=optionalParameters;this.frames=frames;this.copyVisibilityInfo(visibilityInfo);this.allowRoot=true;};Definition.prototype=new Ruleset();Definition.prototype.type="MixinDefinition";Definition.prototype.evalFirst=true;Definition.prototype.accept=function(visitor){if(this.params&&this.params.length){this.params=visitor.visitArray(this.params);}
this.rules=visitor.visitArray(this.rules);if(this.condition){this.condition=visitor.visit(this.condition);}};Definition.prototype.evalParams=function(context,mixinEnv,args,evaldArguments){var frame=new Ruleset(null,null),varargs,arg,params=this.params.slice(0),i,j,val,name,isNamedFound,argIndex,argsLength=0;if(mixinEnv.frames&&mixinEnv.frames[0]&&mixinEnv.frames[0].functionRegistry){frame.functionRegistry=mixinEnv.frames[0].functionRegistry.inherit();}
mixinEnv=new contexts.Eval(mixinEnv,[frame].concat(mixinEnv.frames));if(args){args=args.slice(0);argsLength=args.length;for(i=0;i<argsLength;i++){arg=args[i];if(name=(arg&&arg.name)){isNamedFound=false;for(j=0;j<params.length;j++){if(!evaldArguments[j]&&name===params[j].name){evaldArguments[j]=arg.value.eval(context);frame.prependRule(new Rule(name,arg.value.eval(context)));isNamedFound=true;break;}}
if(isNamedFound){args.splice(i,1);i--;continue;}else{throw{type:'Runtime',message:"Named argument for "+this.name+' '+args[i].name+' not found'};}}}}
argIndex=0;for(i=0;i<params.length;i++){if(evaldArguments[i]){continue;}
arg=args&&args[argIndex];if(name=params[i].name){if(params[i].variadic){varargs=[];for(j=argIndex;j<argsLength;j++){varargs.push(args[j].value.eval(context));}
frame.prependRule(new Rule(name,new Expression(varargs).eval(context)));}else{val=arg&&arg.value;if(val){val=val.eval(context);}else if(params[i].value){val=params[i].value.eval(mixinEnv);frame.resetCache();}else{throw{type:'Runtime',message:"wrong number of arguments for "+this.name+' ('+argsLength+' for '+this.arity+')'};}
frame.prependRule(new Rule(name,val));evaldArguments[i]=val;}}
if(params[i].variadic&&args){for(j=argIndex;j<argsLength;j++){evaldArguments[j]=args[j].value.eval(context);}}
argIndex++;}
return frame;};Definition.prototype.makeImportant=function(){var rules=!this.rules?this.rules:this.rules.map(function(r){if(r.makeImportant){return r.makeImportant(true);}else{return r;}});var result=new Definition(this.name,this.params,rules,this.condition,this.variadic,this.frames);return result;};Definition.prototype.eval=function(context){return new Definition(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||context.frames.slice(0));};Definition.prototype.evalCall=function(context,args,important){var _arguments=[],mixinFrames=this.frames?this.frames.concat(context.frames):context.frames,frame=this.evalParams(context,new contexts.Eval(context,mixinFrames),args,_arguments),rules,ruleset;frame.prependRule(new Rule('@arguments',new Expression(_arguments).eval(context)));rules=this.rules.slice(0);ruleset=new Ruleset(null,rules);ruleset.originalRuleset=this;ruleset=ruleset.eval(new contexts.Eval(context,[this,frame].concat(mixinFrames)));if(important){ruleset=ruleset.makeImportant();}
return ruleset;};Definition.prototype.matchCondition=function(args,context){if(this.condition&&!this.condition.eval(new contexts.Eval(context,[this.evalParams(context,new contexts.Eval(context,this.frames?this.frames.concat(context.frames):context.frames),args,[])].concat(this.frames||[]).concat(context.frames)))){return false;}
return true;};Definition.prototype.matchArgs=function(args,context){var allArgsCnt=(args&&args.length)||0,len,optionalParameters=this.optionalParameters;var requiredArgsCnt=!args?0:args.reduce(function(count,p){if(optionalParameters.indexOf(p.name)<0){return count+1;}else{return count;}},0);if(!this.variadic){if(requiredArgsCnt<this.required){return false;}
if(allArgsCnt>this.params.length){return false;}}else{if(requiredArgsCnt<(this.required-1)){return false;}}
len=Math.min(requiredArgsCnt,this.arity);for(var i=0;i<len;i++){if(!this.params[i].name&&!this.params[i].variadic){if(args[i].value.eval(context).toCSS()!=this.params[i].value.eval(context).toCSS()){return false;}}}
return true;};module.exports=Definition;},{"../contexts":11,"./element":58,"./expression":59,"./rule":74,"./ruleset":76,"./selector":77}],69:[function(require,module,exports){var Node=require("./node"),Operation=require("./operation"),Dimension=require("./dimension");var Negative=function(node){this.value=node;};Negative.prototype=new Node();Negative.prototype.type="Negative";Negative.prototype.genCSS=function(context,output){output.add('-');this.value.genCSS(context,output);};Negative.prototype.eval=function(context){if(context.isMathOn()){return(new Operation('*',[new Dimension(-1),this.value])).eval(context);}
return new Negative(this.value.eval(context));};module.exports=Negative;},{"./dimension":56,"./node":70,"./operation":71}],70:[function(require,module,exports){var Node=function(){};Node.prototype.toCSS=function(context){var strs=[];this.genCSS(context,{add:function(chunk,fileInfo,index){strs.push(chunk);},isEmpty:function(){return strs.length===0;}});return strs.join('');};Node.prototype.genCSS=function(context,output){output.add(this.value);};Node.prototype.accept=function(visitor){this.value=visitor.visit(this.value);};Node.prototype.eval=function(){return this;};Node.prototype._operate=function(context,op,a,b){switch(op){case'+':return a+b;case'-':return a-b;case'*':return a*b;case'/':return a/b;}};Node.prototype.fround=function(context,value){var precision=context&&context.numPrecision;return(precision==null)?value:Number((value+2e-16).toFixed(precision));};Node.compare=function(a,b){if((a.compare)&&!(b.type==="Quoted"||b.type==="Anonymous")){return a.compare(b);}else if(b.compare){return-b.compare(a);}else if(a.type!==b.type){return undefined;}
a=a.value;b=b.value;if(!Array.isArray(a)){return a===b?0:undefined;}
if(a.length!==b.length){return undefined;}
for(var i=0;i<a.length;i++){if(Node.compare(a[i],b[i])!==0){return undefined;}}
return 0;};Node.numericCompare=function(a,b){return a<b?-1:a===b?0:a>b?1:undefined;};Node.prototype.blocksVisibility=function(){if(this.visibilityBlocks==null){this.visibilityBlocks=0;}
return this.visibilityBlocks!==0;};Node.prototype.addVisibilityBlock=function(){if(this.visibilityBlocks==null){this.visibilityBlocks=0;}
this.visibilityBlocks=this.visibilityBlocks+1;};Node.prototype.removeVisibilityBlock=function(){if(this.visibilityBlocks==null){this.visibilityBlocks=0;}
this.visibilityBlocks=this.visibilityBlocks-1;};Node.prototype.ensureVisibility=function(){this.nodeVisible=true;};Node.prototype.ensureInvisibility=function(){this.nodeVisible=false;};Node.prototype.isVisible=function(){return this.nodeVisible;};Node.prototype.visibilityInfo=function(){return{visibilityBlocks:this.visibilityBlocks,nodeVisible:this.nodeVisible};};Node.prototype.copyVisibilityInfo=function(info){if(!info){return;}
this.visibilityBlocks=info.visibilityBlocks;this.nodeVisible=info.nodeVisible;};module.exports=Node;},{}],71:[function(require,module,exports){var Node=require("./node"),Color=require("./color"),Dimension=require("./dimension");var Operation=function(op,operands,isSpaced){this.op=op.trim();this.operands=operands;this.isSpaced=isSpaced;};Operation.prototype=new Node();Operation.prototype.type="Operation";Operation.prototype.accept=function(visitor){this.operands=visitor.visit(this.operands);};Operation.prototype.eval=function(context){var a=this.operands[0].eval(context),b=this.operands[1].eval(context);if(context.isMathOn()){if(a instanceof Dimension&&b instanceof Color){a=a.toColor();}
if(b instanceof Dimension&&a instanceof Color){b=b.toColor();}
if(!a.operate){throw{type:"Operation",message:"Operation on an invalid type"};}
return a.operate(context,this.op,b);}else{return new Operation(this.op,[a,b],this.isSpaced);}};Operation.prototype.genCSS=function(context,output){this.operands[0].genCSS(context,output);if(this.isSpaced){output.add(" ");}
output.add(this.op);if(this.isSpaced){output.add(" ");}
this.operands[1].genCSS(context,output);};module.exports=Operation;},{"./color":50,"./dimension":56,"./node":70}],72:[function(require,module,exports){var Node=require("./node");var Paren=function(node){this.value=node;};Paren.prototype=new Node();Paren.prototype.type="Paren";Paren.prototype.genCSS=function(context,output){output.add('(');this.value.genCSS(context,output);output.add(')');};Paren.prototype.eval=function(context){return new Paren(this.value.eval(context));};module.exports=Paren;},{"./node":70}],73:[function(require,module,exports){var Node=require("./node"),JsEvalNode=require("./js-eval-node"),Variable=require("./variable");var Quoted=function(str,content,escaped,index,currentFileInfo){this.escaped=(escaped==null)?true:escaped;this.value=content||'';this.quote=str.charAt(0);this.index=index;this.currentFileInfo=currentFileInfo;};Quoted.prototype=new JsEvalNode();Quoted.prototype.type="Quoted";Quoted.prototype.genCSS=function(context,output){if(!this.escaped){output.add(this.quote,this.currentFileInfo,this.index);}
output.add(this.value);if(!this.escaped){output.add(this.quote);}};Quoted.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/);};Quoted.prototype.eval=function(context){var that=this,value=this.value;var javascriptReplacement=function(_,exp){return String(that.evaluateJavaScript(exp,context));};var interpolationReplacement=function(_,name){var v=new Variable('@'+name,that.index,that.currentFileInfo).eval(context,true);return(v instanceof Quoted)?v.value:v.toCSS();};function iterativeReplace(value,regexp,replacementFnc){var evaluatedValue=value;do{value=evaluatedValue;evaluatedValue=value.replace(regexp,replacementFnc);}while(value!==evaluatedValue);return evaluatedValue;}
value=iterativeReplace(value,/`([^`]+)`/g,javascriptReplacement);value=iterativeReplace(value,/@\{([\w-]+)\}/g,interpolationReplacement);return new Quoted(this.quote+value+this.quote,value,this.escaped,this.index,this.currentFileInfo);};Quoted.prototype.compare=function(other){if(other.type==="Quoted"&&!this.escaped&&!other.escaped){return Node.numericCompare(this.value,other.value);}else{return other.toCSS&&this.toCSS()===other.toCSS()?0:undefined;}};module.exports=Quoted;},{"./js-eval-node":64,"./node":70,"./variable":82}],74:[function(require,module,exports){var Node=require("./node"),Value=require("./value"),Keyword=require("./keyword");var Rule=function(name,value,important,merge,index,currentFileInfo,inline,variable){this.name=name;this.value=(value instanceof Node)?value:new Value([value]);this.important=important?' '+important.trim():'';this.merge=merge;this.index=index;this.currentFileInfo=currentFileInfo;this.inline=inline||false;this.variable=(variable!==undefined)?variable:(name.charAt&&(name.charAt(0)==='@'));this.allowRoot=true;};function evalName(context,name){var value="",i,n=name.length,output={add:function(s){value+=s;}};for(i=0;i<n;i++){name[i].eval(context).genCSS(context,output);}
return value;}
Rule.prototype=new Node();Rule.prototype.type="Rule";Rule.prototype.genCSS=function(context,output){output.add(this.name+(context.compress?':':': '),this.currentFileInfo,this.index);try{this.value.genCSS(context,output);}
catch(e){e.index=this.index;e.filename=this.currentFileInfo.filename;throw e;}
output.add(this.important+((this.inline||(context.lastRule&&context.compress))?"":";"),this.currentFileInfo,this.index);};Rule.prototype.eval=function(context){var strictMathBypass=false,name=this.name,evaldValue,variable=this.variable;if(typeof name!=="string"){name=(name.length===1)&&(name[0]instanceof Keyword)?name[0].value:evalName(context,name);variable=false;}
if(name==="font"&&!context.strictMath){strictMathBypass=true;context.strictMath=true;}
try{context.importantScope.push({});evaldValue=this.value.eval(context);if(!this.variable&&evaldValue.type==="DetachedRuleset"){throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};}
var important=this.important,importantResult=context.importantScope.pop();if(!important&&importantResult.important){important=importantResult.important;}
return new Rule(name,evaldValue,important,this.merge,this.index,this.currentFileInfo,this.inline,variable);}
catch(e){if(typeof e.index!=='number'){e.index=this.index;e.filename=this.currentFileInfo.filename;}
throw e;}
finally{if(strictMathBypass){context.strictMath=false;}}};Rule.prototype.makeImportant=function(){return new Rule(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline);};module.exports=Rule;},{"./keyword":65,"./node":70,"./value":81}],75:[function(require,module,exports){var Node=require("./node"),Variable=require("./variable");var RulesetCall=function(variable){this.variable=variable;this.allowRoot=true;};RulesetCall.prototype=new Node();RulesetCall.prototype.type="RulesetCall";RulesetCall.prototype.eval=function(context){var detachedRuleset=new Variable(this.variable).eval(context);return detachedRuleset.callEval(context);};module.exports=RulesetCall;},{"./node":70,"./variable":82}],76:[function(require,module,exports){var Node=require("./node"),Rule=require("./rule"),Selector=require("./selector"),Element=require("./element"),Paren=require("./paren"),contexts=require("../contexts"),globalFunctionRegistry=require("../functions/function-registry"),defaultFunc=require("../functions/default"),getDebugInfo=require("./debug-info");var Ruleset=function(selectors,rules,strictImports,visibilityInfo){this.selectors=selectors;this.rules=rules;this._lookups={};this.strictImports=strictImports;this.copyVisibilityInfo(visibilityInfo);this.allowRoot=true;};Ruleset.prototype=new Node();Ruleset.prototype.type="Ruleset";Ruleset.prototype.isRuleset=true;Ruleset.prototype.isRulesetLike=true;Ruleset.prototype.accept=function(visitor){if(this.paths){this.paths=visitor.visitArray(this.paths,true);}else if(this.selectors){this.selectors=visitor.visitArray(this.selectors);}
if(this.rules&&this.rules.length){this.rules=visitor.visitArray(this.rules);}};Ruleset.prototype.eval=function(context){var thisSelectors=this.selectors,selectors,selCnt,selector,i,hasOnePassingSelector=false;if(thisSelectors&&(selCnt=thisSelectors.length)){selectors=[];defaultFunc.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"});for(i=0;i<selCnt;i++){selector=thisSelectors[i].eval(context);selectors.push(selector);if(selector.evaldCondition){hasOnePassingSelector=true;}}
defaultFunc.reset();}else{hasOnePassingSelector=true;}
var rules=this.rules?this.rules.slice(0):null,ruleset=new Ruleset(selectors,rules,this.strictImports,this.visibilityInfo()),rule,subRule;ruleset.originalRuleset=this;ruleset.root=this.root;ruleset.firstRoot=this.firstRoot;ruleset.allowImports=this.allowImports;if(this.debugInfo){ruleset.debugInfo=this.debugInfo;}
if(!hasOnePassingSelector){rules.length=0;}
ruleset.functionRegistry=(function(frames){var i=0,n=frames.length,found;for(;i!==n;++i){found=frames[i].functionRegistry;if(found){return found;}}
return globalFunctionRegistry;}(context.frames)).inherit();var ctxFrames=context.frames;ctxFrames.unshift(ruleset);var ctxSelectors=context.selectors;if(!ctxSelectors){context.selectors=ctxSelectors=[];}
ctxSelectors.unshift(this.selectors);if(ruleset.root||ruleset.allowImports||!ruleset.strictImports){ruleset.evalImports(context);}
var rsRules=ruleset.rules,rsRuleCnt=rsRules?rsRules.length:0;for(i=0;i<rsRuleCnt;i++){if(rsRules[i].evalFirst){rsRules[i]=rsRules[i].eval(context);}}
var mediaBlockCount=(context.mediaBlocks&&context.mediaBlocks.length)||0;for(i=0;i<rsRuleCnt;i++){if(rsRules[i].type==="MixinCall"){rules=rsRules[i].eval(context).filter(function(r){if((r instanceof Rule)&&r.variable){return!(ruleset.variable(r.name));}
return true;});rsRules.splice.apply(rsRules,[i,1].concat(rules));rsRuleCnt+=rules.length-1;i+=rules.length-1;ruleset.resetCache();}else if(rsRules[i].type==="RulesetCall"){rules=rsRules[i].eval(context).rules.filter(function(r){if((r instanceof Rule)&&r.variable){return false;}
return true;});rsRules.splice.apply(rsRules,[i,1].concat(rules));rsRuleCnt+=rules.length-1;i+=rules.length-1;ruleset.resetCache();}}
for(i=0;i<rsRules.length;i++){rule=rsRules[i];if(!rule.evalFirst){rsRules[i]=rule=rule.eval?rule.eval(context):rule;}}
for(i=0;i<rsRules.length;i++){rule=rsRules[i];if(rule instanceof Ruleset&&rule.selectors&&rule.selectors.length===1){if(rule.selectors[0].isJustParentSelector()){rsRules.splice(i--,1);for(var j=0;j<rule.rules.length;j++){subRule=rule.rules[j];subRule.copyVisibilityInfo(rule.visibilityInfo());if(!(subRule instanceof Rule)||!subRule.variable){rsRules.splice(++i,0,subRule);}}}}}
ctxFrames.shift();ctxSelectors.shift();if(context.mediaBlocks){for(i=mediaBlockCount;i<context.mediaBlocks.length;i++){context.mediaBlocks[i].bubbleSelectors(selectors);}}
return ruleset;};Ruleset.prototype.evalImports=function(context){var rules=this.rules,i,importRules;if(!rules){return;}
for(i=0;i<rules.length;i++){if(rules[i].type==="Import"){importRules=rules[i].eval(context);if(importRules&&(importRules.length||importRules.length===0)){rules.splice.apply(rules,[i,1].concat(importRules));i+=importRules.length-1;}else{rules.splice(i,1,importRules);}
this.resetCache();}}};Ruleset.prototype.makeImportant=function(){var result=new Ruleset(this.selectors,this.rules.map(function(r){if(r.makeImportant){return r.makeImportant();}else{return r;}}),this.strictImports,this.visibilityInfo());return result;};Ruleset.prototype.matchArgs=function(args){return!args||args.length===0;};Ruleset.prototype.matchCondition=function(args,context){var lastSelector=this.selectors[this.selectors.length-1];if(!lastSelector.evaldCondition){return false;}
if(lastSelector.condition&&!lastSelector.condition.eval(new contexts.Eval(context,context.frames))){return false;}
return true;};Ruleset.prototype.resetCache=function(){this._rulesets=null;this._variables=null;this._lookups={};};Ruleset.prototype.variables=function(){if(!this._variables){this._variables=!this.rules?{}:this.rules.reduce(function(hash,r){if(r instanceof Rule&&r.variable===true){hash[r.name]=r;}
if(r.type==="Import"&&r.root&&r.root.variables){var vars=r.root.variables();for(var name in vars){if(vars.hasOwnProperty(name)){hash[name]=vars[name];}}}
return hash;},{});}
return this._variables;};Ruleset.prototype.variable=function(name){return this.variables()[name];};Ruleset.prototype.rulesets=function(){if(!this.rules){return[];}
var filtRules=[],rules=this.rules,cnt=rules.length,i,rule;for(i=0;i<cnt;i++){rule=rules[i];if(rule.isRuleset){filtRules.push(rule);}}
return filtRules;};Ruleset.prototype.prependRule=function(rule){var rules=this.rules;if(rules){rules.unshift(rule);}else{this.rules=[rule];}};Ruleset.prototype.find=function(selector,self,filter){self=self||this;var rules=[],match,foundMixins,key=selector.toCSS();if(key in this._lookups){return this._lookups[key];}
this.rulesets().forEach(function(rule){if(rule!==self){for(var j=0;j<rule.selectors.length;j++){match=selector.match(rule.selectors[j]);if(match){if(selector.elements.length>match){if(!filter||filter(rule)){foundMixins=rule.find(new Selector(selector.elements.slice(match)),self,filter);for(var i=0;i<foundMixins.length;++i){foundMixins[i].path.push(rule);}
Array.prototype.push.apply(rules,foundMixins);}}else{rules.push({rule:rule,path:[]});}
break;}}}});this._lookups[key]=rules;return rules;};Ruleset.prototype.genCSS=function(context,output){var i,j,charsetRuleNodes=[],ruleNodes=[],debugInfo,rule,path;context.tabLevel=(context.tabLevel||0);if(!this.root){context.tabLevel++;}
var tabRuleStr=context.compress?'':Array(context.tabLevel+1).join("  "),tabSetStr=context.compress?'':Array(context.tabLevel).join("  "),sep;function isRulesetLikeNode(rule){if(typeof rule.isRulesetLike==="boolean"){return rule.isRulesetLike;}else if(typeof rule.isRulesetLike==="function"){return rule.isRulesetLike();}
return false;}
var charsetNodeIndex=0;var importNodeIndex=0;for(i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.type==="Comment"){if(importNodeIndex===i){importNodeIndex++;}
ruleNodes.push(rule);}else if(rule.isCharset&&rule.isCharset()){ruleNodes.splice(charsetNodeIndex,0,rule);charsetNodeIndex++;importNodeIndex++;}else if(rule.type==="Import"){ruleNodes.splice(importNodeIndex,0,rule);importNodeIndex++;}else{ruleNodes.push(rule);}}
ruleNodes=charsetRuleNodes.concat(ruleNodes);if(!this.root){debugInfo=getDebugInfo(context,this,tabSetStr);if(debugInfo){output.add(debugInfo);output.add(tabSetStr);}
var paths=this.paths,pathCnt=paths.length,pathSubCnt;sep=context.compress?',':(',\n'+tabSetStr);for(i=0;i<pathCnt;i++){path=paths[i];if(!(pathSubCnt=path.length)){continue;}
if(i>0){output.add(sep);}
context.firstSelector=true;path[0].genCSS(context,output);context.firstSelector=false;for(j=1;j<pathSubCnt;j++){path[j].genCSS(context,output);}}
output.add((context.compress?'{':' {\n')+tabRuleStr);}
for(i=0;i<ruleNodes.length;i++){rule=ruleNodes[i];if(i+1===ruleNodes.length){context.lastRule=true;}
var currentLastRule=context.lastRule;if(isRulesetLikeNode(rule)){context.lastRule=false;}
if(rule.genCSS){rule.genCSS(context,output);}else if(rule.value){output.add(rule.value.toString());}
context.lastRule=currentLastRule;if(!context.lastRule){output.add(context.compress?'':('\n'+tabRuleStr));}else{context.lastRule=false;}}
if(!this.root){output.add((context.compress?'}':'\n'+tabSetStr+'}'));context.tabLevel--;}
if(!output.isEmpty()&&!context.compress&&this.firstRoot){output.add('\n');}};Ruleset.prototype.joinSelectors=function(paths,context,selectors){for(var s=0;s<selectors.length;s++){this.joinSelector(paths,context,selectors[s]);}};Ruleset.prototype.joinSelector=function(paths,context,selector){function createParenthesis(elementsToPak,originalElement){var replacementParen,j;if(elementsToPak.length===0){replacementParen=new Paren(elementsToPak[0]);}else{var insideParent=[];for(j=0;j<elementsToPak.length;j++){insideParent.push(new Element(null,elementsToPak[j],originalElement.index,originalElement.currentFileInfo));}
replacementParen=new Paren(new Selector(insideParent));}
return replacementParen;}
function createSelector(containedElement,originalElement){var element,selector;element=new Element(null,containedElement,originalElement.index,originalElement.currentFileInfo);selector=new Selector([element]);return selector;}
function addReplacementIntoPath(beginningPath,addPath,replacedElement,originalSelector){var newSelectorPath,lastSelector,newJoinedSelector;newSelectorPath=[];if(beginningPath.length>0){newSelectorPath=beginningPath.slice(0);lastSelector=newSelectorPath.pop();newJoinedSelector=originalSelector.createDerived(lastSelector.elements.slice(0));}
else{newJoinedSelector=originalSelector.createDerived([]);}
if(addPath.length>0){var combinator=replacedElement.combinator,parentEl=addPath[0].elements[0];if(combinator.emptyOrWhitespace&&!parentEl.combinator.emptyOrWhitespace){combinator=parentEl.combinator;}
newJoinedSelector.elements.push(new Element(combinator,parentEl.value,replacedElement.index,replacedElement.currentFileInfo));newJoinedSelector.elements=newJoinedSelector.elements.concat(addPath[0].elements.slice(1));}
if(newJoinedSelector.elements.length!==0){newSelectorPath.push(newJoinedSelector);}
if(addPath.length>1){var restOfPath=addPath.slice(1);restOfPath=restOfPath.map(function(selector){return selector.createDerived(selector.elements,[]);});newSelectorPath=newSelectorPath.concat(restOfPath);}
return newSelectorPath;}
function addAllReplacementsIntoPath(beginningPath,addPaths,replacedElement,originalSelector,result){var j;for(j=0;j<beginningPath.length;j++){var newSelectorPath=addReplacementIntoPath(beginningPath[j],addPaths,replacedElement,originalSelector);result.push(newSelectorPath);}
return result;}
function mergeElementsOnToSelectors(elements,selectors){var i,sel;if(elements.length===0){return;}
if(selectors.length===0){selectors.push([new Selector(elements)]);return;}
for(i=0;i<selectors.length;i++){sel=selectors[i];if(sel.length>0){sel[sel.length-1]=sel[sel.length-1].createDerived(sel[sel.length-1].elements.concat(elements));}
else{sel.push(new Selector(elements));}}}
function replaceParentSelector(paths,context,inSelector){var i,j,k,currentElements,newSelectors,selectorsMultiplied,sel,el,hadParentSelector=false,length,lastSelector;function findNestedSelector(element){var maybeSelector;if(element.value.type!=='Paren'){return null;}
maybeSelector=element.value.value;if(maybeSelector.type!=='Selector'){return null;}
return maybeSelector;}
currentElements=[];newSelectors=[[]];for(i=0;i<inSelector.elements.length;i++){el=inSelector.elements[i];if(el.value!=="&"){var nestedSelector=findNestedSelector(el);if(nestedSelector!=null){mergeElementsOnToSelectors(currentElements,newSelectors);var nestedPaths=[],replaced,replacedNewSelectors=[];replaced=replaceParentSelector(nestedPaths,context,nestedSelector);hadParentSelector=hadParentSelector||replaced;for(k=0;k<nestedPaths.length;k++){var replacementSelector=createSelector(createParenthesis(nestedPaths[k],el),el);addAllReplacementsIntoPath(newSelectors,[replacementSelector],el,inSelector,replacedNewSelectors);}
newSelectors=replacedNewSelectors;currentElements=[];}else{currentElements.push(el);}}else{hadParentSelector=true;selectorsMultiplied=[];mergeElementsOnToSelectors(currentElements,newSelectors);for(j=0;j<newSelectors.length;j++){sel=newSelectors[j];if(context.length===0){if(sel.length>0){sel[0].elements.push(new Element(el.combinator,'',el.index,el.currentFileInfo));}
selectorsMultiplied.push(sel);}
else{for(k=0;k<context.length;k++){var newSelectorPath=addReplacementIntoPath(sel,context[k],el,inSelector);selectorsMultiplied.push(newSelectorPath);}}}
newSelectors=selectorsMultiplied;currentElements=[];}}
mergeElementsOnToSelectors(currentElements,newSelectors);for(i=0;i<newSelectors.length;i++){length=newSelectors[i].length;if(length>0){paths.push(newSelectors[i]);lastSelector=newSelectors[i][length-1];newSelectors[i][length-1]=lastSelector.createDerived(lastSelector.elements,inSelector.extendList);}}
return hadParentSelector;}
function deriveSelector(visibilityInfo,deriveFrom){var newSelector=deriveFrom.createDerived(deriveFrom.elements,deriveFrom.extendList,deriveFrom.evaldCondition);newSelector.copyVisibilityInfo(visibilityInfo);return newSelector;}
var i,newPaths,hadParentSelector;newPaths=[];hadParentSelector=replaceParentSelector(newPaths,context,selector);if(!hadParentSelector){if(context.length>0){newPaths=[];for(i=0;i<context.length;i++){var concatenated=context[i].map(deriveSelector.bind(this,selector.visibilityInfo()));concatenated.push(selector);newPaths.push(concatenated);}}
else{newPaths=[[selector]];}}
for(i=0;i<newPaths.length;i++){paths.push(newPaths[i]);}};module.exports=Ruleset;},{"../contexts":11,"../functions/default":20,"../functions/function-registry":22,"./debug-info":54,"./element":58,"./node":70,"./paren":72,"./rule":74,"./selector":77}],77:[function(require,module,exports){var Node=require("./node"),Element=require("./element");var Selector=function(elements,extendList,condition,index,currentFileInfo,visibilityInfo){this.elements=elements;this.extendList=extendList;this.condition=condition;this.currentFileInfo=currentFileInfo||{};if(!condition){this.evaldCondition=true;}
this.copyVisibilityInfo(visibilityInfo);};Selector.prototype=new Node();Selector.prototype.type="Selector";Selector.prototype.accept=function(visitor){if(this.elements){this.elements=visitor.visitArray(this.elements);}
if(this.extendList){this.extendList=visitor.visitArray(this.extendList);}
if(this.condition){this.condition=visitor.visit(this.condition);}};Selector.prototype.createDerived=function(elements,extendList,evaldCondition){var info=this.visibilityInfo();evaldCondition=(evaldCondition!=null)?evaldCondition:this.evaldCondition;var newSelector=new Selector(elements,extendList||this.extendList,null,this.index,this.currentFileInfo,info);newSelector.evaldCondition=evaldCondition;newSelector.mediaEmpty=this.mediaEmpty;return newSelector;};Selector.prototype.createEmptySelectors=function(){var el=new Element('','&',this.index,this.currentFileInfo),sels=[new Selector([el],null,null,this.index,this.currentFileInfo)];sels[0].mediaEmpty=true;return sels;};Selector.prototype.match=function(other){var elements=this.elements,len=elements.length,olen,i;other.CacheElements();olen=other._elements.length;if(olen===0||len<olen){return 0;}else{for(i=0;i<olen;i++){if(elements[i].value!==other._elements[i]){return 0;}}}
return olen;};Selector.prototype.CacheElements=function(){if(this._elements){return;}
var elements=this.elements.map(function(v){return v.combinator.value+(v.value.value||v.value);}).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g);if(elements){if(elements[0]==="&"){elements.shift();}}else{elements=[];}
this._elements=elements;};Selector.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&this.elements.length===1&&this.elements[0].value==='&'&&(this.elements[0].combinator.value===' '||this.elements[0].combinator.value==='');};Selector.prototype.eval=function(context){var evaldCondition=this.condition&&this.condition.eval(context),elements=this.elements,extendList=this.extendList;elements=elements&&elements.map(function(e){return e.eval(context);});extendList=extendList&&extendList.map(function(extend){return extend.eval(context);});return this.createDerived(elements,extendList,evaldCondition);};Selector.prototype.genCSS=function(context,output){var i,element;if((!context||!context.firstSelector)&&this.elements[0].combinator.value===""){output.add(' ',this.currentFileInfo,this.index);}
if(!this._css){for(i=0;i<this.elements.length;i++){element=this.elements[i];element.genCSS(context,output);}}};Selector.prototype.getIsOutput=function(){return this.evaldCondition;};module.exports=Selector;},{"./element":58,"./node":70}],78:[function(require,module,exports){var Node=require("./node");var UnicodeDescriptor=function(value){this.value=value;};UnicodeDescriptor.prototype=new Node();UnicodeDescriptor.prototype.type="UnicodeDescriptor";module.exports=UnicodeDescriptor;},{"./node":70}],79:[function(require,module,exports){var Node=require("./node"),unitConversions=require("../data/unit-conversions");var Unit=function(numerator,denominator,backupUnit){this.numerator=numerator?numerator.slice(0).sort():[];this.denominator=denominator?denominator.slice(0).sort():[];if(backupUnit){this.backupUnit=backupUnit;}else if(numerator&&numerator.length){this.backupUnit=numerator[0];}};Unit.prototype=new Node();Unit.prototype.type="Unit";Unit.prototype.clone=function(){return new Unit(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit);};Unit.prototype.genCSS=function(context,output){var strictUnits=context&&context.strictUnits;if(this.numerator.length===1){output.add(this.numerator[0]);}else if(!strictUnits&&this.backupUnit){output.add(this.backupUnit);}else if(!strictUnits&&this.denominator.length){output.add(this.denominator[0]);}};Unit.prototype.toString=function(){var i,returnStr=this.numerator.join("*");for(i=0;i<this.denominator.length;i++){returnStr+="/"+this.denominator[i];}
return returnStr;};Unit.prototype.compare=function(other){return this.is(other.toString())?0:undefined;};Unit.prototype.is=function(unitString){return this.toString().toUpperCase()===unitString.toUpperCase();};Unit.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/));};Unit.prototype.isEmpty=function(){return this.numerator.length===0&&this.denominator.length===0;};Unit.prototype.isSingular=function(){return this.numerator.length<=1&&this.denominator.length===0;};Unit.prototype.map=function(callback){var i;for(i=0;i<this.numerator.length;i++){this.numerator[i]=callback(this.numerator[i],false);}
for(i=0;i<this.denominator.length;i++){this.denominator[i]=callback(this.denominator[i],true);}};Unit.prototype.usedUnits=function(){var group,result={},mapUnit,groupName;mapUnit=function(atomicUnit){if(group.hasOwnProperty(atomicUnit)&&!result[groupName]){result[groupName]=atomicUnit;}
return atomicUnit;};for(groupName in unitConversions){if(unitConversions.hasOwnProperty(groupName)){group=unitConversions[groupName];this.map(mapUnit);}}
return result;};Unit.prototype.cancel=function(){var counter={},atomicUnit,i;for(i=0;i<this.numerator.length;i++){atomicUnit=this.numerator[i];counter[atomicUnit]=(counter[atomicUnit]||0)+1;}
for(i=0;i<this.denominator.length;i++){atomicUnit=this.denominator[i];counter[atomicUnit]=(counter[atomicUnit]||0)-1;}
this.numerator=[];this.denominator=[];for(atomicUnit in counter){if(counter.hasOwnProperty(atomicUnit)){var count=counter[atomicUnit];if(count>0){for(i=0;i<count;i++){this.numerator.push(atomicUnit);}}else if(count<0){for(i=0;i<-count;i++){this.denominator.push(atomicUnit);}}}}
this.numerator.sort();this.denominator.sort();};module.exports=Unit;},{"../data/unit-conversions":14,"./node":70}],80:[function(require,module,exports){var Node=require("./node");var URL=function(val,index,currentFileInfo,isEvald){this.value=val;this.currentFileInfo=currentFileInfo;this.index=index;this.isEvald=isEvald;};URL.prototype=new Node();URL.prototype.type="Url";URL.prototype.accept=function(visitor){this.value=visitor.visit(this.value);};URL.prototype.genCSS=function(context,output){output.add("url(");this.value.genCSS(context,output);output.add(")");};URL.prototype.eval=function(context){var val=this.value.eval(context),rootpath;if(!this.isEvald){rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath;if(rootpath&&typeof val.value==="string"&&context.isPathRelative(val.value)){if(!val.quote){rootpath=rootpath.replace(/[\(\)'"\s]/g,function(match){return"\\"+match;});}
val.value=rootpath+val.value;}
val.value=context.normalizePath(val.value);if(context.urlArgs){if(!val.value.match(/^\s*data:/)){var delimiter=val.value.indexOf('?')===-1?'?':'&';var urlArgs=delimiter+context.urlArgs;if(val.value.indexOf('#')!==-1){val.value=val.value.replace('#',urlArgs+'#');}else{val.value+=urlArgs;}}}}
return new URL(val,this.index,this.currentFileInfo,true);};module.exports=URL;},{"./node":70}],81:[function(require,module,exports){var Node=require("./node");var Value=function(value){this.value=value;if(!value){throw new Error("Value requires an array argument");}};Value.prototype=new Node();Value.prototype.type="Value";Value.prototype.accept=function(visitor){if(this.value){this.value=visitor.visitArray(this.value);}};Value.prototype.eval=function(context){if(this.value.length===1){return this.value[0].eval(context);}else{return new Value(this.value.map(function(v){return v.eval(context);}));}};Value.prototype.genCSS=function(context,output){var i;for(i=0;i<this.value.length;i++){this.value[i].genCSS(context,output);if(i+1<this.value.length){output.add((context&&context.compress)?',':', ');}}};module.exports=Value;},{"./node":70}],82:[function(require,module,exports){var Node=require("./node");var Variable=function(name,index,currentFileInfo){this.name=name;this.index=index;this.currentFileInfo=currentFileInfo||{};};Variable.prototype=new Node();Variable.prototype.type="Variable";Variable.prototype.eval=function(context){var variable,name=this.name;if(name.indexOf('@@')===0){name='@'+new Variable(name.slice(1),this.index,this.currentFileInfo).eval(context).value;}
if(this.evaluating){throw{type:'Name',message:"Recursive variable definition for "+name,filename:this.currentFileInfo.filename,index:this.index};}
this.evaluating=true;variable=this.find(context.frames,function(frame){var v=frame.variable(name);if(v){if(v.important){var importantScope=context.importantScope[context.importantScope.length-1];importantScope.important=v.important;}
return v.value.eval(context);}});if(variable){this.evaluating=false;return variable;}else{throw{type:'Name',message:"variable "+name+" is undefined",filename:this.currentFileInfo.filename,index:this.index};}};Variable.prototype.find=function(obj,fun){for(var i=0,r;i<obj.length;i++){r=fun.call(obj,obj[i]);if(r){return r;}}
return null;};module.exports=Variable;},{"./node":70}],83:[function(require,module,exports){module.exports={getLocation:function(index,inputStream){var n=index+1,line=null,column=-1;while(--n>=0&&inputStream.charAt(n)!=='\n'){column++;}
if(typeof index==='number'){line=(inputStream.slice(0,index).match(/\n/g)||"").length;}
return{line:line,column:column};}};},{}],84:[function(require,module,exports){var tree=require("../tree"),Visitor=require("./visitor"),logger=require("../logger");var ExtendFinderVisitor=function(){this._visitor=new Visitor(this);this.contexts=[];this.allExtendsStack=[[]];};ExtendFinderVisitor.prototype={run:function(root){root=this._visitor.visit(root);root.allExtends=this.allExtendsStack[0];return root;},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=false;},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=false;},visitRuleset:function(rulesetNode,visitArgs){if(rulesetNode.root){return;}
var i,j,extend,allSelectorsExtendList=[],extendList;var rules=rulesetNode.rules,ruleCnt=rules?rules.length:0;for(i=0;i<ruleCnt;i++){if(rulesetNode.rules[i]instanceof tree.Extend){allSelectorsExtendList.push(rules[i]);rulesetNode.extendOnEveryPath=true;}}
var paths=rulesetNode.paths;for(i=0;i<paths.length;i++){var selectorPath=paths[i],selector=selectorPath[selectorPath.length-1],selExtendList=selector.extendList;extendList=selExtendList?selExtendList.slice(0).concat(allSelectorsExtendList):allSelectorsExtendList;if(extendList){extendList=extendList.map(function(allSelectorsExtend){return allSelectorsExtend.clone();});}
for(j=0;j<extendList.length;j++){this.foundExtends=true;extend=extendList[j];extend.findSelfSelectors(selectorPath);extend.ruleset=rulesetNode;if(j===0){extend.firstExtendOnThisSelectorPath=true;}
this.allExtendsStack[this.allExtendsStack.length-1].push(extend);}}
this.contexts.push(rulesetNode.selectors);},visitRulesetOut:function(rulesetNode){if(!rulesetNode.root){this.contexts.length=this.contexts.length-1;}},visitMedia:function(mediaNode,visitArgs){mediaNode.allExtends=[];this.allExtendsStack.push(mediaNode.allExtends);},visitMediaOut:function(mediaNode){this.allExtendsStack.length=this.allExtendsStack.length-1;},visitDirective:function(directiveNode,visitArgs){directiveNode.allExtends=[];this.allExtendsStack.push(directiveNode.allExtends);},visitDirectiveOut:function(directiveNode){this.allExtendsStack.length=this.allExtendsStack.length-1;}};var ProcessExtendsVisitor=function(){this._visitor=new Visitor(this);};ProcessExtendsVisitor.prototype={run:function(root){var extendFinder=new ExtendFinderVisitor();this.extendIndices={};extendFinder.run(root);if(!extendFinder.foundExtends){return root;}
root.allExtends=root.allExtends.concat(this.doExtendChaining(root.allExtends,root.allExtends));this.allExtendsStack=[root.allExtends];var newRoot=this._visitor.visit(root);this.checkExtendsForNonMatched(root.allExtends);return newRoot;},checkExtendsForNonMatched:function(extendList){var indices=this.extendIndices;extendList.filter(function(extend){return!extend.hasFoundMatches&&extend.parent_ids.length==1;}).forEach(function(extend){var selector="_unknown_";try{selector=extend.selector.toCSS({});}
catch(_){}
if(!indices[extend.index+' '+selector]){indices[extend.index+' '+selector]=true;logger.warn("extend '"+selector+"' has no matches");}});},doExtendChaining:function(extendsList,extendsListTarget,iterationCount){var extendIndex,targetExtendIndex,matches,extendsToAdd=[],newSelector,extendVisitor=this,selectorPath,extend,targetExtend,newExtend;iterationCount=iterationCount||0;for(extendIndex=0;extendIndex<extendsList.length;extendIndex++){for(targetExtendIndex=0;targetExtendIndex<extendsListTarget.length;targetExtendIndex++){extend=extendsList[extendIndex];targetExtend=extendsListTarget[targetExtendIndex];if(extend.parent_ids.indexOf(targetExtend.object_id)>=0){continue;}
selectorPath=[targetExtend.selfSelectors[0]];matches=extendVisitor.findMatch(extend,selectorPath);if(matches.length){extend.hasFoundMatches=true;extend.selfSelectors.forEach(function(selfSelector){var info=targetExtend.visibilityInfo();newSelector=extendVisitor.extendSelector(matches,selectorPath,selfSelector,extend.isVisible());newExtend=new(tree.Extend)(targetExtend.selector,targetExtend.option,0,targetExtend.currentFileInfo,info);newExtend.selfSelectors=newSelector;newSelector[newSelector.length-1].extendList=[newExtend];extendsToAdd.push(newExtend);newExtend.ruleset=targetExtend.ruleset;newExtend.parent_ids=newExtend.parent_ids.concat(targetExtend.parent_ids,extend.parent_ids);if(targetExtend.firstExtendOnThisSelectorPath){newExtend.firstExtendOnThisSelectorPath=true;targetExtend.ruleset.paths.push(newSelector);}});}}}
if(extendsToAdd.length){this.extendChainCount++;if(iterationCount>100){var selectorOne="{unable to calculate}";var selectorTwo="{unable to calculate}";try{selectorOne=extendsToAdd[0].selfSelectors[0].toCSS();selectorTwo=extendsToAdd[0].selector.toCSS();}
catch(e){}
throw{message:"extend circular reference detected. One of the circular extends is currently:"+
selectorOne+":extend("+selectorTwo+")"};}
return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd,extendsListTarget,iterationCount+1));}else{return extendsToAdd;}},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=false;},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=false;},visitSelector:function(selectorNode,visitArgs){visitArgs.visitDeeper=false;},visitRuleset:function(rulesetNode,visitArgs){if(rulesetNode.root){return;}
var matches,pathIndex,extendIndex,allExtends=this.allExtendsStack[this.allExtendsStack.length-1],selectorsToAdd=[],extendVisitor=this,selectorPath;for(extendIndex=0;extendIndex<allExtends.length;extendIndex++){for(pathIndex=0;pathIndex<rulesetNode.paths.length;pathIndex++){selectorPath=rulesetNode.paths[pathIndex];if(rulesetNode.extendOnEveryPath){continue;}
var extendList=selectorPath[selectorPath.length-1].extendList;if(extendList&&extendList.length){continue;}
matches=this.findMatch(allExtends[extendIndex],selectorPath);if(matches.length){allExtends[extendIndex].hasFoundMatches=true;allExtends[extendIndex].selfSelectors.forEach(function(selfSelector){var extendedSelectors;extendedSelectors=extendVisitor.extendSelector(matches,selectorPath,selfSelector,allExtends[extendIndex].isVisible());selectorsToAdd.push(extendedSelectors);});}}}
rulesetNode.paths=rulesetNode.paths.concat(selectorsToAdd);},findMatch:function(extend,haystackSelectorPath){var haystackSelectorIndex,hackstackSelector,hackstackElementIndex,haystackElement,targetCombinator,i,extendVisitor=this,needleElements=extend.selector.elements,potentialMatches=[],potentialMatch,matches=[];for(haystackSelectorIndex=0;haystackSelectorIndex<haystackSelectorPath.length;haystackSelectorIndex++){hackstackSelector=haystackSelectorPath[haystackSelectorIndex];for(hackstackElementIndex=0;hackstackElementIndex<hackstackSelector.elements.length;hackstackElementIndex++){haystackElement=hackstackSelector.elements[hackstackElementIndex];if(extend.allowBefore||(haystackSelectorIndex===0&&hackstackElementIndex===0)){potentialMatches.push({pathIndex:haystackSelectorIndex,index:hackstackElementIndex,matched:0,initialCombinator:haystackElement.combinator});}
for(i=0;i<potentialMatches.length;i++){potentialMatch=potentialMatches[i];targetCombinator=haystackElement.combinator.value;if(targetCombinator===''&&hackstackElementIndex===0){targetCombinator=' ';}
if(!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value,haystackElement.value)||(potentialMatch.matched>0&&needleElements[potentialMatch.matched].combinator.value!==targetCombinator)){potentialMatch=null;}else{potentialMatch.matched++;}
if(potentialMatch){potentialMatch.finished=potentialMatch.matched===needleElements.length;if(potentialMatch.finished&&(!extend.allowAfter&&(hackstackElementIndex+1<hackstackSelector.elements.length||haystackSelectorIndex+1<haystackSelectorPath.length))){potentialMatch=null;}}
if(potentialMatch){if(potentialMatch.finished){potentialMatch.length=needleElements.length;potentialMatch.endPathIndex=haystackSelectorIndex;potentialMatch.endPathElementIndex=hackstackElementIndex+1;potentialMatches.length=0;matches.push(potentialMatch);}}else{potentialMatches.splice(i,1);i--;}}}}
return matches;},isElementValuesEqual:function(elementValue1,elementValue2){if(typeof elementValue1==="string"||typeof elementValue2==="string"){return elementValue1===elementValue2;}
if(elementValue1 instanceof tree.Attribute){if(elementValue1.op!==elementValue2.op||elementValue1.key!==elementValue2.key){return false;}
if(!elementValue1.value||!elementValue2.value){if(elementValue1.value||elementValue2.value){return false;}
return true;}
elementValue1=elementValue1.value.value||elementValue1.value;elementValue2=elementValue2.value.value||elementValue2.value;return elementValue1===elementValue2;}
elementValue1=elementValue1.value;elementValue2=elementValue2.value;if(elementValue1 instanceof tree.Selector){if(!(elementValue2 instanceof tree.Selector)||elementValue1.elements.length!==elementValue2.elements.length){return false;}
for(var i=0;i<elementValue1.elements.length;i++){if(elementValue1.elements[i].combinator.value!==elementValue2.elements[i].combinator.value){if(i!==0||(elementValue1.elements[i].combinator.value||' ')!==(elementValue2.elements[i].combinator.value||' ')){return false;}}
if(!this.isElementValuesEqual(elementValue1.elements[i].value,elementValue2.elements[i].value)){return false;}}
return true;}
return false;},extendSelector:function(matches,selectorPath,replacementSelector,isVisible){var currentSelectorPathIndex=0,currentSelectorPathElementIndex=0,path=[],matchIndex,selector,firstElement,match,newElements;for(matchIndex=0;matchIndex<matches.length;matchIndex++){match=matches[matchIndex];selector=selectorPath[match.pathIndex];firstElement=new tree.Element(match.initialCombinator,replacementSelector.elements[0].value,replacementSelector.elements[0].index,replacementSelector.elements[0].currentFileInfo);if(match.pathIndex>currentSelectorPathIndex&&currentSelectorPathElementIndex>0){path[path.length-1].elements=path[path.length-1].elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));currentSelectorPathElementIndex=0;currentSelectorPathIndex++;}
newElements=selector.elements.slice(currentSelectorPathElementIndex,match.index).concat([firstElement]).concat(replacementSelector.elements.slice(1));if(currentSelectorPathIndex===match.pathIndex&&matchIndex>0){path[path.length-1].elements=path[path.length-1].elements.concat(newElements);}else{path=path.concat(selectorPath.slice(currentSelectorPathIndex,match.pathIndex));path.push(new tree.Selector(newElements));}
currentSelectorPathIndex=match.endPathIndex;currentSelectorPathElementIndex=match.endPathElementIndex;if(currentSelectorPathElementIndex>=selectorPath[currentSelectorPathIndex].elements.length){currentSelectorPathElementIndex=0;currentSelectorPathIndex++;}}
if(currentSelectorPathIndex<selectorPath.length&&currentSelectorPathElementIndex>0){path[path.length-1].elements=path[path.length-1].elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));currentSelectorPathIndex++;}
path=path.concat(selectorPath.slice(currentSelectorPathIndex,selectorPath.length));path=path.map(function(currentValue){var derived=currentValue.createDerived(currentValue.elements);if(isVisible){derived.ensureVisibility();}else{derived.ensureInvisibility();}
return derived;});return path;},visitMedia:function(mediaNode,visitArgs){var newAllExtends=mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);newAllExtends=newAllExtends.concat(this.doExtendChaining(newAllExtends,mediaNode.allExtends));this.allExtendsStack.push(newAllExtends);},visitMediaOut:function(mediaNode){var lastIndex=this.allExtendsStack.length-1;this.allExtendsStack.length=lastIndex;},visitDirective:function(directiveNode,visitArgs){var newAllExtends=directiveNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);newAllExtends=newAllExtends.concat(this.doExtendChaining(newAllExtends,directiveNode.allExtends));this.allExtendsStack.push(newAllExtends);},visitDirectiveOut:function(directiveNode){var lastIndex=this.allExtendsStack.length-1;this.allExtendsStack.length=lastIndex;}};module.exports=ProcessExtendsVisitor;},{"../logger":33,"../tree":62,"./visitor":91}],85:[function(require,module,exports){function ImportSequencer(onSequencerEmpty){this.imports=[];this.variableImports=[];this._onSequencerEmpty=onSequencerEmpty;this._currentDepth=0;}
ImportSequencer.prototype.addImport=function(callback){var importSequencer=this,importItem={callback:callback,args:null,isReady:false};this.imports.push(importItem);return function(){importItem.args=Array.prototype.slice.call(arguments,0);importItem.isReady=true;importSequencer.tryRun();};};ImportSequencer.prototype.addVariableImport=function(callback){this.variableImports.push(callback);};ImportSequencer.prototype.tryRun=function(){this._currentDepth++;try{while(true){while(this.imports.length>0){var importItem=this.imports[0];if(!importItem.isReady){return;}
this.imports=this.imports.slice(1);importItem.callback.apply(null,importItem.args);}
if(this.variableImports.length===0){break;}
var variableImport=this.variableImports[0];this.variableImports=this.variableImports.slice(1);variableImport();}}finally{this._currentDepth--;}
if(this._currentDepth===0&&this._onSequencerEmpty){this._onSequencerEmpty();}};module.exports=ImportSequencer;},{}],86:[function(require,module,exports){var contexts=require("../contexts"),Visitor=require("./visitor"),ImportSequencer=require("./import-sequencer");var ImportVisitor=function(importer,finish){this._visitor=new Visitor(this);this._importer=importer;this._finish=finish;this.context=new contexts.Eval();this.importCount=0;this.onceFileDetectionMap={};this.recursionDetector={};this._sequencer=new ImportSequencer(this._onSequencerEmpty.bind(this));};ImportVisitor.prototype={isReplacing:false,run:function(root){try{this._visitor.visit(root);}
catch(e){this.error=e;}
this.isFinished=true;this._sequencer.tryRun();},_onSequencerEmpty:function(){if(!this.isFinished){return;}
this._finish(this.error);},visitImport:function(importNode,visitArgs){var inlineCSS=importNode.options.inline;if(!importNode.css||inlineCSS){var context=new contexts.Eval(this.context,this.context.frames.slice(0));var importParent=context.frames[0];this.importCount++;if(importNode.isVariableImport()){this._sequencer.addVariableImport(this.processImportNode.bind(this,importNode,context,importParent));}else{this.processImportNode(importNode,context,importParent);}}
visitArgs.visitDeeper=false;},processImportNode:function(importNode,context,importParent){var evaldImportNode,inlineCSS=importNode.options.inline;try{evaldImportNode=importNode.evalForImport(context);}catch(e){if(!e.filename){e.index=importNode.index;e.filename=importNode.currentFileInfo.filename;}
importNode.css=true;importNode.error=e;}
if(evaldImportNode&&(!evaldImportNode.css||inlineCSS)){if(evaldImportNode.options.multiple){context.importMultiple=true;}
var tryAppendLessExtension=evaldImportNode.css===undefined;for(var i=0;i<importParent.rules.length;i++){if(importParent.rules[i]===importNode){importParent.rules[i]=evaldImportNode;break;}}
var onImported=this.onImported.bind(this,evaldImportNode,context),sequencedOnImported=this._sequencer.addImport(onImported);this._importer.push(evaldImportNode.getPath(),tryAppendLessExtension,evaldImportNode.currentFileInfo,evaldImportNode.options,sequencedOnImported);}else{this.importCount--;if(this.isFinished){this._sequencer.tryRun();}}},onImported:function(importNode,context,e,root,importedAtRoot,fullPath){if(e){if(!e.filename){e.index=importNode.index;e.filename=importNode.currentFileInfo.filename;}
this.error=e;}
var importVisitor=this,inlineCSS=importNode.options.inline,isPlugin=importNode.options.plugin,isOptional=importNode.options.optional,duplicateImport=importedAtRoot||fullPath in importVisitor.recursionDetector;if(!context.importMultiple){if(duplicateImport){importNode.skip=true;}else{importNode.skip=function(){if(fullPath in importVisitor.onceFileDetectionMap){return true;}
importVisitor.onceFileDetectionMap[fullPath]=true;return false;};}}
if(!fullPath&&isOptional){importNode.skip=true;}
if(root){importNode.root=root;importNode.importedFilename=fullPath;if(!inlineCSS&&!isPlugin&&(context.importMultiple||!duplicateImport)){importVisitor.recursionDetector[fullPath]=true;var oldContext=this.context;this.context=context;try{this._visitor.visit(root);}catch(e){this.error=e;}
this.context=oldContext;}}
importVisitor.importCount--;if(importVisitor.isFinished){importVisitor._sequencer.tryRun();}},visitRule:function(ruleNode,visitArgs){if(ruleNode.value.type==="DetachedRuleset"){this.context.frames.unshift(ruleNode);}else{visitArgs.visitDeeper=false;}},visitRuleOut:function(ruleNode){if(ruleNode.value.type==="DetachedRuleset"){this.context.frames.shift();}},visitDirective:function(directiveNode,visitArgs){this.context.frames.unshift(directiveNode);},visitDirectiveOut:function(directiveNode){this.context.frames.shift();},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){this.context.frames.unshift(mixinDefinitionNode);},visitMixinDefinitionOut:function(mixinDefinitionNode){this.context.frames.shift();},visitRuleset:function(rulesetNode,visitArgs){this.context.frames.unshift(rulesetNode);},visitRulesetOut:function(rulesetNode){this.context.frames.shift();},visitMedia:function(mediaNode,visitArgs){this.context.frames.unshift(mediaNode.rules[0]);},visitMediaOut:function(mediaNode){this.context.frames.shift();}};module.exports=ImportVisitor;},{"../contexts":11,"./import-sequencer":85,"./visitor":91}],87:[function(require,module,exports){var visitors={Visitor:require("./visitor"),ImportVisitor:require('./import-visitor'),MarkVisibleSelectorsVisitor:require("./set-tree-visibility-visitor"),ExtendVisitor:require('./extend-visitor'),JoinSelectorVisitor:require('./join-selector-visitor'),ToCSSVisitor:require('./to-css-visitor')};module.exports=visitors;},{"./extend-visitor":84,"./import-visitor":86,"./join-selector-visitor":88,"./set-tree-visibility-visitor":89,"./to-css-visitor":90,"./visitor":91}],88:[function(require,module,exports){var Visitor=require("./visitor");var JoinSelectorVisitor=function(){this.contexts=[[]];this._visitor=new Visitor(this);};JoinSelectorVisitor.prototype={run:function(root){return this._visitor.visit(root);},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=false;},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=false;},visitRuleset:function(rulesetNode,visitArgs){var context=this.contexts[this.contexts.length-1],paths=[],selectors;this.contexts.push(paths);if(!rulesetNode.root){selectors=rulesetNode.selectors;if(selectors){selectors=selectors.filter(function(selector){return selector.getIsOutput();});rulesetNode.selectors=selectors.length?selectors:(selectors=null);if(selectors){rulesetNode.joinSelectors(paths,context,selectors);}}
if(!selectors){rulesetNode.rules=null;}
rulesetNode.paths=paths;}},visitRulesetOut:function(rulesetNode){this.contexts.length=this.contexts.length-1;},visitMedia:function(mediaNode,visitArgs){var context=this.contexts[this.contexts.length-1];mediaNode.rules[0].root=(context.length===0||context[0].multiMedia);},visitDirective:function(directiveNode,visitArgs){var context=this.contexts[this.contexts.length-1];if(directiveNode.rules&&directiveNode.rules.length){directiveNode.rules[0].root=(directiveNode.isRooted||context.length===0||null);}}};module.exports=JoinSelectorVisitor;},{"./visitor":91}],89:[function(require,module,exports){var SetTreeVisibilityVisitor=function(visible){this.visible=visible;};SetTreeVisibilityVisitor.prototype.run=function(root){this.visit(root);};SetTreeVisibilityVisitor.prototype.visitArray=function(nodes){if(!nodes){return nodes;}
var cnt=nodes.length,i;for(i=0;i<cnt;i++){this.visit(nodes[i]);}
return nodes;};SetTreeVisibilityVisitor.prototype.visit=function(node){if(!node){return node;}
if(node.constructor===Array){return this.visitArray(node);}
if(!node.blocksVisibility||node.blocksVisibility()){return node;}
if(this.visible){node.ensureVisibility();}else{node.ensureInvisibility();}
node.accept(this);return node;};module.exports=SetTreeVisibilityVisitor;},{}],90:[function(require,module,exports){var tree=require("../tree"),Visitor=require("./visitor");var CSSVisitorUtils=function(context){this._visitor=new Visitor(this);this._context=context;};CSSVisitorUtils.prototype={containsSilentNonBlockedChild:function(bodyRules){var rule;if(bodyRules==null){return false;}
for(var r=0;r<bodyRules.length;r++){rule=bodyRules[r];if(rule.isSilent&&rule.isSilent(this._context)&&!rule.blocksVisibility()){return true;}}
return false;},keepOnlyVisibleChilds:function(owner){if(owner==null||owner.rules==null){return;}
owner.rules=owner.rules.filter(function(thing){return thing.isVisible();});},isEmpty:function(owner){if(owner==null||owner.rules==null){return true;}
return owner.rules.length===0;},hasVisibleSelector:function(rulesetNode){if(rulesetNode==null||rulesetNode.paths==null){return false;}
return rulesetNode.paths.length>0;},resolveVisibility:function(node,originalRules){if(!node.blocksVisibility()){if(this.isEmpty(node)&&!this.containsSilentNonBlockedChild(originalRules)){return;}
return node;}
var compiledRulesBody=node.rules[0];this.keepOnlyVisibleChilds(compiledRulesBody);if(this.isEmpty(compiledRulesBody)){return;}
node.ensureVisibility();node.removeVisibilityBlock();return node;},isVisibleRuleset:function(rulesetNode){if(rulesetNode.firstRoot){return true;}
if(this.isEmpty(rulesetNode)){return false;}
if(!rulesetNode.root&&!this.hasVisibleSelector(rulesetNode)){return false;}
return true;}};var ToCSSVisitor=function(context){this._visitor=new Visitor(this);this._context=context;this.utils=new CSSVisitorUtils(context);};ToCSSVisitor.prototype={isReplacing:true,run:function(root){return this._visitor.visit(root);},visitRule:function(ruleNode,visitArgs){if(ruleNode.blocksVisibility()||ruleNode.variable){return;}
return ruleNode;},visitMixinDefinition:function(mixinNode,visitArgs){mixinNode.frames=[];},visitExtend:function(extendNode,visitArgs){},visitComment:function(commentNode,visitArgs){if(commentNode.blocksVisibility()||commentNode.isSilent(this._context)){return;}
return commentNode;},visitMedia:function(mediaNode,visitArgs){var originalRules=mediaNode.rules[0].rules;mediaNode.accept(this._visitor);visitArgs.visitDeeper=false;return this.utils.resolveVisibility(mediaNode,originalRules);},visitImport:function(importNode,visitArgs){if(importNode.blocksVisibility()){return;}
return importNode;},visitDirective:function(directiveNode,visitArgs){if(directiveNode.rules&&directiveNode.rules.length){return this.visitDirectiveWithBody(directiveNode,visitArgs);}else{return this.visitDirectiveWithoutBody(directiveNode,visitArgs);}},visitDirectiveWithBody:function(directiveNode,visitArgs){function hasFakeRuleset(directiveNode){var bodyRules=directiveNode.rules;return bodyRules.length===1&&(!bodyRules[0].paths||bodyRules[0].paths.length===0);}
function getBodyRules(directiveNode){var nodeRules=directiveNode.rules;if(hasFakeRuleset(directiveNode)){return nodeRules[0].rules;}
return nodeRules;}
var originalRules=getBodyRules(directiveNode);directiveNode.accept(this._visitor);visitArgs.visitDeeper=false;if(!this.utils.isEmpty(directiveNode)){this._mergeRules(directiveNode.rules[0].rules);}
return this.utils.resolveVisibility(directiveNode,originalRules);},visitDirectiveWithoutBody:function(directiveNode,visitArgs){if(directiveNode.blocksVisibility()){return;}
if(directiveNode.name==="@charset"){if(this.charset){if(directiveNode.debugInfo){var comment=new tree.Comment("/* "+directiveNode.toCSS(this._context).replace(/\n/g,"")+" */\n");comment.debugInfo=directiveNode.debugInfo;return this._visitor.visit(comment);}
return;}
this.charset=true;}
return directiveNode;},checkValidNodes:function(rules,isRoot){if(!rules){return;}
for(var i=0;i<rules.length;i++){var ruleNode=rules[i];if(isRoot&&ruleNode instanceof tree.Rule&&!ruleNode.variable){throw{message:"Properties must be inside selector blocks. They cannot be in the root",index:ruleNode.index,filename:ruleNode.currentFileInfo&&ruleNode.currentFileInfo.filename};}
if(ruleNode instanceof tree.Call){throw{message:"Function '"+ruleNode.name+"' is undefined",index:ruleNode.index,filename:ruleNode.currentFileInfo&&ruleNode.currentFileInfo.filename};}
if(ruleNode.type&&!ruleNode.allowRoot){throw{message:ruleNode.type+" node returned by a function is not valid here",index:ruleNode.index,filename:ruleNode.currentFileInfo&&ruleNode.currentFileInfo.filename};}}},visitRuleset:function(rulesetNode,visitArgs){var rule,rulesets=[];this.checkValidNodes(rulesetNode.rules,rulesetNode.firstRoot);if(!rulesetNode.root){this._compileRulesetPaths(rulesetNode);var nodeRules=rulesetNode.rules,nodeRuleCnt=nodeRules?nodeRules.length:0;for(var i=0;i<nodeRuleCnt;){rule=nodeRules[i];if(rule&&rule.rules){rulesets.push(this._visitor.visit(rule));nodeRules.splice(i,1);nodeRuleCnt--;continue;}
i++;}
if(nodeRuleCnt>0){rulesetNode.accept(this._visitor);}else{rulesetNode.rules=null;}
visitArgs.visitDeeper=false;}else{rulesetNode.accept(this._visitor);visitArgs.visitDeeper=false;}
if(rulesetNode.rules){this._mergeRules(rulesetNode.rules);this._removeDuplicateRules(rulesetNode.rules);}
if(this.utils.isVisibleRuleset(rulesetNode)){rulesetNode.ensureVisibility();rulesets.splice(0,0,rulesetNode);}
if(rulesets.length===1){return rulesets[0];}
return rulesets;},_compileRulesetPaths:function(rulesetNode){if(rulesetNode.paths){rulesetNode.paths=rulesetNode.paths.filter(function(p){var i;if(p[0].elements[0].combinator.value===' '){p[0].elements[0].combinator=new(tree.Combinator)('');}
for(i=0;i<p.length;i++){if(p[i].isVisible()&&p[i].getIsOutput()){return true;}}
return false;});}},_removeDuplicateRules:function(rules){if(!rules){return;}
var ruleCache={},ruleList,rule,i;for(i=rules.length-1;i>=0;i--){rule=rules[i];if(rule instanceof tree.Rule){if(!ruleCache[rule.name]){ruleCache[rule.name]=rule;}else{ruleList=ruleCache[rule.name];if(ruleList instanceof tree.Rule){ruleList=ruleCache[rule.name]=[ruleCache[rule.name].toCSS(this._context)];}
var ruleCSS=rule.toCSS(this._context);if(ruleList.indexOf(ruleCSS)!==-1){rules.splice(i,1);}else{ruleList.push(ruleCSS);}}}}},_mergeRules:function(rules){if(!rules){return;}
var groups={},parts,rule,key;for(var i=0;i<rules.length;i++){rule=rules[i];if((rule instanceof tree.Rule)&&rule.merge){key=[rule.name,rule.important?"!":""].join(",");if(!groups[key]){groups[key]=[];}else{rules.splice(i--,1);}
groups[key].push(rule);}}
Object.keys(groups).map(function(k){function toExpression(values){return new(tree.Expression)(values.map(function(p){return p.value;}));}
function toValue(values){return new(tree.Value)(values.map(function(p){return p;}));}
parts=groups[k];if(parts.length>1){rule=parts[0];var spacedGroups=[];var lastSpacedGroup=[];parts.map(function(p){if(p.merge==="+"){if(lastSpacedGroup.length>0){spacedGroups.push(toExpression(lastSpacedGroup));}
lastSpacedGroup=[];}
lastSpacedGroup.push(p);});spacedGroups.push(toExpression(lastSpacedGroup));rule.value=toValue(spacedGroups);}});},visitAnonymous:function(anonymousNode,visitArgs){if(anonymousNode.blocksVisibility()){return;}
anonymousNode.accept(this._visitor);return anonymousNode;}};module.exports=ToCSSVisitor;},{"../tree":62,"./visitor":91}],91:[function(require,module,exports){var tree=require("../tree");var _visitArgs={visitDeeper:true},_hasIndexed=false;function _noop(node){return node;}
function indexNodeTypes(parent,ticker){var key,child;for(key in parent){if(parent.hasOwnProperty(key)){child=parent[key];switch(typeof child){case"function":if(child.prototype&&child.prototype.type){child.prototype.typeIndex=ticker++;}
break;case"object":ticker=indexNodeTypes(child,ticker);break;}}}
return ticker;}
var Visitor=function(implementation){this._implementation=implementation;this._visitFnCache=[];if(!_hasIndexed){indexNodeTypes(tree,1);_hasIndexed=true;}};Visitor.prototype={visit:function(node){if(!node){return node;}
var nodeTypeIndex=node.typeIndex;if(!nodeTypeIndex){return node;}
var visitFnCache=this._visitFnCache,impl=this._implementation,aryIndx=nodeTypeIndex<<1,outAryIndex=aryIndx|1,func=visitFnCache[aryIndx],funcOut=visitFnCache[outAryIndex],visitArgs=_visitArgs,fnName;visitArgs.visitDeeper=true;if(!func){fnName="visit"+node.type;func=impl[fnName]||_noop;funcOut=impl[fnName+"Out"]||_noop;visitFnCache[aryIndx]=func;visitFnCache[outAryIndex]=funcOut;}
if(func!==_noop){var newNode=func.call(impl,node,visitArgs);if(impl.isReplacing){node=newNode;}}
if(visitArgs.visitDeeper&&node&&node.accept){node.accept(this);}
if(funcOut!=_noop){funcOut.call(impl,node);}
return node;},visitArray:function(nodes,nonReplacing){if(!nodes){return nodes;}
var cnt=nodes.length,i;if(nonReplacing||!this._implementation.isReplacing){for(i=0;i<cnt;i++){this.visit(nodes[i]);}
return nodes;}
var out=[];for(i=0;i<cnt;i++){var evald=this.visit(nodes[i]);if(evald===undefined){continue;}
if(!evald.splice){out.push(evald);}else if(evald.length){this.flatten(evald,out);}}
return out;},flatten:function(arr,out){if(!out){out=[];}
var cnt,i,item,nestedCnt,j,nestedItem;for(i=0,cnt=arr.length;i<cnt;i++){item=arr[i];if(item===undefined){continue;}
if(!item.splice){out.push(item);continue;}
for(j=0,nestedCnt=item.length;j<nestedCnt;j++){nestedItem=item[j];if(nestedItem===undefined){continue;}
if(!nestedItem.splice){out.push(nestedItem);}else if(nestedItem.length){this.flatten(nestedItem,out);}}}
return out;}};module.exports=Visitor;},{"../tree":62}],92:[function(require,module,exports){"use strict";var rawAsap=require("./raw");var freeTasks=[];var pendingErrors=[];var requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);function throwFirstError(){if(pendingErrors.length){throw pendingErrors.shift();}}
module.exports=asap;function asap(task){var rawTask;if(freeTasks.length){rawTask=freeTasks.pop();}else{rawTask=new RawTask();}
rawTask.task=task;rawAsap(rawTask);}
function RawTask(){this.task=null;}
RawTask.prototype.call=function(){try{this.task.call();}catch(error){if(asap.onerror){asap.onerror(error);}else{pendingErrors.push(error);requestErrorThrow();}}finally{this.task=null;freeTasks[freeTasks.length]=this;}};},{"./raw":93}],93:[function(require,module,exports){(function(global){"use strict";module.exports=rawAsap;function rawAsap(task){if(!queue.length){requestFlush();flushing=true;}
queue[queue.length]=task;}
var queue=[];var flushing=false;var requestFlush;var index=0;var capacity=1024;function flush(){while(index<queue.length){var currentIndex=index;index=index+1;queue[currentIndex].call();if(index>capacity){for(var scan=0,newLength=queue.length-index;scan<newLength;scan++){queue[scan]=queue[scan+index];}
queue.length-=index;index=0;}}
queue.length=0;index=0;flushing=false;}
var BrowserMutationObserver=global.MutationObserver||global.WebKitMutationObserver;if(typeof BrowserMutationObserver==="function"){requestFlush=makeRequestCallFromMutationObserver(flush);}else{requestFlush=makeRequestCallFromTimer(flush);}
rawAsap.requestFlush=requestFlush;function makeRequestCallFromMutationObserver(callback){var toggle=1;var observer=new BrowserMutationObserver(callback);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function requestCall(){toggle=-toggle;node.data=toggle;};}
function makeRequestCallFromTimer(callback){return function requestCall(){var timeoutHandle=setTimeout(handleTimer,0);var intervalHandle=setInterval(handleTimer,50);function handleTimer(){clearTimeout(timeoutHandle);clearInterval(intervalHandle);callback();}};}
rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],94:[function(require,module,exports){'use strict';var asap=require('asap/raw');function noop(){}
var LAST_ERROR=null;var IS_ERROR={};function getThen(obj){try{return obj.then;}catch(ex){LAST_ERROR=ex;return IS_ERROR;}}
function tryCallOne(fn,a){try{return fn(a);}catch(ex){LAST_ERROR=ex;return IS_ERROR;}}
function tryCallTwo(fn,a,b){try{fn(a,b);}catch(ex){LAST_ERROR=ex;return IS_ERROR;}}
module.exports=Promise;function Promise(fn){if(typeof this!=='object'){throw new TypeError('Promises must be constructed via new');}
if(typeof fn!=='function'){throw new TypeError('not a function');}
this._45=0;this._81=0;this._65=null;this._54=null;if(fn===noop)return;doResolve(fn,this);}
Promise._10=null;Promise._97=null;Promise._61=noop;Promise.prototype.then=function(onFulfilled,onRejected){if(this.constructor!==Promise){return safeThen(this,onFulfilled,onRejected);}
var res=new Promise(noop);handle(this,new Handler(onFulfilled,onRejected,res));return res;};function safeThen(self,onFulfilled,onRejected){return new self.constructor(function(resolve,reject){var res=new Promise(noop);res.then(resolve,reject);handle(self,new Handler(onFulfilled,onRejected,res));});};function handle(self,deferred){while(self._81===3){self=self._65;}
if(Promise._10){Promise._10(self);}
if(self._81===0){if(self._45===0){self._45=1;self._54=deferred;return;}
if(self._45===1){self._45=2;self._54=[self._54,deferred];return;}
self._54.push(deferred);return;}
handleResolved(self,deferred);}
function handleResolved(self,deferred){asap(function(){var cb=self._81===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){if(self._81===1){resolve(deferred.promise,self._65);}else{reject(deferred.promise,self._65);}
return;}
var ret=tryCallOne(cb,self._65);if(ret===IS_ERROR){reject(deferred.promise,LAST_ERROR);}else{resolve(deferred.promise,ret);}});}
function resolve(self,newValue){if(newValue===self){return reject(self,new TypeError('A promise cannot be resolved with itself.'));}
if(newValue&&(typeof newValue==='object'||typeof newValue==='function')){var then=getThen(newValue);if(then===IS_ERROR){return reject(self,LAST_ERROR);}
if(then===self.then&&newValue instanceof Promise){self._81=3;self._65=newValue;finale(self);return;}else if(typeof then==='function'){doResolve(then.bind(newValue),self);return;}}
self._81=1;self._65=newValue;finale(self);}
function reject(self,newValue){self._81=2;self._65=newValue;if(Promise._97){Promise._97(self,newValue);}
finale(self);}
function finale(self){if(self._45===1){handle(self,self._54);self._54=null;}
if(self._45===2){for(var i=0;i<self._54.length;i++){handle(self,self._54[i]);}
self._54=null;}}
function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==='function'?onFulfilled:null;this.onRejected=typeof onRejected==='function'?onRejected:null;this.promise=promise;}
function doResolve(fn,promise){var done=false;var res=tryCallTwo(fn,function(value){if(done)return;done=true;resolve(promise,value);},function(reason){if(done)return;done=true;reject(promise,reason);})
if(!done&&res===IS_ERROR){done=true;reject(promise,LAST_ERROR);}}},{"asap/raw":93}],95:[function(require,module,exports){'use strict';var Promise=require('./core.js');module.exports=Promise;var TRUE=valuePromise(true);var FALSE=valuePromise(false);var NULL=valuePromise(null);var UNDEFINED=valuePromise(undefined);var ZERO=valuePromise(0);var EMPTYSTRING=valuePromise('');function valuePromise(value){var p=new Promise(Promise._61);p._81=1;p._65=value;return p;}
Promise.resolve=function(value){if(value instanceof Promise)return value;if(value===null)return NULL;if(value===undefined)return UNDEFINED;if(value===true)return TRUE;if(value===false)return FALSE;if(value===0)return ZERO;if(value==='')return EMPTYSTRING;if(typeof value==='object'||typeof value==='function'){try{var then=value.then;if(typeof then==='function'){return new Promise(then.bind(value));}}catch(ex){return new Promise(function(resolve,reject){reject(ex);});}}
return valuePromise(value);};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){if(val&&(typeof val==='object'||typeof val==='function')){if(val instanceof Promise&&val.then===Promise.prototype.then){while(val._81===3){val=val._65;}
if(val._81===1)return res(i,val._65);if(val._81===2)reject(val._65);val.then(function(val){res(i,val);},reject);return;}else{var then=val.then;if(typeof then==='function'){var p=new Promise(then.bind(val));p.then(function(val){res(i,val);},reject);return;}}}
args[i]=val;if(--remaining===0){resolve(args);}}
for(var i=0;i<args.length;i++){res(i,args[i]);}});};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value);});};Promise.race=function(values){return new Promise(function(resolve,reject){values.forEach(function(value){Promise.resolve(value).then(resolve,reject);});});};Promise.prototype['catch']=function(onRejected){return this.then(null,onRejected);};},{"./core.js":94}],96:[function(require,module,exports){if(typeof Promise.prototype.done!=='function'){Promise.prototype.done=function(onFulfilled,onRejected){var self=arguments.length?this.then.apply(this,arguments):this
self.then(null,function(err){setTimeout(function(){throw err},0)})}}},{}],97:[function(require,module,exports){var asap=require('asap');if(typeof Promise==='undefined'){Promise=require('./lib/core.js')
require('./lib/es6-extensions.js')}
require('./polyfill-done.js');},{"./lib/core.js":94,"./lib/es6-extensions.js":95,"./polyfill-done.js":96,"asap":92}]},{},[2])(2)});

_customFooTableArgs={breakpoints:{phone:480,tablet:767}};!function($){var bsButton=$.fn.button.noConflict();$.fn.bsButton=bsButton;$(document).off('click.button.data-api','[data-toggle^=button]');$(document).on('click.button.data-api','[data-toggle^=button]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
$btn.bsButton('toggle')})
$(document).ready(function(){$(".rowCount").each(function(){var count=$(this).text().replace("(","").replace(")","");$(this).text(count);$(this).addClass("pull-right badge");});loadInbox();$("body").swipe({swipeRight:function(event,direction,distance,duration,fingerCount,fingerData){if(!$("body").hasClass("rtl")){var posx=fingerData[0]['start']['x'];if($(".hi-trigger").is(":visible")&&!$("body").hasClass("sidebar-toggled")&&posx<20){$(".hi-trigger").trigger("click");}}else{if($(".ma-backdrop").is(":visible")&&$("body").hasClass("sidebar-toggled")){$(".ma-backdrop").trigger("click");}}},swipeLeft:function(event,direction,distance,duration,fingerCount,fingerData){if(!$("body").hasClass("rtl")){if($(".ma-backdrop").is(":visible")&&$("body").hasClass("sidebar-toggled")){$(".ma-backdrop").trigger("click");}}else{var posx=fingerData[0]['start']['x'];if($(".hi-trigger").is(":visible")&&!$("body").hasClass("sidebar-toggled")&&posx>$(window).width()-20){$(".hi-trigger").trigger("click");}}},preventDefaultEvents:false,fallbackToMouseEvents:false,});var toogleMenu=function(menu){if($(menu).parent().css("display")!=="none"){$(menu).next().slideToggle(200);$(menu).parent().toggleClass("toggled");}};var initMenu=function(){$("#sidebar a.dropdown").each(function(){if($(this).parent().hasClass("active")){toogleMenu(this);}});$("#sidebar a.dropdown").on("click",function(e){toogleMenu(this);e.preventDefault();e.stopPropagation();});};initMenu();var originalHash='';$("#sidebar-trigger").on("click",function(){originalHash=location.hash.replace('#','');$(window).bind('hashchange.menu',function(event){var hash=location.hash.replace('#','');if(hash!=='menu'&&$(".ma-backdrop").is(":visible")&&$("body").hasClass("sidebar-toggled")){$(".ma-backdrop").trigger("click");}});$("body").on("click.sidebar-toggled",function(e){var container=$("#sidebar");if($(".ma-backdrop").is(":visible")&&$("body").hasClass("sidebar-toggled")&&!$("#sidebar-trigger").is(e.target)&&$("#sidebar-trigger").has(e.target).length===0&&!container.is(e.target)&&container.has(e.target).length===0){$("body").removeClass("sidebar-toggled");$(".ma-backdrop").remove();$("#sidebar, #sidebar-trigger").removeClass("toggled");$("body").off(".sidebar-toggled");$(window).unbind('hashchange.menu');location.hash=originalHash;return false;}});var backdrop='<div class="ma-backdrop" />';$("body").addClass("sidebar-toggled");$("header.navbar").append(backdrop);$(this).addClass("toggled");$("#sidebar").addClass("toggled");location.hash='menu';});if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){$("html").addClass("ismobile");}
$(document).ready(function(){Waves.init();attachButtonEffect();setTimeout(function(){$(".page-loader").fadeOut(100);},0);});setTimeout(function(){$(".page-loader").fadeOut(100);},5000);var scrollBar=function(selector,theme,mousewheelaxis){$(selector).mCustomScrollbar({theme:theme,scrollInertia:100,axis:"mousewheelaxis",mouseWheel:{enable:!0,axis:mousewheelaxis,preventDefault:!0}});};if($("#sidebar").length>0){scrollBar("#sidebar","minimal-dark","y");}
if($(".c-overflow").length>0){scrollBar(".c-overflow","minimal-dark","y");}
$(".dataList table").on("footable_row_detail_updated",function(event){attachButtonEffect();});if($(".dataList .pagelinks a").length===0){$(".dataList .pagelinks").hide();}
$(".filter-cell select").on("change",function(){if($(this).val()===""){$(this).addClass("emptyValue");}else{$(this).removeClass("emptyValue");}});$(".filter-cell select").each(function(){if($(this).val()===""){$(this).addClass("emptyValue");}else{$(this).removeClass("emptyValue");}});initTextareaAutoHeight();});function onFormChange(){$(document).on("change","form *",function(){attachButtonEffect();initTextareaAutoHeight();});}
function initTextareaAutoHeight(){$("textarea").each(function(){textareaAutoHeight(this);});$(document).off("input keydown keyup","textarea");$(document).on("input keydown keyup","textarea",function(){textareaAutoHeight(this);});}
function textareaAutoHeight(e){var scrollLeft=window.pageXOffset||(document.documentElement||document.body.parentNode||document.body).scrollLeft;var scrollTop=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop;$(e).attr("rows",1).css({'height':'auto','overflow-y':'hidden'}).height(e.scrollHeight);window.scrollTo(scrollLeft,scrollTop);}
function attachButtonEffect(){setTimeout(function(){Waves.attach('.btn:not(.waves-button), .form-button:not(.waves-button), button:not(.waves-button), input[type=button]:not(.waves-button), input[type=reset]:not(.waves-button), input[type=submit]:not(.waves-button)',['btn','waves-button','waves-float']);},500);}
function loadInbox(){if($(".inbox-notification").length===1){loadInboxData();$(".inbox-notification .refresh").on("click",function(e){e.preventDefault();loadInboxData();return false;});}}
function loadInboxData(){$(".inbox-notification .loading").show();var url=$(".inbox-notification").data("url");$.getJSON(url,{},function(data){var count=0;if(data.count!==undefined){count=data.count;}
$(".inbox-notification > a > .badge").text(count);$(".inbox-notification .dropdown-menu-title .count").text(count);$(".inbox-notification > ul > li.task").remove();if(data.data){var footer=$(".inbox-notification > ul .dropdown-menu-sub-footer").parent();var link=$(".inbox-notification > ul .dropdown-menu-sub-footer").attr("href");$.each(data.data,function(i,d){var html="<li class=\"task\"><a href=\""+link+"?_mode=assignment&activityId="+d.activityId+"\">";html+="<span class=\"header\">"+d.activityName+"</span>";html+="<span class=\"message\">"+d.processName+"</span><span class=\"time\">"+d.dateCreated+"</span>";html+="</a></li>";footer.before($(html));});}
$(".inbox-notification .loading").hide();});}
$(window).on('beforeunload',function(){if($("html.ismobile").length>0){$(".page-loader").fadeIn(100);}});$(function(){if(window.self!==window.top){$("#responsiveSwitch").hide();}});}(window.jQuery);
